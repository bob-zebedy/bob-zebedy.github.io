<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Cloudflare Workers é€šç”¨ Turnstile éªŒè¯æ¨¡å—</title>
    <url>/post/7b67508c.html</url>
    <content><![CDATA[<p>æœ€è¿‘ä½¿ç”¨ Cloudflare Workers å®ç°äº†ä¸€ä¸ª<span class="exturl" data-url="aHR0cHM6Ly9jbG91ZC1ub3RlLmFwcC8=">åœ¨çº¿ç¬”è®°æœ¬<i class="fa fa-external-link-alt"></i></span> å’Œ <span class="exturl" data-url="aHR0cHM6Ly85bG5rLmlvLw==">çŸ­é“¾æ¥æœåŠ¡<i class="fa fa-external-link-alt"></i></span> åˆ†åˆ«ä½¿ç”¨äº† <code>Cloudflare KV</code> å’Œ <code>Cloudflare D1</code> è¿›è¡Œæ•°æ®å­˜å‚¨ï¼Œæ ¹æ® <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmNsb3VkZmxhcmUuY29tL2t2L3BsYXRmb3JtL3ByaWNpbmcv">Cloudflare KV å®šä»·æ–‡æ¡£<i class="fa fa-external-link-alt"></i></span> å…è´¹è®¡åˆ’æ¯å¤©æ˜¯æœ‰æ¬¡æ•°é™åˆ¶çš„ã€‚ä¸ºäº†é¿å…äº’è”ç½‘ä¸Šå„ç§æ‰«æå™¨çš„è¯·æ±‚å¯¼è‡´æ¶ˆè€—é™é¢ï¼Œå°±éœ€è¦è¿‡æ»¤ä¸€æ³¢éäººç±»è¯·æ±‚äº†ã€‚</p>
<span id="more"></span>

<p>è€Œåœ¨ä¸ä¹…å‰ï¼Œæˆ‘åˆšåˆšä½¿ç”¨ <code>Cloudflare Turnstile</code> ç»™åšå®¢å¢åŠ äº†ä¸€ä¸‹äººå·¥éªŒè¯ï¼Œå¯ä»¥å¦‚æ³•ç‚®åˆ¶ç»™è¿™ä¸ªä¹ŸåŠ ä¸Šã€‚ä½†æ˜¯ä»¥åæ¯ä¸€ä¸ª <code>worker</code> æƒ³è¿˜ç”¨éªŒè¯éƒ½éœ€è¦é‡å¤æ·»åŠ  <code>Turnstile</code> çš„ä»£ç ï¼Œæ‰€ä»¥å°±æŠŠè¿™ä¸ªé€»è¾‘ç»™æŠ½å‡ºæ¥ç»„æˆä¸€ä¸ªå•ç‹¬çš„æ¨¡å—äº†ã€‚</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Cloudflare Workers é€šç”¨ Turnstile éªŒè¯æ¨¡å—</span></span><br><span class="line"><span class="comment"> * æä¾›å®Œæ•´çš„ Turnstile éªŒè¯ã€JWT Token ç®¡ç†å’Œ Cookie å¤„ç†åŠŸèƒ½</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤é…ç½®</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">DEFAULT_CONFIG</span> = &#123;</span><br><span class="line">  <span class="attr">TURNSTILE_URL</span>: <span class="string">&quot;https://challenges.cloudflare.com/turnstile/v0/siteverify&quot;</span>,</span><br><span class="line">  <span class="attr">TURNSTILE_EXPIRE</span>: <span class="number">3600</span>,</span><br><span class="line">  <span class="attr">JWT_ALGORITHM</span>: <span class="string">&quot;HS256&quot;</span>,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”Ÿæˆ JWT Token</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; <span class="variable">payload</span> - JWT payload</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">secret</span> - JWT secret key</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> &#123;<span class="type">Promise&lt;string&gt;</span>&#125; JWT token</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">generateToken</span>(<span class="params">payload, secret</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> header = <span class="title function_">btoa</span>(</span><br><span class="line">    <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; <span class="attr">alg</span>: <span class="variable constant_">DEFAULT_CONFIG</span>.<span class="property">JWT_ALGORITHM</span>, <span class="attr">typ</span>: <span class="string">&quot;JWT&quot;</span> &#125;)</span><br><span class="line">  ).<span class="title function_">replace</span>(<span class="regexp">/=/g</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> encodedPayload = <span class="title function_">btoa</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(payload)).<span class="title function_">replace</span>(<span class="regexp">/=/g</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> data = <span class="string">`<span class="subst">$&#123;header&#125;</span>.<span class="subst">$&#123;encodedPayload&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> key = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">importKey</span>(</span><br><span class="line">    <span class="string">&quot;raw&quot;</span>,</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">TextEncoder</span>().<span class="title function_">encode</span>(secret),</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&quot;HMAC&quot;</span>, <span class="attr">hash</span>: <span class="string">&quot;SHA-256&quot;</span> &#125;,</span><br><span class="line">    <span class="literal">false</span>,</span><br><span class="line">    [<span class="string">&quot;sign&quot;</span>]</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> signature = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">sign</span>(</span><br><span class="line">    <span class="string">&quot;HMAC&quot;</span>,</span><br><span class="line">    key,</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">TextEncoder</span>().<span class="title function_">encode</span>(data)</span><br><span class="line">  );</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;data&#125;</span>.<span class="subst">$&#123;btoa(</span></span></span><br><span class="line"><span class="subst"><span class="string">    <span class="built_in">String</span>.fromCharCode(...<span class="keyword">new</span> <span class="built_in">Uint8Array</span>(signature))</span></span></span><br><span class="line"><span class="subst"><span class="string">  ).replace(/=/g, <span class="string">&quot;&quot;</span>)&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * éªŒè¯ JWT Token</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">token</span> - JWT token</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">secret</span> - JWT secret key</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> &#123;<span class="type">Promise&lt;boolean&gt;</span>&#125; éªŒè¯ç»“æœï¼ˆtrue è¡¨ç¤ºæœ‰æ•ˆï¼Œfalse è¡¨ç¤ºæ— æ•ˆï¼‰</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">verifyToken</span>(<span class="params">token, secret</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`JWT Token è·å–: <span class="subst">$&#123;token&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> [header, payload, signature] = token.<span class="title function_">split</span>(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!header || !payload || !signature) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> data = <span class="string">`<span class="subst">$&#123;header&#125;</span>.<span class="subst">$&#123;payload&#125;</span>`</span>;</span><br><span class="line">    <span class="keyword">const</span> key = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">importKey</span>(</span><br><span class="line">      <span class="string">&quot;raw&quot;</span>,</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">TextEncoder</span>().<span class="title function_">encode</span>(secret),</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;HMAC&quot;</span>, <span class="attr">hash</span>: <span class="string">&quot;SHA-256&quot;</span> &#125;,</span><br><span class="line">      <span class="literal">false</span>,</span><br><span class="line">      [<span class="string">&quot;verify&quot;</span>]</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> expectedSignature = <span class="title class_">Uint8Array</span>.<span class="title function_">from</span>(</span><br><span class="line">      <span class="title function_">atob</span>(signature + <span class="string">&quot;===&quot;</span>.<span class="title function_">substring</span>(<span class="number">0</span>, (<span class="number">4</span> - (signature.<span class="property">length</span> % <span class="number">4</span>)) % <span class="number">4</span>)),</span><br><span class="line">      <span class="function">(<span class="params">c</span>) =&gt;</span> c.<span class="title function_">charCodeAt</span>(<span class="number">0</span>)</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> isValid = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">verify</span>(</span><br><span class="line">      <span class="string">&quot;HMAC&quot;</span>,</span><br><span class="line">      key,</span><br><span class="line">      expectedSignature,</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">TextEncoder</span>().<span class="title function_">encode</span>(data)</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`JWT Token æœ‰æ•ˆ: <span class="subst">$&#123;isValid&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">if</span> (!isValid) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> decodedPayload = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(</span><br><span class="line">      <span class="title function_">atob</span>(payload + <span class="string">&quot;===&quot;</span>.<span class="title function_">substring</span>(<span class="number">0</span>, (<span class="number">4</span> - (payload.<span class="property">length</span> % <span class="number">4</span>)) % <span class="number">4</span>))</span><br><span class="line">    );</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`JWT Token è§£ç : <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(decodedPayload)&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> isExpired = decodedPayload.<span class="property">exp</span> &gt; <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>() / <span class="number">1000</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`JWT Token è¿‡æœŸ: <span class="subst">$&#123;!isExpired&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> isExpired;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`JWT Token å¤±è´¥: <span class="subst">$&#123;e&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * éªŒè¯ Turnstile Response</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">response</span> - Turnstile response token</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">remoteip</span> - å®¢æˆ·ç«¯ IP</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">secretKey</span> - Turnstile secret key</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> &#123;<span class="type">Promise&lt;boolean&gt;</span>&#125; éªŒè¯ç»“æœï¼ˆtrue è¡¨ç¤ºæœ‰æ•ˆï¼Œfalse è¡¨ç¤ºæ— æ•ˆï¼‰</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">verifyTurnstile</span>(<span class="params">response, remoteip, secretKey</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Turnstile è´¨è¯¢: <span class="subst">$&#123;remoteip&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">const</span> formData = <span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line">  formData.<span class="title function_">append</span>(<span class="string">&quot;secret&quot;</span>, secretKey);</span><br><span class="line">  formData.<span class="title function_">append</span>(<span class="string">&quot;response&quot;</span>, response);</span><br><span class="line">  formData.<span class="title function_">append</span>(<span class="string">&quot;remoteip&quot;</span>, remoteip);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> result = <span class="title function_">await</span> (</span><br><span class="line">    <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="variable constant_">DEFAULT_CONFIG</span>.<span class="property">TURNSTILE_URL</span>, &#123;</span><br><span class="line">      <span class="attr">method</span>: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">      <span class="attr">body</span>: formData,</span><br><span class="line">    &#125;)</span><br><span class="line">  ).<span class="title function_">json</span>();</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Turnstile ç»“æœ: <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(result)&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">return</span> result.<span class="property">success</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ£€æŸ¥è¯·æ±‚æ˜¯å¦å·²é€šè¿‡éªŒè¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Request</span>&#125; <span class="variable">request</span> - è¯·æ±‚å¯¹è±¡</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">cookieName</span> - Cookieå ç§°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">jwtSecret</span> - JWT secret key</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> &#123;<span class="type">Promise&lt;boolean&gt;</span>&#125; éªŒè¯ç»“æœï¼ˆtrue è¡¨ç¤ºæœ‰æ•ˆï¼Œfalse è¡¨ç¤ºæ— æ•ˆï¼‰</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">isVerified</span>(<span class="params">request, cookieName, jwtSecret</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> cookie = request.<span class="property">headers</span>.<span class="title function_">get</span>(<span class="string">&quot;Cookie&quot;</span>) || <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> match = cookie.<span class="title function_">match</span>(<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="string">`<span class="subst">$&#123;cookieName&#125;</span>=([^;]+)`</span>));</span><br><span class="line">  <span class="keyword">return</span> match ? <span class="keyword">await</span> <span class="title function_">verifyToken</span>(match[<span class="number">1</span>], jwtSecret) : <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”Ÿæˆ Turnstile éªŒè¯é¡µé¢ HTML</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">Object</span>&#125; <span class="variable">options</span> - é…ç½®é€‰é¡¹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; options.siteKey - Turnstile site key</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; [options.title] - é¡µé¢æ ‡é¢˜</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; [options.logo] - Logoæ–‡æœ¬</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; [options.description] - æè¿°æ–‡æœ¬</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> &#123;<span class="type">string</span>&#125; HTMLå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getTurnstileHTML</span>(<span class="params">&#123;</span></span><br><span class="line"><span class="params">  siteKey,</span></span><br><span class="line"><span class="params">  title = <span class="string">&quot;å®‰å…¨éªŒè¯&quot;</span>,</span></span><br><span class="line"><span class="params">  logo = <span class="string">&quot;ğŸ”’&quot;</span>,</span></span><br><span class="line"><span class="params">  description = <span class="string">&quot;è¯·å®Œæˆä»¥ä¸‹éªŒè¯åç»§ç»­ä½¿ç”¨&quot;</span>,</span></span><br><span class="line"><span class="params">&#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="string">&lt;html&gt;&lt;head&gt;&lt;meta charset=&quot;utf-8&quot;&gt;&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;&lt;title&gt;<span class="subst">$&#123;title&#125;</span>&lt;/title&gt;</span></span><br><span class="line"><span class="string">&lt;script src=&quot;https://challenges.cloudflare.com/turnstile/v0/api.js&quot; async defer&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;style&gt;</span></span><br><span class="line"><span class="string">body&#123;font-family:system-ui;background:linear-gradient(135deg,#667eea,#764ba2);margin:0;padding:0;min-height:100vh;display:flex;align-items:center;justify-content:center&#125;</span></span><br><span class="line"><span class="string">.container&#123;background:white;border-radius:12px;box-shadow:0 8px 32px rgba(0,0,0,0.1);padding:40px;width:400px;text-align:center&#125;</span></span><br><span class="line"><span class="string">.logo&#123;font-size:24px;font-weight:bold;color:#333;margin-bottom:24px&#125;</span></span><br><span class="line"><span class="string">.title&#123;color:#333;margin-bottom:16px;font-size:18px&#125;</span></span><br><span class="line"><span class="string">.description&#123;color:#666;margin-bottom:24px;font-size:14px&#125;</span></span><br><span class="line"><span class="string">.turnstile-container&#123;display:flex;justify-content:center;margin:20px 0;min-height:65px&#125;</span></span><br><span class="line"><span class="string">&lt;/style&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;&lt;body&gt;&lt;div class=&quot;container&quot;&gt;&lt;div class=&quot;logo&quot;&gt;<span class="subst">$&#123;logo&#125;</span>&lt;/div&gt;&lt;h2 class=&quot;title&quot;&gt;<span class="subst">$&#123;title&#125;</span>&lt;/h2&gt;&lt;p class=&quot;description&quot;&gt;<span class="subst">$&#123;description&#125;</span>&lt;/p&gt;</span></span><br><span class="line"><span class="string">&lt;form method=&quot;POST&quot;&gt;&lt;div class=&quot;turnstile-container&quot;&gt;&lt;div class=&quot;cf-turnstile&quot; data-sitekey=&quot;<span class="subst">$&#123;siteKey&#125;</span>&quot; data-callback=&quot;onSuccess&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/form&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;script&gt;function onSuccess()&#123;document.querySelector(&#x27;form&#x27;).submit();&#125;&lt;/script&gt;&lt;/body&gt;&lt;/html&gt;`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è®¾ç½®éªŒè¯æˆåŠŸçš„å“åº”</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">targetPath</span> - é‡å®šå‘ç›®æ ‡è·¯å¾„</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">cookieName</span> - Cookieåç§°</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">string</span>&#125; <span class="variable">jwtSecret</span> - JWT secret key</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &#123;<span class="type">number</span>&#125; [expireTime] - è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@returns</span> &#123;<span class="type">Promise&lt;Response&gt;</span>&#125; é‡å®šå‘å“åº”</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">setSuccessResponse</span>(<span class="params"></span></span><br><span class="line"><span class="params">  targetPath,</span></span><br><span class="line"><span class="params">  cookieName,</span></span><br><span class="line"><span class="params">  jwtSecret,</span></span><br><span class="line"><span class="params">  expireTime</span></span><br><span class="line"><span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> payload = &#123;</span><br><span class="line">    <span class="attr">verified</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">iat</span>: <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>() / <span class="number">1000</span>),</span><br><span class="line">    <span class="attr">exp</span>: <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>() / <span class="number">1000</span>) + expireTime,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> token = <span class="keyword">await</span> <span class="title function_">generateToken</span>(payload, jwtSecret);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Cookie è®¾ç½®: <span class="subst">$&#123;token&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">&quot;&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">302</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="title class_">Location</span>: targetPath,</span><br><span class="line">      <span class="string">&quot;Set-Cookie&quot;</span>: <span class="string">`<span class="subst">$&#123;cookieName&#125;</span>=<span class="subst">$&#123;token&#125;</span>; Path=/; Max-Age=<span class="subst">$&#123;expireTime&#125;</span>; HttpOnly; SameSite=Lax; Secure`</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Turnstile éªŒè¯ä¸­é—´ä»¶</span></span><br><span class="line"><span class="comment"> * ä½¿ç”¨ç¤ºä¾‹ï¼š</span></span><br><span class="line"><span class="comment"> * ```javascript</span></span><br><span class="line"><span class="comment"> * import &#123; turnstileMiddleware &#125; from &#x27;./shared/turnstile-auth.js&#x27;;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * const turnstileAuth = turnstileMiddleware(&#123;</span></span><br><span class="line"><span class="comment"> *   cookieName: &#x27;my_app_verified&#x27;,</span></span><br><span class="line"><span class="comment"> *   logo: &#x27;ğŸ“ MyApp&#x27;,</span></span><br><span class="line"><span class="comment"> *   skipPaths: [&#x27;/api/public&#x27;]</span></span><br><span class="line"><span class="comment"> * &#125;);</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * export default &#123;</span></span><br><span class="line"><span class="comment"> *   async fetch(request, env) &#123;</span></span><br><span class="line"><span class="comment"> *     const authResult = await turnstileAuth(request, env);</span></span><br><span class="line"><span class="comment"> *     if (authResult) return authResult;</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> *     // éªŒè¯é€šè¿‡ï¼Œå¤„ç†ä¸šåŠ¡é€»è¾‘</span></span><br><span class="line"><span class="comment"> *     return new Response(&#x27;Hello World&#x27;);</span></span><br><span class="line"><span class="comment"> *   &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> * ```</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ç¯å¢ƒå˜é‡é…ç½®ï¼š</span></span><br><span class="line"><span class="comment"> * - TURNSTILE_SITE_KEY: Turnstile ç«™ç‚¹ Key</span></span><br><span class="line"><span class="comment"> * - TURNSTILE_SECRET_KEY: Turnstile ç«™ç‚¹å¯†é’¥</span></span><br><span class="line"><span class="comment"> * - TURNSTILE_EXPIRE: Turnstile è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰ï¼Œé»˜è®¤ 3600ï¼ˆ1å°æ—¶ï¼‰</span></span><br><span class="line"><span class="comment"> * - JWT_SECRET: JWT ç­¾åå¯†é’¥</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">function</span> <span class="title function_">turnstileMiddleware</span>(<span class="params">options = &#123;&#125;</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123;</span><br><span class="line">    cookieName = <span class="string">&quot;app_verified&quot;</span>,</span><br><span class="line">    logo = <span class="string">&quot;ğŸ”’&quot;</span>,</span><br><span class="line">    title = <span class="string">&quot;å®‰å…¨éªŒè¯&quot;</span>,</span><br><span class="line">    description = <span class="string">&quot;è¯·å®Œæˆä»¥ä¸‹éªŒè¯åç»§ç»­ä½¿ç”¨&quot;</span>,</span><br><span class="line">    skipPaths = [],</span><br><span class="line">    skipMethods = [<span class="string">&quot;OPTIONS&quot;</span>],</span><br><span class="line">  &#125; = options;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">turnstileAuth</span>(<span class="params">request, env</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> url = <span class="keyword">new</span> <span class="title function_">URL</span>(request.<span class="property">url</span>);</span><br><span class="line">    <span class="keyword">const</span> &#123; pathname, search &#125; = url;</span><br><span class="line">    <span class="keyword">const</span> &#123; method &#125; = request;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (</span><br><span class="line">      skipMethods.<span class="title function_">includes</span>(method) ||</span><br><span class="line">      skipPaths.<span class="title function_">some</span>(<span class="function">(<span class="params">path</span>) =&gt;</span> pathname.<span class="title function_">startsWith</span>(path))</span><br><span class="line">    ) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!(<span class="keyword">await</span> <span class="title function_">isVerified</span>(request, cookieName, env.<span class="property">JWT_SECRET</span>))) &#123;</span><br><span class="line">      <span class="keyword">if</span> (method === <span class="string">&quot;POST&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> formData = <span class="keyword">await</span> request.<span class="title function_">formData</span>();</span><br><span class="line">        <span class="keyword">const</span> remoteip = request.<span class="property">headers</span>.<span class="title function_">get</span>(<span class="string">&quot;CF-Connecting-IP&quot;</span>);</span><br><span class="line">        <span class="keyword">const</span> response = formData.<span class="title function_">get</span>(<span class="string">&quot;cf-turnstile-response&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (</span><br><span class="line">          <span class="keyword">await</span> <span class="title function_">verifyTurnstile</span>(response, remoteip, env.<span class="property">TURNSTILE_SECRET_KEY</span>)</span><br><span class="line">        ) &#123;</span><br><span class="line">          <span class="keyword">const</span> expireTime =</span><br><span class="line">            <span class="built_in">parseInt</span>(env.<span class="property">TURNSTILE_EXPIRE</span>) || <span class="variable constant_">DEFAULT_CONFIG</span>.<span class="property">TURNSTILE_EXPIRE</span>;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">await</span> <span class="title function_">setSuccessResponse</span>(</span><br><span class="line">            pathname + search,</span><br><span class="line">            cookieName,</span><br><span class="line">            env.<span class="property">JWT_SECRET</span>,</span><br><span class="line">            expireTime</span><br><span class="line">          );</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">&quot;éªŒè¯å¤±è´¥&quot;</span>, &#123; <span class="attr">status</span>: <span class="number">403</span> &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;è·³è½¬ Turnstile é¡µé¢&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(</span><br><span class="line">        <span class="title function_">getTurnstileHTML</span>(&#123;</span><br><span class="line">          <span class="attr">siteKey</span>: env.<span class="property">TURNSTILE_SITE_KEY</span>,</span><br><span class="line">          title,</span><br><span class="line">          logo,</span><br><span class="line">          description,</span><br><span class="line">        &#125;),</span><br><span class="line">        &#123;</span><br><span class="line">          <span class="attr">headers</span>: &#123; <span class="string">&quot;content-type&quot;</span>: <span class="string">&quot;text/html; charset=utf-8&quot;</span> &#125;,</span><br><span class="line">        &#125;</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨èµ·æ¥ä¹Ÿå¾ˆæ–¹ä¾¿ï¼Œåªéœ€è¦å°†ä»¥ä¸Šä»£ç ä¿å­˜æ‰¾ä¸€ä¸ªåˆé€‚çš„ä½ç½®ï¼Œåœ¨ <code>worker</code> ä»£ç ä¸­å¼•ç”¨ï¼Œå¹¶ä¸”é€šè¿‡åœ¨ <code>wrangler.jsonc</code> ä¸­è®¾ç½® <code>TURNSTILE_SITE_KEY</code>(å¿…é¡») <code>TURNSTILE_SECRET_KEY</code>(å¿…é¡») <code>JWT_SECRET</code>(å¿…é¡») <code>TURNSTILE_EXPIRE</code>(å¯é€‰) è¿™å‡ ä¸ªç¯å¢ƒå˜é‡ï¼Œå‰©ä¸‹çš„æŒ‰ç…§ä»£ç ä¸­çš„ç¤ºä¾‹ä½¿ç”¨å³å¯ã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>Cloudflare è®¾ç½®å¼•ç”¨ç«™ç‚¹ç­–ç•¥</title>
    <url>/post/e6a2e300.html</url>
    <content><![CDATA[<p>å‰å‡ æ—¥ï¼ŒæŠŠæˆ‘çš„åšå®¢éƒ¨ç½²åœ¨ <code>Cloudflare Pages</code> ä¸Šé¢äº†ã€‚åŒæ—¶ç»‘å®šäº†ä¸€ä¸ªæ‰˜ç®¡åœ¨ <code>Cloudflare</code> ä¸Šé¢çš„åŸŸåï¼Œåˆ°è¿™é‡Œä¸€åˆ‡é¡ºåˆ©ã€‚<br>ä½†æ˜¯å½“æˆ‘å…´è‡´å‹ƒå‹ƒçš„æ‰“å¼€åšå®¢çš„æ—¶å€™å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œä¸ºä»€ä¹ˆå›¾ç‰‡å…¨ 403 äº†ï¼Ÿ</p>
<span id="more"></span>

<p>ä¸€å¼€å§‹æƒ³åˆ°äº†å¯èƒ½æ˜¯æˆ‘çš„ <code>OSS</code> é˜²ç›—é“¾ã€‚è·‘å»çœ‹äº†ä¸€ä¸‹ï¼Œæˆ‘å·²ç»æ·»åŠ äº†å¯¹åº”çš„ <code>Referer</code> åŸŸåã€‚ä¸€å¼€å§‹è¿˜ä»¥ä¸ºæ˜¯æ·»åŠ  <code>Referer</code> ç”Ÿæ•ˆéœ€è¦æ—¶é—´ï¼Œäºæ˜¯ä¹è¿‡äº†å‡ ä¸ªå°æ—¶å†æ‰“å¼€é—®é¢˜ä¾æ—§ã€‚<br>æœ€è¯¡å¼‚çš„æ˜¯ï¼Œæ‰“å¼€ <code>Cloudflare Pages</code> é»˜è®¤çš„ <code>pages.dev</code> åŸŸåçš„æ—¶å€™ï¼Œå›¾ç‰‡å°±æ˜¯æ­£å¸¸çš„ã€‚æ’æŸ¥äº†ä¸€ä¸‹ï¼Œç„¶åå°±å‘ç°äº†ç«¯å€ªã€‚<br>é—®é¢˜æ¥è‡ªé€šè¿‡ç»‘å®šçš„è‡ªå®šä¹‰åŸŸåè®¿é—®çš„æ—¶å€™ï¼Œå›¾ç‰‡è¯·æ±‚çš„ Header ä¸­æ²¡æœ‰ <code>Referer</code> å­—æ®µã€‚ä¼—æ‰€å‘¨çŸ¥ï¼Œæ‰€è°“çš„é˜²ç›—é“¾å…¶å®å°±æ˜¯æ£€æŸ¥ <code>Referer</code> å­—æ®µæ˜¯ä¸æ˜¯åœ¨ç™½åå•ä¸­ã€‚é‚£ä¹ˆé—®é¢˜æ¥è¿™äº†ï¼Œä¸ºä»€ä¹ˆ <code>pages.dev</code> åŸŸåä¸­è¯·æ±‚å›¾ç‰‡æœ‰ <code>Referer</code> ä½†æ˜¯è‡ªå®šä¹‰åŸŸåæ²¡æœ‰ï¼Ÿ<br>å†æ¬¡ç¨åŠ è§‚å¯Ÿå‘ç°äº†ä¸€ä¸ªç°è±¡</p>
<img data-src="https://images.zabrian.com/538e6269-12f2-4f3a-0bf1-bf030ba01501/origin" title="è‡ªå®šä¹‰åŸŸå" style="zoom:18%;" />

<img data-src="https://images.zabrian.com/a95cabc7-4b98-47be-7bdb-bc59cbb46101/origin" title="pages.dev åŸŸå" style="zoom:21%;" />

<p>åŸå› å°±åœ¨è¿™é‡Œ</p>
<ul>
<li>è‡ªå®šä¹‰åŸŸåçš„å¼•ç”¨ç«™ç‚¹ç­–ç•¥ä¸º <code>same-origin</code></li>
<li>pages.dev åŸŸåçš„å¼•ç”¨ç«™ç‚¹ç­–ç•¥ä¸º <code>strict-origin-when-cross-origin</code></li>
</ul>
<p>å°±æ˜¯å› ä¸ºæµè§ˆå™¨çš„ <strong>åŒæºç­–ç•¥(Same-Origin Policy)</strong> å› æ­¤è‡ªå®šä¹‰åŸŸåçš„è¯·æ±‚å›¾ç‰‡çš„æ—¶å€™æœªå¸¦ä¸Š <code>Referer</code><br>æ—¢ç„¶é—®é¢˜çŸ¥é“äº†ï¼Œå°±å¯ä»¥è§£å†³äº†ï¼šåªéœ€è¦ä¿®æ”¹ä¸€ä¸‹è‡ªå®šä¹‰åŸŸåçš„è¯·æ±‚å¤´å°±è¡Œäº†ã€‚  </p>
<ol>
<li>æ‰“å¼€ Cloudflare æ§åˆ¶å°ï¼Œé€‰æ‹©å¯¹åº”çš„åŸŸå</li>
<li>ä¾§è¾¹æ é€‰æ‹© <strong>è§„åˆ™</strong> â†’ <strong>åˆ›å»ºè§„åˆ™</strong> â†’ <strong>å“åº”å¤´è½¬æ¢è§„åˆ™</strong></li>
<li>é€‰æ‹© <strong>å‘å“åº”æ·»åŠ é™æ€æ ‡å¤´</strong> æ¨¡æ¿</li>
<li>é€‰æ‹© <strong>è‡ªå®šä¹‰ç­›é€‰è¡¨è¾¾å¼</strong></li>
<li>ç¼–è¾‘è¡¨è¾¾å¼ <code>(http.request.full_uri wildcard &quot;https://è¿™é‡Œå¡«å†™ä½ è‡ªå·±çš„åŸŸå/*&quot;)</code></li>
<li>è§„åˆ™ <strong>æ·»åŠ é™æ€å“åº”å¤´</strong><ul>
<li><code>cross-origin-resource-policy = cross-origin</code></li>
<li><code>referrer-policy = strict-origin-when-cross-origin</code></li>
</ul>
</li>
</ol>
<p>è¿™æ ·å°±å¯ä»¥äº†ï¼Œæ­¤æ—¶å†è®¿é—®è‡ªå®šä¹‰åŸŸåï¼Œå‘ç°å›¾ç‰‡å°±æ­£å¸¸æºå¸¦äº† <code>Referer</code></p>
]]></content>
  </entry>
  <entry>
    <title>Cloudflare ä½¿ç”¨ Workers å»ºç«‹ Images ä»£ç†</title>
    <url>/post/ec93b507.html</url>
    <content><![CDATA[<p>æœ€æ—©è¿™ä¸ªåšå®¢æ˜¯æ‰˜ç®¡åœ¨ GitHub pages ä¸Šçš„ï¼Œç»‘å®šçš„åŸŸåæ˜¯åœ¨é˜¿é‡Œäº‘æ³¨å†Œçš„ï¼Œå‡ ä¸ªæœˆå‰å¶ç„¶ä¸€æ¬¡æœºä¼šï¼Œåœ¨ Cloudflare ä¸Šæ³¨å†Œäº†ä¸€ä¸ªè‡ªå·±å–œæ¬¢çš„åŸŸåã€‚äºæ˜¯å°±ä¹Ÿé€šè¿‡ Cloudflare pages æ‰˜ç®¡äº†ç›¸åŒçš„ GitHub pages ä»“åº“ï¼Œå› æ­¤ç›®å‰ä½¿ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLnphYnJpYW4uY29tLw==">Cloudflare pages<i class="fa fa-external-link-alt"></i></span> æˆ–è€… <a href="https://blog.zebedy.com/">GitHub pages</a> å‡å¯è®¿é—®ï¼Œå†…å®¹éƒ½æ¥è‡ªåŒä¸€ä¸ª GitHub repo</p>
<span id="more"></span>

<h1 id="ä½¿ç”¨-Images"><a href="#ä½¿ç”¨-Images" class="headerlink" title="ä½¿ç”¨ Images"></a>ä½¿ç”¨ Images</h1><p>å°±åœ¨æˆ‘æ— èŠæŠŠç©èµ›åšè©è¨çš„å„ç§åŠŸèƒ½çš„æ—¶å€™ï¼Œå‘ç° Images çš„å®šä»·è¿˜ç®—å¾ˆå®æƒ ï¼Œäºæ˜¯ä¹å¼€é€šäº† Images Stream Bundle Basic å¥—é¤ï¼ŒåŒ…å«é¢„ä»˜è´¹ $5.00&#x2F;æœˆ 100,000 å¼ å›¾ç‰‡å’Œ 1,000 åˆ†é’Ÿè§†é¢‘å­˜å‚¨ä»¥åŠåä»˜è´¹ $1.00&#x2F;100,000 å¼ å›¾ç‰‡çš„äº¤ä»˜ã€‚<br>æ—¢ç„¶éƒ½è®¢é˜…äº†ï¼Œç„¶åå°±æƒ³ç€æŠŠåšå®¢ç°åœ¨çš„å›¾ç‰‡éƒ½è¿ç§»åˆ° Images ä¸Šæ¥ã€‚ä½†æ˜¯å§ï¼Œé—®é¢˜å°±åœ¨äº Images çš„å›¾ç‰‡æ˜¯å¯ä»¥å…¬å…±è¯»çš„ã€‚ç›´æ¥æ”¾åˆ°åšå®¢ä¸Šä¸‡ä¸€å“ªå¤©è¢«åˆ·æµé‡äº†ï¼Œå¾—ä¸å¿å¤±ã€‚ç ”ç©¶äº†ä¸€ä¸‹å‘ç° Images æ˜¯å¯ä»¥ç”Ÿæˆå¸¦æœ‰è¿‡æœŸæ—¶é—´çš„ç­¾å URL çš„ï¼Œå¯æ˜¯é—®é¢˜æ˜¯æˆ‘çš„åšå®¢æ˜¯é™æ€åšå®¢ï¼Œå›¾ç‰‡é“¾æ¥éƒ½éœ€è¦å†™æ­»åœ¨ <code>&lt;img&gt;</code> æ ‡ç­¾é‡Œé¢ã€‚å·¦æ€å³æƒ³ä¹‹ä¸‹æƒ³åˆ°äº†ä¸€ä¸ªæŠ˜ä¸­çš„åŠæ³•ã€‚<br>æ€»ä½“æ€è·¯å°±æ˜¯ä¸Šä¼ çš„å›¾ç‰‡æ‰“å¼€ <strong>éœ€è¦å·²ç­¾åçš„ URL</strong> ç„¶åè¯¥å›¾ç‰‡å°±å¿…é¡»é€šè¿‡ç­¾å URL è®¿é—®ï¼Œç„¶åå®ç°ä¸€ä¸ª Worker åˆ¤æ–­ URL æ˜¯å¦åŒ…å«ç­¾åä¿¡æ¯ï¼Œå¦‚æœä¸åŒ…å«ï¼Œåˆ™é€šè¿‡ URL æ¥æ”¶ <code>å›¾åƒ ID(imageID)</code> å’Œ <code>å˜ä½“(variant)</code> ç„¶åå¯¹ URL å®ç°ç­¾åï¼Œç”Ÿæˆä¸€ä¸ªå¸¦ç­¾åçš„ URL å¹¶ 302 é‡å®šå‘å› Workerã€‚å¦‚æœ URL åŒ…å«ç­¾åä¿¡æ¯ï¼Œåˆ™è¯·æ±‚å›¾ç‰‡èµ„æºå¹¶è¿”å›ã€‚</p>
<img data-src="https://images.zabrian.com/2d0fc541-8fd3-48d7-d763-e1fee14d3401/origin" title="æµç¨‹å›¾" style="zoom:42%;" />

<p>æ€è·¯æœ‰äº†é‚£å°±å¼€å§‹ï¼Œé¦–å…ˆæ–°å»ºä¸€ä¸ª Worker ä»£ç å¦‚ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="variable constant_">ACCOUNT_HASH</span> = <span class="string">&quot;æ­¤å¤„å¡«å†™ Images å¸æˆ·å“ˆå¸Œ&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">KEY</span> = <span class="string">&quot;æ­¤å¤„å¡«å†™ Image è´¦æˆ· API ä»¤ç‰Œ&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">IMAGE_CUSTOM_DOMAIN</span> = <span class="string">&quot;æ­¤å¤„å¡«å†™ Worker ç»‘å®šçš„è‡ªå®šä¹‰åŸŸå&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">EXPIRATION</span> = <span class="number">60</span>; <span class="comment">// ç­¾åå›¾ç‰‡è¿‡æœŸæ—¶é—´ 1 min</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">ALLOWED_REFERERS</span> = []; <span class="comment">// æ­¤å¤„å¡«å†™è¯·æ±‚ Referer ç™½åå•ä½œä¸ºé˜²ç›—é“¾</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">IMAGE_DELIVERY_DOMAIN</span> = <span class="string">&quot;imagedelivery.net&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">bufferToHex</span> = (<span class="params">buffer</span>) =&gt;</span><br><span class="line">  [...<span class="keyword">new</span> <span class="title class_">Uint8Array</span>(buffer)]</span><br><span class="line">    .<span class="title function_">map</span>(<span class="function">(<span class="params">x</span>) =&gt;</span> x.<span class="title function_">toString</span>(<span class="number">16</span>).<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>))</span><br><span class="line">    .<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">generateSignedUrl</span>(<span class="params">url</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> encoder = <span class="keyword">new</span> <span class="title class_">TextEncoder</span>();</span><br><span class="line">  <span class="keyword">const</span> secretKey = encoder.<span class="title function_">encode</span>(<span class="variable constant_">KEY</span>);</span><br><span class="line">  <span class="keyword">const</span> key = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">importKey</span>(</span><br><span class="line">    <span class="string">&quot;raw&quot;</span>,</span><br><span class="line">    secretKey,</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&quot;HMAC&quot;</span>, <span class="attr">hash</span>: <span class="string">&quot;SHA-256&quot;</span> &#125;,</span><br><span class="line">    <span class="literal">false</span>,</span><br><span class="line">    [<span class="string">&quot;sign&quot;</span>]</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> exp = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>() / <span class="number">1000</span>) + <span class="variable constant_">EXPIRATION</span>;</span><br><span class="line">  url.<span class="property">searchParams</span>.<span class="title function_">set</span>(<span class="string">&quot;exp&quot;</span>, exp);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> stringToSign = url.<span class="property">pathname</span> + <span class="string">&quot;?&quot;</span> + url.<span class="property">searchParams</span>.<span class="title function_">toString</span>();</span><br><span class="line">  <span class="keyword">const</span> mac = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">sign</span>(</span><br><span class="line">    <span class="string">&quot;HMAC&quot;</span>,</span><br><span class="line">    key,</span><br><span class="line">    encoder.<span class="title function_">encode</span>(stringToSign)</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> signature = <span class="title function_">bufferToHex</span>(<span class="keyword">new</span> <span class="title class_">Uint8Array</span>(mac).<span class="property">buffer</span>);</span><br><span class="line">  url.<span class="property">searchParams</span>.<span class="title function_">set</span>(<span class="string">&quot;sig&quot;</span>, signature);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> url;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">fetch</span>(<span class="params">request</span>) &#123;</span><br><span class="line">    <span class="comment">// æ£€æŸ¥ Referer (åªæœ‰ ALLOWED_REFERERS ä¸ä¸ºç©ºæ—¶æ‰æ£€æŸ¥)</span></span><br><span class="line">    <span class="keyword">const</span> referer = request.<span class="property">headers</span>.<span class="title function_">get</span>(<span class="string">&quot;Referer&quot;</span>) || <span class="string">&quot;&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable constant_">ALLOWED_REFERERS</span>.<span class="property">length</span> &amp;&amp; !<span class="variable constant_">ALLOWED_REFERERS</span>.<span class="title function_">some</span>(<span class="function">(<span class="params">allow</span>) =&gt;</span> referer.<span class="title function_">startsWith</span>(allow))) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">&quot;Forbidden&quot;</span>, &#123; <span class="attr">status</span>: <span class="number">403</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è§£æè·¯å¾„</span></span><br><span class="line">    <span class="keyword">const</span> url = <span class="keyword">new</span> <span class="title function_">URL</span>(request.<span class="property">url</span>);</span><br><span class="line">    <span class="keyword">const</span> match = url.<span class="property">pathname</span>.<span class="title function_">match</span>(<span class="regexp">/^\/([^/]+)\/([^/]+)$/</span>);</span><br><span class="line">    <span class="keyword">if</span> (!match) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">&quot;Bad Request&quot;</span>, &#123; <span class="attr">status</span>: <span class="number">400</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> [, imageID, variant] = match;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!url.<span class="property">searchParams</span>.<span class="title function_">has</span>(<span class="string">&quot;exp&quot;</span>) || !url.<span class="property">searchParams</span>.<span class="title function_">has</span>(<span class="string">&quot;sig&quot;</span>)) &#123;</span><br><span class="line">      <span class="comment">// æ— ç­¾å - ç”Ÿæˆç­¾åå¹¶é‡å®šå‘</span></span><br><span class="line">      <span class="keyword">const</span> deliveryUrl = <span class="keyword">new</span> <span class="title function_">URL</span>(</span><br><span class="line">        <span class="string">`https://<span class="subst">$&#123;IMAGE_DELIVERY_DOMAIN&#125;</span>/<span class="subst">$&#123;ACCOUNT_HASH&#125;</span>/<span class="subst">$&#123;imageID&#125;</span>/<span class="subst">$&#123;variant&#125;</span>`</span></span><br><span class="line">      );</span><br><span class="line">      <span class="keyword">const</span> signedUrl = <span class="keyword">await</span> <span class="title function_">generateSignedUrl</span>(deliveryUrl);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> redirectUrl = <span class="keyword">new</span> <span class="title function_">URL</span>(</span><br><span class="line">        <span class="string">`https://<span class="subst">$&#123;IMAGE_CUSTOM_DOMAIN&#125;</span>/<span class="subst">$&#123;imageID&#125;</span>/<span class="subst">$&#123;variant&#125;</span>`</span></span><br><span class="line">      );</span><br><span class="line">      redirectUrl.<span class="property">search</span> = signedUrl.<span class="property">search</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">return</span> <span class="title class_">Response</span>.<span class="title function_">redirect</span>(redirectUrl.<span class="title function_">toString</span>(), <span class="number">302</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// æœ‰ç­¾å - ç›´æ¥è¯·æ±‚å›¾ç‰‡</span></span><br><span class="line">      <span class="keyword">const</span> imageUrl = <span class="keyword">new</span> <span class="title function_">URL</span>(</span><br><span class="line">        <span class="string">`https://<span class="subst">$&#123;IMAGE_DELIVERY_DOMAIN&#125;</span>/<span class="subst">$&#123;ACCOUNT_HASH&#125;</span>/<span class="subst">$&#123;imageID&#125;</span>/<span class="subst">$&#123;variant&#125;</span>`</span></span><br><span class="line">      );</span><br><span class="line">      imageUrl.<span class="property">search</span> = url.<span class="property">search</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> resp = <span class="keyword">await</span> <span class="title function_">fetch</span>(imageUrl.<span class="title function_">toString</span>(), request);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(resp.<span class="property">body</span>, &#123;</span><br><span class="line">        <span class="attr">status</span>: resp.<span class="property">status</span>,</span><br><span class="line">        <span class="attr">headers</span>: resp.<span class="property">headers</span>,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°† <code>Worker.js</code> ä¸­ <code>IMAGE_CUSTOM_DOMAIN</code> çš„åŸŸåç»‘å®šåˆ°è¿™ä¸ª Worker ä¸Šã€‚<br>åœ¨ Images ä¸Šä¼ ä¸€å¼ å›¾ç‰‡ï¼Œæ‰“å¼€ <strong>éœ€è¦å·²ç­¾åçš„ URL</strong> ç„¶åè·å–åˆ°ä»–çš„<code>å›¾åƒ ID</code>ï¼Œå¯ä»¥åœ¨ Images é‡Œé¢è‡ªå®šä¹‰ä¸€ä¸ª<code>å˜ä½“</code>ï¼Œç„¶åå°±å¯ä»¥é€šè¿‡ <code>https://IMAGE_CUSTOM_DOMAIN/&#123;imageID&#125;/&#123;variant&#125;</code> è®¿é—®è¯¥å›¾ç‰‡ï¼Œæ­¤æ—¶ä¼šè‡ªåŠ¨è·³è½¬åˆ° <code>https://IMAGE_CUSTOM_DOMAIN/&#123;imageID&#125;/&#123;variant&#125;?exp=&#123;exp&#125;&amp;sig=&#123;sig&#125;</code> å…¶ä¸­ <code>sig</code> å°±æ˜¯ç­¾åä¿¡æ¯ï¼Œ<code>exp</code> æ˜¯è¯¥é“¾æ¥çš„è¿‡æœŸæ—¶é—´ã€‚å¦‚æœå¡«å†™äº† <code>ALLOWED_REFERERS</code> åˆ™è¯·æ±‚å¿…é¡»æºå¸¦å¯¹åº”çš„ <code>Referer</code> å¦åˆ™ä¼š <code>403</code></p>
<p>ç°åœ¨ Cloudflare çš„æµç¨‹å°±æ²¡æœ‰é—®é¢˜äº†ï¼Œæ¥ä¸‹æ¥è§£å†³é™æ€åšå®¢çš„é—®é¢˜ã€‚æˆ‘æ˜¯ç”¨çš„ Hexo çš„é™æ€åšå®¢ï¼Œæ–‡ç« ä¸­æ’å…¥å›¾ç‰‡éœ€è¦ä½¿ç”¨ <code>&lt;img&gt;</code> æ ‡ç­¾ã€‚æ¯æ¬¡éƒ½éœ€è¦å°†æœ¬åœ°å›¾ç‰‡ä¼ åˆ° Cloudflare Images å¹¶ä¸”ç¼–è¾‘å›¾åƒæ‰‹åŠ¨æ‰“å¼€ <strong>éœ€è¦å·²ç­¾åçš„ URL</strong> ç„¶åå†è·å–åˆ°å¯¹åº”çš„å›¾åƒ ID å†æ›¿æ¢ä¸º URL ç•¥æ˜¾éº»çƒ¦ã€‚å› æ­¤æ‰‹åŠ¨åˆ›å»ºäº†ä¸€ä¸ªè„šæœ¬è‡ªåŠ¨åŒ–å®ç°ä»¥ä¸ŠåŠŸèƒ½ï¼Œæˆ‘åªéœ€è¦åœ¨ <code>&lt;img&gt;</code> æ ‡ç­¾ä¸­æ·»åŠ å›¾ç‰‡çš„æœ¬åœ°æ–‡ä»¶è·¯å¾„ï¼Œç„¶åå†™å¥½åšå®¢ä¹‹åè°ƒç”¨è„šæœ¬å°±ä¼šè‡ªåŠ¨å°†æ–‡ç« ä¸­å¼•ç”¨çš„ img å›¾ç‰‡ä¸Šä¼ åˆ° Cloudflare Images å¹¶ä¸”æ‰“å¼€ <strong>éœ€è¦å·²ç­¾åçš„ URL</strong> ç„¶åæ ¹æ®è¿”å›çš„å›¾åƒ ID è‡ªåŠ¨æ‹¼æ¥ http é“¾æ¥å¹¶æ›¿æ¢åŸæ–‡ <code>&lt;img&gt;</code> æ ‡ç­¾çš„æœ¬åœ°æ–‡ä»¶åœ°å€ã€‚</p>
<p>åœ¨æœ¬åœ° Hexo é¡¹ç›®ä¸‹åˆ›å»ºä¸€ä¸ª <code>tools/upload-images.js</code> æ–‡ä»¶</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env node</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> fs = <span class="built_in">require</span>(<span class="string">&quot;fs&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&quot;path&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> axios = <span class="built_in">require</span>(<span class="string">&quot;axios&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title class_">FormData</span> = <span class="built_in">require</span>(<span class="string">&quot;form-data&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> sharp = <span class="built_in">require</span>(<span class="string">&quot;sharp&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// Cloudflare Images API é…ç½®</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">CF_ACCOUNT_ID</span> = <span class="string">&quot;æ­¤å¤„å¡«å†™ Image å¸æˆ· ID&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">CF_API_TOKEN</span> = <span class="string">&quot;æ­¤å¤„å¡«å†™ Cloudflare API Token&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">CF_IMAGES_API_URL</span> = <span class="string">`https://api.cloudflare.com/client/v4/accounts/<span class="subst">$&#123;CF_ACCOUNT_ID&#125;</span>/images/v1`</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">IMAGE_BASE_URL</span> = <span class="string">&quot;æ­¤å¤„å¡«å†™ Worker å¸¦ https çš„ URL åœ°å€&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">MAX_WIDTH</span> = <span class="number">800</span>; <span class="comment">// å›¾åƒçš„æœ€å¤§å®½åº¦</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">MAX_HEIGHT</span> = <span class="number">600</span>; <span class="comment">// å›¾åƒçš„æœ€å¤§é«˜åº¦</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> abbrlink = process.<span class="property">argv</span>[<span class="number">2</span>];</span><br><span class="line"><span class="keyword">if</span> (!abbrlink) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;è¯·æä¾› abbrlink\n  ä¾‹å¦‚: npm run upload e6a2e300&quot;</span>);</span><br><span class="line">  process.<span class="title function_">exit</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ ¹æ® abbrlink æŸ¥æ‰¾å¯¹åº”çš„æ–‡ç« æ–‡ä»¶</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">findPostByAbbrlink</span>(<span class="params">abbrlink</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> postsDir = path.<span class="title function_">join</span>(__dirname, <span class="string">&quot;../source/_posts&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> files = fs.<span class="title function_">readdirSync</span>(postsDir);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> file <span class="keyword">of</span> files) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!file.<span class="title function_">endsWith</span>(<span class="string">&quot;.md&quot;</span>)) <span class="keyword">continue</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> filePath = path.<span class="title function_">join</span>(postsDir, file);</span><br><span class="line">    <span class="keyword">const</span> content = fs.<span class="title function_">readFileSync</span>(filePath, <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è§£æ front matter</span></span><br><span class="line">    <span class="keyword">const</span> frontMatterMatch = content.<span class="title function_">match</span>(<span class="regexp">/^---\n([\s\S]*?)\n---/</span>);</span><br><span class="line">    <span class="keyword">if</span> (frontMatterMatch) &#123;</span><br><span class="line">      <span class="keyword">const</span> frontMatter = frontMatterMatch[<span class="number">1</span>];</span><br><span class="line">      <span class="keyword">const</span> abbrlinkMatch = frontMatter.<span class="title function_">match</span>(<span class="regexp">/abbrlink:\s*([a-fA-F0-9]+)/</span>);</span><br><span class="line">      <span class="keyword">if</span> (abbrlinkMatch &amp;&amp; abbrlinkMatch[<span class="number">1</span>] === abbrlink) &#123;</span><br><span class="line">        <span class="keyword">return</span> filePath;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è®¡ç®—åˆé€‚çš„å›¾ç‰‡å°ºå¯¸å’Œç¼©æ”¾æ¯”ä¾‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">calculateOptimalSize</span>(<span class="params">imagePath</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> metadata = <span class="keyword">await</span> <span class="title function_">sharp</span>(imagePath).<span class="title function_">metadata</span>();</span><br><span class="line">  <span class="keyword">const</span> &#123; width, height &#125; = metadata;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (width &lt;= <span class="variable constant_">MAX_WIDTH</span> &amp;&amp; height &lt;= <span class="variable constant_">MAX_HEIGHT</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      width,</span><br><span class="line">      height,</span><br><span class="line">      <span class="attr">zoom</span>: <span class="number">100</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> widthScale = <span class="variable constant_">MAX_WIDTH</span> / width;</span><br><span class="line">  <span class="keyword">const</span> heightScale = <span class="variable constant_">MAX_HEIGHT</span> / height;</span><br><span class="line">  <span class="keyword">const</span> scale = <span class="title class_">Math</span>.<span class="title function_">min</span>(widthScale, heightScale);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> newWidth = <span class="title class_">Math</span>.<span class="title function_">round</span>(width * scale);</span><br><span class="line">  <span class="keyword">const</span> newHeight = <span class="title class_">Math</span>.<span class="title function_">round</span>(height * scale);</span><br><span class="line">  <span class="keyword">const</span> zoom = <span class="title class_">Math</span>.<span class="title function_">round</span>(scale * <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">width</span>: newWidth,</span><br><span class="line">    <span class="attr">height</span>: newHeight,</span><br><span class="line">    <span class="attr">zoom</span>: zoom</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä»æ–‡ä»¶å†…å®¹ä¸­æå–æ‰€æœ‰å›¾ç‰‡æ ‡ç­¾</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">extractImageTags</span>(<span class="params">content</span>) &#123;</span><br><span class="line">  <span class="comment">// åŒ¹é… HTML img æ ‡ç­¾: &lt;img src=&quot;path&quot; title=&quot;title&quot;&gt;</span></span><br><span class="line">  <span class="keyword">const</span> regex = <span class="regexp">/&lt;img\s+src=&quot;([^&quot;]+)&quot;(?:\s+title=&quot;([^&quot;]*)&quot;)?[^&gt;]*&gt;/g</span>;</span><br><span class="line">  <span class="keyword">const</span> matches = [];</span><br><span class="line">  <span class="keyword">let</span> match;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">while</span> ((match = regex.<span class="title function_">exec</span>(content)) !== <span class="literal">null</span>) &#123;</span><br><span class="line">    matches.<span class="title function_">push</span>(&#123;</span><br><span class="line">      <span class="attr">fullTag</span>: match[<span class="number">0</span>],</span><br><span class="line">      <span class="attr">localPath</span>: match[<span class="number">1</span>],</span><br><span class="line">      <span class="attr">title</span>: match[<span class="number">2</span>] || <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> matches;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸Šä¼ å›¾ç‰‡åˆ° Cloudflare Images</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">uploadToCloudflare</span>(<span class="params">filePath</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> fileName = path.<span class="title function_">basename</span>(filePath);</span><br><span class="line">  <span class="keyword">const</span> newFileName = <span class="string">`<span class="subst">$&#123;abbrlink&#125;</span>-<span class="subst">$&#123;fileName&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> form = <span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line">  form.<span class="title function_">append</span>(<span class="string">&quot;file&quot;</span>, fs.<span class="title function_">createReadStream</span>(filePath), &#123; <span class="attr">filename</span>: newFileName &#125;);</span><br><span class="line">  form.<span class="title function_">append</span>(<span class="string">&quot;requireSignedURLs&quot;</span>, <span class="string">&quot;true&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> response = <span class="keyword">await</span> axios.<span class="title function_">post</span>(<span class="variable constant_">CF_IMAGES_API_URL</span>, form, &#123;</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="title class_">Authorization</span>: <span class="string">`Bearer <span class="subst">$&#123;CF_API_TOKEN&#125;</span>`</span>,</span><br><span class="line">      ...form.<span class="title function_">getHeaders</span>(),</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!response.<span class="property">data</span>.<span class="property">success</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;ä¸Šä¼ å¤±è´¥: &quot;</span> + <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(response.<span class="property">data</span>));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> response.<span class="property">data</span>.<span class="property">result</span>.<span class="property">id</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ä¸»å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">main</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`å¤„ç†æ–‡ç« : <span class="subst">$&#123;abbrlink&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> postPath = <span class="title function_">findPostByAbbrlink</span>(abbrlink);</span><br><span class="line">  <span class="keyword">if</span> (!postPath) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`<span class="subst">$&#123;abbrlink&#125;</span>: æœªæ‰¾åˆ°è¯¥æ–‡ç« `</span>);</span><br><span class="line">    process.<span class="title function_">exit</span>(<span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> content = fs.<span class="title function_">readFileSync</span>(postPath, <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> imageTags = <span class="title function_">extractImageTags</span>(content);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (imageTags.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;abbrlink&#125;</span>: æ²¡æœ‰æ‰¾åˆ°å›¾ç‰‡`</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;abbrlink&#125;</span>: å›¾ç‰‡æ•°é‡ <span class="subst">$&#123;imageTags.length&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> tag <span class="keyword">of</span> imageTags) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="comment">// è·³è¿‡ URL å›¾ç‰‡</span></span><br><span class="line">      <span class="keyword">if</span> (tag.<span class="property">localPath</span>.<span class="title function_">startsWith</span>(<span class="string">&quot;http&quot;</span>)) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;abbrlink&#125;</span>: è·³è¿‡ URL å›¾ç‰‡ <span class="subst">$&#123;tag.localPath&#125;</span>`</span>);</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="comment">// è§£ææœ¬åœ°è·¯å¾„</span></span><br><span class="line">      <span class="keyword">const</span> imagePath = path.<span class="title function_">isAbsolute</span>(tag.<span class="property">localPath</span>)</span><br><span class="line">        ? tag.<span class="property">localPath</span></span><br><span class="line">        : path.<span class="title function_">resolve</span>(__dirname, <span class="string">&quot;..&quot;</span>, tag.<span class="property">localPath</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (!fs.<span class="title function_">existsSync</span>(imagePath)) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`<span class="subst">$&#123;abbrlink&#125;</span>: å›¾ç‰‡ä¸å­˜åœ¨ <span class="subst">$&#123;imagePath&#125;</span>`</span>);</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;abbrlink&#125;</span>: æ­£åœ¨å¤„ç† <span class="subst">$&#123;tag.localPath&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// è‡ªåŠ¨ç¼©æ”¾å›¾ç‰‡</span></span><br><span class="line">      <span class="keyword">const</span> &#123; width, height, zoom &#125; = <span class="keyword">await</span> <span class="title function_">calculateOptimalSize</span>(imagePath);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;abbrlink&#125;</span>: è‡ªåŠ¨ç¼©æ”¾ <span class="subst">$&#123;width&#125;</span>x<span class="subst">$&#123;height&#125;</span> (<span class="subst">$&#123;zoom&#125;</span>%)`</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ä¸Šä¼ å›¾ç‰‡</span></span><br><span class="line">      <span class="keyword">const</span> imageId = <span class="keyword">await</span> <span class="title function_">uploadToCloudflare</span>(imagePath);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;abbrlink&#125;</span>: ä¸Šä¼ æˆåŠŸ <span class="subst">$&#123;imageId&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">      <span class="comment">// ç”Ÿæˆæ–°æ ‡ç­¾ - HTML img æ ¼å¼</span></span><br><span class="line">      <span class="keyword">const</span> newUrl = <span class="string">`<span class="subst">$&#123;IMAGE_BASE_URL&#125;</span>/<span class="subst">$&#123;imageId&#125;</span>/origin`</span>;</span><br><span class="line">      <span class="keyword">const</span> titleText = tag.<span class="property">title</span> || <span class="string">&quot;å›¾ç‰‡&quot;</span>;</span><br><span class="line">      <span class="keyword">const</span> newTag = <span class="string">`&lt;img src=&quot;<span class="subst">$&#123;newUrl&#125;</span>&quot; title=&quot;<span class="subst">$&#123;titleText&#125;</span>&quot; style=&quot;zoom:<span class="subst">$&#123;zoom&#125;</span>%;&quot; /&gt;`</span>;</span><br><span class="line"></span><br><span class="line">      content = content.<span class="title function_">replace</span>(tag.<span class="property">fullTag</span>, newTag);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;abbrlink&#125;</span>: å¤„ç†å®Œæˆ <span class="subst">$&#123;tag.localPath&#125;</span> -&gt; <span class="subst">$&#123;newUrl&#125;</span> (<span class="subst">$&#123;zoom&#125;</span>%)`</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`<span class="subst">$&#123;abbrlink&#125;</span>: å¤„ç†å¤±è´¥: <span class="subst">$&#123;tag.localPath&#125;</span>`</span>, error.<span class="property">message</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  fs.<span class="title function_">writeFileSync</span>(postPath, content, <span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;å¤„ç†å®Œæˆ&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">main</span>();</span><br></pre></td></tr></table></figure>

<p>å¹¶å°†è¯¥è„šæœ¬æ·»åŠ åˆ° package.json</p>
<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="comment">// ...çœç•¥</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="comment">// ...çœç•¥</span></span><br><span class="line">    <span class="attr">&quot;upload&quot;</span><span class="punctuation">:</span> <span class="string">&quot;node tools/upload-images.js&quot;</span></span><br><span class="line">    <span class="comment">// ...çœç•¥</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="comment">// ...çœç•¥</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±å¯ä»¥é€šè¿‡ <code>npm run upload xxxxxxxx</code> è‡ªåŠ¨ä¸Šä¼ è¯¥æ–‡ç« ä¸­å‡ºç°çš„å›¾ç‰‡å¹¶æ›¿æ¢é“¾æ¥å•¦ã€‚</p>
<h1 id="ä½¿ç”¨-R2"><a href="#ä½¿ç”¨-R2" class="headerlink" title="ä½¿ç”¨ R2"></a>ä½¿ç”¨ R2</h1><p>å¦‚æœä¸æƒ³ä½¿ç”¨ Images çš„ä»˜è´¹åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ R2 çš„å…è´¹å¥—é¤æ­å»ºã€‚å…¶ä¸­ R2 çš„å…è´¹å¥—é¤åŒ…å« 10G å­˜å‚¨ç©ºé—´ã€ A ç±»æ“ä½œ 100w&#x2F;æœˆ å’Œ B ç±»æ“ä½œ 1000w&#x2F;æœˆã€‚</p>
<blockquote>
<p>è¯¦æƒ…å‚è€ƒ <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmNsb3VkZmxhcmUuY29tL3IyL3ByaWNpbmcvIzp+OnRleHQ9Zm9yJTIwMiUyMEdCLi0sRnJlZSUyMHRpZXIsLVlvdSUyMGNhbiUyMHVzZQ==">Cloudflare Docs R2<i class="fa fa-external-link-alt"></i></span></p>
</blockquote>
<p>å¦‚æœç›´æ¥æŠŠåŸŸåç»‘å®šåˆ° <code>R2 Bucket</code> ä¸Šå¼€å¯å…¬ç½‘è®¿é—®ï¼Œå¾ˆå®¹æ˜“ä¸€å¤œä¹‹é—´å€¾å®¶è¡äº§ã€‚æ‰€ä»¥å…³é—­ <code>R2 Bucket</code> å…¬ç½‘è®¿é—®ï¼Œä½¿ç”¨ Workers å…è´¹è®¡åˆ’çš„ 10w&#x2F;å¤© çš„è¯·æ±‚é‡å¤©ç„¶çš„é™åˆ¶é¿å…è¢«åˆ·æµé‡ã€‚</p>
<blockquote>
<p>è¯¦æƒ…å‚è€ƒ <span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmNsb3VkZmxhcmUuY29tL3dvcmtlcnMvcGxhdGZvcm0vcHJpY2luZy8jOn46dGV4dD1QYWdlcyUyMEZ1bmN0aW9ucyUyMHByaWNpbmcuLSxXb3JrZXJzLC1Vc2VycyUyMG9uJTIwdGhl">Cloudflare Docs Workers<i class="fa fa-external-link-alt"></i></span></p>
</blockquote>
<p>é¦–å…ˆåˆ›å»ºä¸€ä¸ª <code>R2 Bucket</code>ï¼Œåç§°è‡ªå®šä¹‰ã€‚ç„¶åæ–°å»ºä¸€ä¸ª Workers ä»£ç å¦‚ä¸‹</p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">fetch</span>(<span class="params">request, env</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (request.<span class="property">method</span> !== <span class="string">&quot;GET&quot;</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">&quot;Method Not Allowed&quot;</span>, &#123; <span class="attr">status</span>: <span class="number">405</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> url = <span class="keyword">new</span> <span class="title function_">URL</span>(request.<span class="property">url</span>);</span><br><span class="line">    <span class="keyword">const</span> path = <span class="built_in">decodeURIComponent</span>(url.<span class="property">pathname</span>.<span class="title function_">slice</span>(<span class="number">1</span>));</span><br><span class="line">    <span class="keyword">if</span> (!path) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">&quot;Not Found&quot;</span>, &#123; <span class="attr">status</span>: <span class="number">404</span> &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> cacheKey = <span class="keyword">new</span> <span class="title class_">Request</span>(<span class="string">`<span class="subst">$&#123;url.origin&#125;</span><span class="subst">$&#123;url.pathname&#125;</span>`</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> cached = <span class="keyword">await</span> caches.<span class="property">default</span>.<span class="title function_">match</span>(cacheKey);</span><br><span class="line">      <span class="keyword">if</span> (cached) <span class="keyword">return</span> cached;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> file = <span class="keyword">await</span> env.<span class="property">IMAGES</span>.<span class="title function_">get</span>(path); <span class="comment">// IMAGES ä¸ºåç»­æ­¥éª¤ä¸­ç»‘å®šçš„åç§°ï¼Œå¯è‡ªè¡Œä¿®æ”¹</span></span><br><span class="line">      <span class="keyword">if</span> (!file) <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">&quot;Not Found&quot;</span>, &#123; <span class="attr">status</span>: <span class="number">404</span> &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> response = <span class="keyword">new</span> <span class="title class_">Response</span>(file.<span class="property">body</span>, &#123;</span><br><span class="line">        <span class="attr">headers</span>: &#123;</span><br><span class="line">          <span class="string">&quot;Content-Type&quot;</span>: file.<span class="property">httpMetadata</span>?.<span class="property">contentType</span> || <span class="string">&quot;application/octet-stream&quot;</span>,</span><br><span class="line">          <span class="string">&quot;Cache-Control&quot;</span>: <span class="string">&quot;public, max-age=21600&quot;</span>, <span class="comment">// ç¼“å­˜æ—¶é—´ 6 å°æ—¶ï¼Œå¯è‡ªè¡Œä¿®æ”¹</span></span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">await</span> caches.<span class="property">default</span>.<span class="title function_">put</span>(cacheKey, response.<span class="title function_">clone</span>());</span><br><span class="line">      <span class="keyword">return</span> response;</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">&quot;Server Error&quot;</span>, &#123; <span class="attr">status</span>: <span class="number">500</span> &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>ç„¶ååœ¨ Workers ç»‘å®šå¤„æ·»åŠ ç»‘å®šä¸Šé¢åˆ›å»ºçš„ <code>R2 Bucket</code>ï¼Œåç§°åªéœ€è¦ä¸ Workers ä»£ç ä¸­çš„åç§°ä¸€è‡´å³å¯ã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>DOT</title>
    <url>/post/65f5e900.html</url>
    <content><![CDATA[<div class="encrypted-post-container" 
    data-ciphertext="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"
    data-iv="SyC42Fk+qFu16/wy"
    data-auth-tag="afmKgQM2xKyQITqJ0xK7sQ=="
    data-abbrlink="65f5e900"
    data-wrapped-keys='[{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;yWaO1JziB9YimTQ9v+aKYqo77SdSY/W74o3ZZUyilko=&quot;,&quot;iv&quot;:&quot;i5yh/kAmKlg8I3qM&quot;,&quot;authTag&quot;:&quot;Xm8I/aNtuINu111kt2iVZA==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;iAztCn5nuYfYr7hN5+3XHppTnRa7p0jxZ4cyW0F2Cw4=&quot;,&quot;iv&quot;:&quot;CzZ07R3NW1s55UAF&quot;,&quot;authTag&quot;:&quot;GMsq0EHCS7MUM04Jn7eNnA==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;MuLwQ6UdYgUG0hoLhuHdCewiicdFoOjoY0dpZTrxK6A=&quot;,&quot;iv&quot;:&quot;oGT4Ch8aWbKsBHVd&quot;,&quot;authTag&quot;:&quot;OidHnybjpC89f1lYnZMBvA==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;Ns9pwLmJ1Rt8xFEHphBChvoV1bRQirDceXPVprEoVXQ=&quot;,&quot;iv&quot;:&quot;HCis8EDGmjEdNuLE&quot;,&quot;authTag&quot;:&quot;es0VHUxFJ5t2yyYZj9blNw==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;cPq+o5SLUhQL+1qtUuDUqv/3RChTqTtHQ9Wrh7RdFIc=&quot;,&quot;iv&quot;:&quot;Pjs/ae6e6lfBU4ja&quot;,&quot;authTag&quot;:&quot;Lxjnl+hpskrMEwuC07Z40Q==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;sgQ4x29PsJzPlpelV2JYDRoyCA3U7qtEfgZg1EtFInY=&quot;,&quot;iv&quot;:&quot;KUCQzD0/KFO8PTqd&quot;,&quot;authTag&quot;:&quot;bHGNWvCXAxjjVJT51OG+sA==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;AylegeNyaiF24DsehkzsNe30JR+vNfZoSp1/HiC8PWM=&quot;,&quot;iv&quot;:&quot;231AG75+SW5o49Xq&quot;,&quot;authTag&quot;:&quot;hVtrSPXMXlzeiIIatcOj7g==&quot;}]'
    data-prf-salt="1be53724816528d8cc0547ca98dfcc2649f00b343011a7d07f4633d72252943b"
    data-cache="15"
    data-password-hint="">
  <div class="encrypted-post-notice">
    <div class="decrypt-methods"><button class="decrypt-btn" id="fido2-verify-btn"><i class="fa fa-fingerprint"></i> é€šè¡Œå¯†é’¥éªŒè¯</button></div>
    <div class="verification-status" id="verification-status"></div>
  </div>
  <div class="decrypted-content" id="decrypted-content" style="display:none"></div>
</div>]]></content>
  </entry>
  <entry>
    <title>Garmin å›½è¡Œç è¡¨ä½¿ç”¨ OSM åœ°å›¾</title>
    <url>/post/16e3b020.html</url>
    <content><![CDATA[<p>å›½è¡Œçš„ Garmin ç è¡¨ä¸‹è½½å¹¶å®‰è£… <code>OSM China</code> åœ°å›¾ä½œä¸ºéª‘è¡Œåœ°å›¾ã€‚<br>æ•°æ®æ¥æº <span class="exturl" data-url="aHR0cHM6Ly9hbHRlcm5hdGl2YXNsaWJyZXMub3JnL2VuL2Rvd25sb2Fkcy5waHAjQXNpYQ==">alternativaslibres<i class="fa fa-external-link-alt"></i></span> å¹¶æ·»åŠ äº†å¿…è¦çš„å…ƒæ•°æ®ã€‚</p>
<span id="more"></span>

<h1 id="ä¸‹è½½é“¾æ¥"><a href="#ä¸‹è½½é“¾æ¥" class="headerlink" title="ä¸‹è½½é“¾æ¥"></a>ä¸‹è½½é“¾æ¥</h1><p>ç‚¹å‡»ä¸‹æ–¹æŒ‰é’®ï¼Œå¹¶å°†ä¸‹è½½å¥½çš„ <code>img</code> æ–‡ä»¶å¤åˆ¶åˆ°ä½³æ˜ç è¡¨ <code>Garmin/Maps/</code> ç„¶ååœ¨ç è¡¨åœ°å›¾ä¸­ç¦ç”¨è‡ªå¸¦çš„æ‰€æœ‰åœ°å›¾å³å¯ä½¿ç”¨ã€‚</p>
<a class="btn" href="https://9lnk.io/UvAM" title="ç‚¹å‡»ä¸‹è½½ 2025-11-17"><i class="fa fa-download"></i>ç‚¹å‡»ä¸‹è½½ 2025-11-17</a>]]></content>
  </entry>
  <entry>
    <title>GitLab è‡ªåŠ¨éƒ¨ç½² GitHub Pages åšå®¢</title>
    <url>/post/4a4b01f0.html</url>
    <content><![CDATA[<p>åœ¨ä¹‹å‰ã€Š<a href="/post/8d4f8799.html" title="æ­å»ºå®¶åº­ç§äºº GitLab æœåŠ¡å™¨">æ­å»ºå®¶åº­ç§äºº GitLab æœåŠ¡å™¨</a>ã€‹è¯´åˆ°æˆ‘ç°åœ¨æœ‰è¿™æ ·çš„éœ€æ±‚ï¼Œè€Œä¸”æ ¹æ®ä¸Šä¸€ç¯‡ï¼Œæˆ‘ä»¬å·²ç»æ­å»ºå¥½äº†è¿™æ ·çš„ä¸€ä¸ªç¯å¢ƒã€‚é‚£ä¹ˆæœ‰ä»€ä¹ˆå°±èµ¶ç´§ç”¨èµ·æ¥å§ã€‚</p>
<span id="more"></span>

<p>é‚£ä¹ˆè¿™ä¸€ç¯‡ä¸»è¦æ˜¯ä»‹ç»ä¸€ä¸‹å¦‚ä½•ç”¨è¿™ä¸ªå®¶åº­ç§äºº GitLab å®ç°è‡ªåŠ¨éƒ¨ç½²æ‰˜ç®¡åœ¨ GitHub Pages ä¸Šçš„åšå®¢ã€‚æœ¬æ–‡ä½¿ç”¨çš„æ˜¯ <code>Hexo</code> æ¡†æ¶ + <code>Next</code> ä¸»é¢˜ï¼Œå…¶ä»–çš„é™æ€åšå®¢æ¡†æ¶å¤§åŒå°å¼‚ã€‚è¿™çš„å…³æ³¨ç‚¹ä¸åœ¨æ­å»ºåšå®¢ï¼Œè¿™é‡Œå‡å®šä½ å·²ç»æœ‰äº†ä¸€ä¸ªæ­£åœ¨æ‰˜ç®¡çš„ GitHub Pages åšå®¢ã€‚è¿™ç¯‡æ–‡ç« å°†æ­¤åšå®¢ä¸ºä¾‹å­è®²è§£ä¸€ä¸‹ã€‚</p>
<h1 id="ä¸ºä»€ä¹ˆ"><a href="#ä¸ºä»€ä¹ˆ" class="headerlink" title="ä¸ºä»€ä¹ˆ"></a>ä¸ºä»€ä¹ˆ</h1><p>ç”¨è¿‡ <code>Hexo</code> çš„éƒ½çŸ¥é“ï¼Œå®ƒéœ€è¦åœ¨ä½ çš„æœ¬åœ°ç”µè„‘ä¸Šæ­å»ºä¸€ä¸ª <code>Node</code> ç¯å¢ƒã€‚å®‰è£…æ¡†æ¶ã€è‡ªå®šä¹‰ä¿®æ”¹é…ç½®ã€Markdown å†™æ–‡ç« ï¼Œç„¶åç”Ÿæˆã€æœ€ååˆ©ç”¨ Git æ¨é€åˆ° GitHub ä»“åº“ ç„¶åæ‰èƒ½åœ¨ç½‘ä¸Šçœ‹åˆ°å‘å¸ƒçš„æ–‡ç« ã€‚é‚£ä¹ˆè¿™æ ·å¸¦æ¥äº†ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœæŸä¸€å¤©ä½ æœ¬åœ°çš„å†™åšå®¢çš„ç¯å¢ƒä¸¢å¤±äº†ï¼ˆæ¯”å¦‚ç”µè„‘åäº†ï¼Œç¡¬ç›˜åäº†ç­‰ç­‰ç­‰ç­‰ï¼‰é‚£ä¹ˆå¦‚æœä½ æƒ³å†æ›´æ–°ä½ çš„åšå®¢å°±éœ€è¦å†æ¬¡æ­å»ºè¿™æ ·ä¸€ä¸ªç¯å¢ƒï¼Œé™¤äº†éœ€è¦å°†æ‰€æœ‰çš„é…ç½®å†æ¬¡é…ç½®ä¸€éï¼Œå…³é”®æ˜¯æ—§çš„ Markdown æ–‡ç« å·²ç»å‡ ä¹å†æ‰¾ä¸å›æ¥äº†ã€‚</p>
<p>å‡ å¹´å‰æˆ‘ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªåŸå› å¯¼è‡´æ”¾å¼ƒäº†ä¹‹å‰å†™äº†å¾ˆå¤šæ–‡ç« çš„åšå®¢ã€‚é‚£åˆ°è¿™é‡Œå°±æœ‰äººæƒ³äº†ï¼Œå¦‚æœæˆ‘æŠŠä½äºæœ¬åœ°çš„é‚£ä¸ª â€˜ç¯å¢ƒâ€™ ä¹Ÿç”¨ Git ç®¡ç†èµ·æ¥å‘¢ï¼Ÿä¸é”™çš„æƒ³æ³•ï¼Œä¹‹åæˆ‘ä¹Ÿæ˜¯è¿™æ ·åšçš„ï¼Œåœ¨ GitHub ä¸Šå†æ–°å»ºä¸€ä¸ªä»“åº“ï¼Œç”¨æ¥ä¿å­˜æœ¬åœ°å†™åšå®¢çš„ç¯å¢ƒï¼Œè¿™æ ·ä¸€æ¥ï¼Œå³ä½¿æ¢ç”µè„‘äº†ï¼Œåªéœ€è¦æŠŠè¿™ä¸ªä»“åº“ clone ä¸‹æ¥ï¼Œå®‰è£…ä¸€ä¸‹ç›¸å…³çš„ä¾èµ–ï¼Œå°±å¯ä»¥ç»§ç»­äº†ã€‚</p>
<p>çœ‹èµ·æ¥å¾ˆç¾å¥½ï¼Œä½†å¾ˆå¿«å°±é‡åˆ°å¦ä¸€ä¸ªé—®é¢˜ï¼šè¿™é‡Œç›¸å½“äºæŠŠä½ çš„åšå®¢æ‰€æœ‰æºç éƒ½å…¬å¼€äº†å‡ºå»ï¼Œæœ‰ä»€ä¹ˆå¼Šç«¯ä¹ˆï¼Ÿæ¯”å¦‚å‡å¦‚ä½ ä½¿ç”¨äº† <code>hexo-blog-encrypt</code> æ’ä»¶å¯¹æŸäº›åšå®¢è¿›è¡ŒåŠ å¯†ï¼Œå¯†ç ä½¿éœ€è¦æ˜æ–‡å†™åœ¨å¾…åŠ å¯†åšå®¢çš„å¤´éƒ¨ä¿¡æ¯é‡Œçš„ã€‚å¥½å®¶ä¼™ï¼Œè¿™æ ·ä¸€æ¥ï¼Œä¸å°±æˆäº†é˜²å›å­ä¸é˜²å°äººäº†ï¼Ÿæ‰€ä»¥è¿™å°±éœ€è¦æŠŠæºç æ‰˜ç®¡åœ¨æˆ‘ä»¬ä¹‹å‰æ­å»ºé‚£ä¸ªå®¶åº­ç§äººçš„ GitLab ä¸Šçš„ã€‚</p>
<p>ä½†æ˜¯è¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œæˆ‘åˆåŒå’å•å‘ç°äº†ä¸€ä¸ªé—®é¢˜ï¼šæˆ‘ç»å¸¸å¿˜è®°æŠŠæœ¬åœ°çš„åšå®¢æºç  push åˆ° GitLab ä¸Šã€‚å¤§éƒ¨åˆ†çš„æ—¶å€™éƒ½æ˜¯æœ¬åœ°å†™å®Œï¼Œä¿®æ”¹çš„å·®ä¸å¤šä¹‹åå°± <code>hexo deploy</code> éƒ¨ç½²åå°±å¿˜äº† push åˆ° GitLabï¼Œå¯¼è‡´ç”¨çš„æ—¶å€™è¯¥ä¸¢çš„æ–‡ç« è¿˜æ˜¯ä¸¢äº†ã€‚æ¼ç¾æˆæ€’ä¹‹ä¸‹ï¼ŒèŒç”Ÿäº†åˆ©ç”¨ GitLab CI&#x2F;CD è‡ªåŠ¨éƒ¨ç½²ã€‚å®ç°æ¯æ¬¡å†™å®Œæ–‡ç« ï¼Œåªéœ€è¦ push æœ¬åœ°æºç åˆ° GitLabï¼Œç„¶å GitLab è‡ªåŠ¨éƒ¨ç½²ã€‚è¿™æ ·ä¸€æ¥å°±ä¸æ€•æ¯æ¬¡å†™å®Œæ–‡ç« æ‰‹åŠ¨éƒ¨ç½²ä¹‹åå¿˜è®°æäº¤æœ¬åœ°æºç ï¼ŒäºŒæ¥ä¹Ÿå‡å°‘äº†éœ€è¦æ‰‹åŠ¨çš„æ­¥éª¤ã€‚æ¯•ç«Ÿæ‡’æƒ°æ‰æ˜¯äººç±»çš„ç¬¬ä¸€ç”Ÿäº§åŠ›ã€‚</p>
<h1 id="å¼€å§‹å§"><a href="#å¼€å§‹å§" class="headerlink" title="å¼€å§‹å§"></a>å¼€å§‹å§</h1><h2 id="å®‰è£…-Docker"><a href="#å®‰è£…-Docker" class="headerlink" title="å®‰è£… Docker"></a>å®‰è£… Docker</h2><p>ä½¿ç”¨ GitLab CI&#x2F;CD åŠŸèƒ½ä¸æ˜¯å¿…é¡» Dockerï¼Œä½†æ˜¯å®¹å™¨åŒ–çš„ Docker èƒ½å¤Ÿéš”ç¦»ç‰©ç†æœºï¼Œé˜²æ­¢ä¸€è¨€ä¸åˆä¸€ä¸ª <code>rm -rf /*</code> è®©ä½ çš„å¿ƒè¡€ç™½è´¹ã€‚</p>
<p>ä»¥ä¸‹å‘½ä»¤éœ€è¦ ssh åˆ° GitLab æœåŠ¡æ‰€åœ¨çš„æœºå™¨ä¸­è¿›è¡Œ</p>
<ol>
<li>å¸è½½æ—§ç‰ˆæœ¬ Dockerï¼ˆå¦‚æœæ²¡å®‰è£…è¿‡ï¼Œå¯ä»¥çœç•¥ï¼‰</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt remove docker docker-engine docker.io containerd runc</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å®‰è£…å¿…è¦ä¾èµ–</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update &amp;&amp; <span class="built_in">sudo</span> apt install apt-transport-https ca-certificates curl gnupg lsb-release</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>æ·»åŠ  apt æº</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">curl -fsSL https://download.docker.com/linux/ubuntu/gpg | <span class="built_in">sudo</span> gpg --dearmor -o /usr/share/keyrings/docker-archive-keyring.gpg</span><br><span class="line"></span><br><span class="line"><span class="built_in">echo</span> \</span><br><span class="line"> <span class="string">&quot;deb [arch=<span class="subst">$(dpkg --print-architecture)</span> signed-by=/usr/share/keyrings/docker-archive-keyring.gpg] https://download.docker.com/linux/ubuntu \</span></span><br><span class="line"><span class="string"> <span class="subst">$(lsb_release -cs)</span> stable&quot;</span> | <span class="built_in">sudo</span> <span class="built_in">tee</span> /etc/apt/sources.list.d/docker.list &gt; /dev/null</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>å®‰è£… Docker</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt update &amp;&amp; <span class="built_in">sudo</span> apt install docker-ce docker-ce-cli containerd.io</span><br></pre></td></tr></table></figure>

<ol start="5">
<li>å¯åŠ¨ Docker</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> systemctl <span class="built_in">enable</span> docker</span><br><span class="line"><span class="built_in">sudo</span> systemctl start docker</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä»¥ä¸Šå‘½ä»¤æ²¡æœ‰å‡ºç°é”™è¯¯ï¼Œé‚£ä¹ˆ docker å°±å·²ç»å®‰è£…åˆ°æœåŠ¡å™¨ä¸Šäº†ã€‚å¦‚æœä¸æ”¾å¿ƒï¼Œå¯ä»¥é€šè¿‡ <code>sudo docker -v</code> å‘½ä»¤ï¼Œå¦‚æœè¾“å‡ºç±»ä¼¼ <code>Docker version 20.10.12, build e91ed57</code> å°±è¯´æ˜ docker å·²ç»æ­£ç¡®å®‰è£…äº†ã€‚</p>
<h2 id="å®‰è£…-Gitlab-Runner"><a href="#å®‰è£…-Gitlab-Runner" class="headerlink" title="å®‰è£… Gitlab-Runner"></a>å®‰è£… Gitlab-Runner</h2><p>ä»¥ä¸‹çš„å‘½ä»¤éƒ½éœ€è¦ ssh åˆ° GitLab æœåŠ¡æ‰€åœ¨çš„æœºå™¨ä¸­è¿›è¡Œ</p>
<ol>
<li>æ·»åŠ  gitlab-runner åº“</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">curl -L <span class="string">&quot;https://packages.gitlab.com/install/repositories/runner/gitlab-runner/script.deb.sh&quot;</span> | <span class="built_in">sudo</span> bash</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>å®‰è£… gitlab-runner</li>
</ol>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install gitlab-runner</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸€åˆ‡é¡ºåˆ©ï¼Œgitlab-runner å°±å®‰è£…å¥½äº†ï¼Œå¯ä»¥è¿è¡Œ <code>sudo gitlab-runner -v</code> å¦‚æœæ²¡æœ‰é”™è¯¯ï¼Œåˆ™è¯´æ˜ gitlab-runner å®‰è£…æˆåŠŸã€‚</p>
<h2 id="æ³¨å†Œ-Runner"><a href="#æ³¨å†Œ-Runner" class="headerlink" title="æ³¨å†Œ Runner"></a>æ³¨å†Œ Runner</h2><p>é¦–å…ˆä½¿ç”¨ <code>root</code> ç”¨æˆ·ç™»å½• gitlab -&gt; ç‚¹å‡»å·¦ä¸Šæ–¹ <code>Menu</code> -&gt; è¿›å…¥ <code>Admin</code> -&gt; ç‚¹å‡»å·¦ä¾§é¢æ¿ <code>Overview</code> ä¸‹çš„ <code>Runners</code><br><img data-src="https://images.zabrian.com/4dc2c2e2-dffb-44f5-2a7e-4140ab776f01/origin" title="GitLab-Admin-Runners" style="zoom:100%;" /></p>
<p>ç„¶åç‚¹å‡»å³ä¸Šæ–¹ Register an instance runnerï¼Œå¤åˆ¶ Registration token<br><img data-src="https://images.zabrian.com/fc6c425a-3304-44c8-a670-b425588c6101/origin" title="Register an instance runner" style="zoom:100%;" /></p>
<p>å†æ¬¡é€šè¿‡ ssh è¿æ¥ GitLab æœåŠ¡å™¨æ³¨å†Œä¸€ä¸ªå…±äº« Runner</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> gitlab-runner register</span><br><span class="line">Enter the GitLab instance URL (<span class="keyword">for</span> example, https://gitlab.com/):</span><br><span class="line">http://git.home/            <span class="comment"># æœ¬åœ° GitLab åŸŸåæˆ–è€…IP</span></span><br><span class="line">Enter the registration token:</span><br><span class="line">xxxxxxxxxxxxxxxx            <span class="comment"># ä¸Šé¢è·å–åˆ°çš„ token</span></span><br><span class="line">Enter a description <span class="keyword">for</span> the runner:</span><br><span class="line">[ubuntu]: node              <span class="comment"># runner è‡ªå®šä¸€ä¸ªåå­—</span></span><br><span class="line">Enter tags <span class="keyword">for</span> the runner (comma-separated):</span><br><span class="line">node                        <span class="comment"># runner tag çš„åå­—ï¼Œé€šè¿‡ tag æŒ‡å®šè¿è¡Œ runner</span></span><br><span class="line">Registering runner... succeeded                     runner=xxxxxx</span><br><span class="line">Enter an executor: custom, ssh, docker-ssh+machine, kubernetes, docker, docker-ssh, parallels, shell, virtualbox, docker+machine:</span><br><span class="line">docker                      <span class="comment"># è¿™é‡Œé€‰æ‹© docker</span></span><br><span class="line">Enter the default Docker image (<span class="keyword">for</span> example, ruby:2.6):</span><br><span class="line">node:17                     <span class="comment"># docker é•œåƒä»¥åŠç‰ˆæœ¬</span></span><br><span class="line">Runner registered successfully. Feel free to start it, but <span class="keyword">if</span> it<span class="string">&#x27;s running already the config should be automatically reloaded!</span></span><br></pre></td></tr></table></figure>

<p>å½“åˆ›å»ºå¥½ Runner ä¹‹åï¼Œå†æ¬¡å›åˆ° <code>Runners</code> é¡µé¢åˆ·æ–°å°±å¯ä»¥æ˜¾ç¤ºåˆšåˆšåˆ›å»ºçš„ Runner äº†ã€‚</p>
<h2 id="åˆ›å»º-SSH-å¯†é’¥å¯¹"><a href="#åˆ›å»º-SSH-å¯†é’¥å¯¹" class="headerlink" title="åˆ›å»º SSH å¯†é’¥å¯¹"></a>åˆ›å»º SSH å¯†é’¥å¯¹</h2><p>åœ¨æœ¬åœ°æˆ–è€…æœåŠ¡å™¨ä¸Šæ‰§è¡Œ</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ssh-keygen -f blog -t rsa -b 2048 -C <span class="string">&quot;xxxx@xxx.xxx&quot;</span>     <span class="comment"># é‚®ç®±è‡ªè¡Œæ›¿æ¢</span></span><br></pre></td></tr></table></figure>

<p>ç”Ÿæˆä¸€ä¸ªæ— å¯†ç çš„ SSH çš„å¯†é’¥å¯¹</p>
<p>å…¬é’¥ä¸º <code>blog.pub</code>ï¼Œç§é’¥ä¸º <code>blog</code></p>
<h2 id="GitHub-æ·»åŠ -Deploy-keys"><a href="#GitHub-æ·»åŠ -Deploy-keys" class="headerlink" title="GitHub æ·»åŠ  Deploy keys"></a>GitHub æ·»åŠ  Deploy keys</h2><p>ç™»å½• GitHubï¼Œè¿›å…¥éƒ¨ç½²çš„åšå®¢ä»“åº“ï¼Œç‚¹å‡» <code>Settings</code> -&gt; <code>Deploy keys</code> -&gt; <code>Add deploy key</code></p>
<p>å°† <code>blog.pub</code> å…¬é’¥çš„å†…å®¹å…¨éƒ¨å¤åˆ¶åˆ° <code>Key</code> ä¸­ï¼Œç„¶å <code>Title</code> å¤„è‡ªå®šä¹‰ä¸€ä¸ªåå­—</p>
<h2 id="GitLab-é…ç½®-CI-CD"><a href="#GitLab-é…ç½®-CI-CD" class="headerlink" title="GitLab é…ç½® CI&#x2F;CD"></a>GitLab é…ç½® CI&#x2F;CD</h2><p>è¿›å…¥ GitLab åšå®¢é¡¹ç›®ï¼Œç‚¹å‡» <code>Settings</code> ä¸‹çš„ <code>CI/CD</code>ï¼Œå³ä¾§å±•å¼€ <code>Runners</code> é€‰é¡¹å¡ï¼Œå³ä¾§ <code>Shared runners</code> æ‰“å¼€ <code>Enable shared runners for this project</code> é€‰é¡¹<br><img data-src="https://images.zabrian.com/6f66496d-6e87-463b-1fe6-657a77a5d801/origin" title="Enable shared runners for this project" style="zoom:25%;" /></p>
<p>ç„¶åå†å±•å¼€åˆ°ä¸‹æ–¹ <code>Variables</code></p>
<p>æ·»åŠ ä¸¤ä¸ªç¯å¢ƒå˜é‡åˆ†åˆ«æ˜¯</p>
<ul>
<li><code>SSH_KNOWN_HOSTS</code></li>
</ul>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">github.com ecdsa-sha2-nistp256 AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBEmKSENjQEezOmxkZMy7opKgwFB9nkt5YRrYMjNuG5N87uRgg6CLrbo5wAdT/y6v0mKV0U2w0WZ2YB/++Tpockg=</span><br></pre></td></tr></table></figure>

<ul>
<li><code>SSH_PRIVATE_KEY</code><br><a href="#%E5%88%9B%E5%BB%BA-SSH-%E5%AF%86%E9%92%A5%E5%AF%B9">åˆ›å»º SSH å¯†é’¥å¯¹</a> ä¸­çš„ç§é’¥ <code>blog</code> å†…å®¹<img data-src="https://images.zabrian.com/5f546e74-b6d1-4751-a4d7-c80d71e37801/origin" title="GitLab-CICD-Settings-Variables" style="zoom:47%;" /></li>
</ul>
<h2 id="é¡¹ç›®-gitlab-ci-yml-é…ç½®"><a href="#é¡¹ç›®-gitlab-ci-yml-é…ç½®" class="headerlink" title="é¡¹ç›® .gitlab-ci.yml é…ç½®"></a>é¡¹ç›® <code>.gitlab-ci.yml</code> é…ç½®</h2><p>ç»è¿‡ä»¥ä¸Šé…ç½®ï¼Œç°åœ¨ç¦»æˆåŠŸæœ‰ä¸€æ­¥ä¹‹é¥ã€‚</p>
<p>åœ¨ GitLab åšå®¢æºç é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>.gitlab-ci.yml</code> çš„é…ç½®æ–‡ä»¶</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">stages:</span></span><br><span class="line">  <span class="bullet">-</span> <span class="string">deploy</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">stage:</span> <span class="string">deploy</span></span><br><span class="line">  <span class="attr">only:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">main</span> <span class="comment"># æŒ‡å®šåªæœ‰ä¸»åˆ†æ”¯è§¦å‘è¯¥ CI</span></span><br><span class="line">  <span class="attr">tags:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">node</span> <span class="comment"># æ­¤å¤„ tag æŒ‡å®šåˆ›å»º GitLab Runner æ—¶å€™å¡«å†™ tag åå­—</span></span><br><span class="line">  <span class="attr">before_script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">ln</span> <span class="string">-sf</span> <span class="string">/usr/share/zoneinfo/Asia/Shanghai</span> <span class="string">/etc/localtime</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;which ssh-agent || ( apt-get update -y &amp;&amp; apt-get install openssh-client -y )&quot;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">eval</span> <span class="string">$(ssh-agent</span> <span class="string">-s)</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">mkdir</span> <span class="string">-p</span> <span class="string">~/.ssh</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">rm</span> <span class="string">-rf</span> <span class="string">~/.ssh/id_rsa</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">touch</span> <span class="string">~/.ssh/id_rsa</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">&quot;$SSH_PRIVATE_KEY&quot;</span> <span class="string">&gt;</span> <span class="string">~/.ssh/id_rsa</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">rm</span> <span class="string">-rf</span> <span class="string">~/.ssh/known_hosts</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">touch</span> <span class="string">~/.ssh/known_hosts</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">echo</span> <span class="string">&quot;$SSH_KNOWN_HOSTS&quot;</span> <span class="string">&gt;</span> <span class="string">~/.ssh/known_hosts</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">chmod</span> <span class="number">700</span> <span class="string">~/.ssh</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">chmod</span> <span class="number">700</span> <span class="string">~/.ssh/*</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.email</span> <span class="string">&quot;xxxx@xxx.xxx&quot;</span> <span class="comment"># GitHub çš„é‚®ç®±</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">user.name</span> <span class="string">&quot;xxxx&quot;</span> <span class="comment"># GitHub çš„åå­—</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">git</span> <span class="string">config</span> <span class="string">--global</span> <span class="string">init.defaultBranch</span> <span class="string">main</span> <span class="comment"># GitHub é¡¹ç›®çš„ä¸»åˆ†æ”¯ main æˆ–è€… master</span></span><br><span class="line">  <span class="attr">script:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">-g</span> <span class="string">hexo-cli</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-deployer-git</span> <span class="string">--save</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-renderer-swig</span> <span class="string">--save</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-generator-searchdb</span> <span class="string">--save</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-symbols-count-time</span> <span class="string">--save</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-generator-sitemap</span> <span class="string">--save</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">npm</span> <span class="string">install</span> <span class="string">hexo-abbrlink</span> <span class="string">--save</span> <span class="comment"># ä»¥ä¸Š npm æ­¥éª¤æ ¹æ®è‡ªå·±æ·»åŠ çš„æ’ä»¶è‡ªå®šä¹‰</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">hexo</span> <span class="string">clean</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">hexo</span> <span class="string">generate</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">hexo</span> <span class="string">deploy</span></span><br></pre></td></tr></table></figure>

<p>ç„¶å <code>git add .gitlab-ci.yml</code> æœ€åæ¨é€åˆ°ä»“åº“ä¹‹åï¼Œä»ä¾§è¾¹ <code>CI/CD</code> ä¸‹ <code>Pipelines</code> å°±å¯ä»¥çœ‹åˆ°è‡ªåŠ¨è¿è¡Œéƒ¨ç½²å·¥ä½œäº†</p>
<h1 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h1><p>ç»è¿‡ä»¥ä¸Šçš„æ­¥éª¤ï¼Œç°åœ¨å°±å¯ä»¥æ¯æ¬¡åœ¨æœ¬åœ°ç¼–è¾‘åï¼Œåªéœ€è¦æ¨é€åˆ° GitLab å¹¶ç¨ç­‰ç‰‡åˆ»ï¼ŒGitHub Pages çš„é¡µé¢å°±æœ‰æœ€æ–°çš„å†…å®¹äº†ã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>Hexo ä½¿ç”¨é€šè¡Œå¯†é’¥å¯¹æ–‡ç« åŠ å¯†</title>
    <url>/post/4de6100b.html</url>
    <content><![CDATA[<p>Hexo ä¸­ä¸»æµä½¿ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL0QwbjlYMW4vaGV4by1ibG9nLWVuY3J5cHQ=">hexo-blog-encrypt<i class="fa fa-external-link-alt"></i></span> æ’ä»¶å¯ä»¥å¯¹æ–‡ç« è¿›è¡ŒåŠ å¯†ã€‚è¿™ç§æ–¹æ³•é€šè¿‡å¯†ç å®ç°ã€‚ç›¸æ¯”æ›´ä¸ºç®€å•çš„å‰ç«¯ JavaScript å¯†ç æ¯”è¾ƒéªŒè¯ï¼Œè¯¥æ–¹æ³•çš„åŠ å¯†æµç¨‹å¦‚ä¸‹</p>
<ul>
<li>Markdown æ–‡ç« å¤´éƒ¨å¯†ç  â†’ PBKDF2 æ´¾ç”Ÿå¯†é’¥ â†’ AES-256-CBC åŠ å¯†åŸå§‹å†…å®¹ â†’ ç”Ÿæˆ HMAC å®Œæ•´æ€§æ ¡éªŒ â†’ è¾“å‡ºåŠ å¯†çš„ HTML</li>
</ul>
<p>ä»è€Œå®ç°ä½¿ç”¨åŠ å¯†åšçš„å†…å®¹æ›¿æ¢åŸå§‹å†…å®¹ï¼Œé˜²æ­¢é€šè¿‡ç®€å• JavaScript æ‰‹æ®µç›´æ¥è·³è¿‡å¯†ç éªŒè¯ã€‚åŒæ—¶è§£å¯†è¿‡ç¨‹åˆ™æ˜¯</p>
<ul>
<li>ç”¨æˆ·è¾“å…¥å¯†ç  â†’ PBKDF2 æ´¾ç”Ÿå¯†é’¥ â†’ éªŒè¯ HMAC â†’ AES-256-CBC è§£å¯† â†’ è·å–åŸå§‹ HTML å†…å®¹ â†’ æ¸²æŸ“æ–‡ç« å†…å®¹</li>
</ul>
<span id="more"></span>

<p>è¿™ç§æ–¹æ¡ˆçš„å¥½å¤„æ˜¯ç®€å•æ˜“ç”¨ï¼Œå¯¹äºéœ€è¦ä¿å¯†çš„æ–‡ç« å†…å®¹ï¼Œåªéœ€è¦åœ¨ä½¿ç”¨æ’ä»¶å¹¶åœ¨æ–‡ç« å¤´éƒ¨å¢åŠ å¯†ç å³å¯ã€‚ä½†æ˜¯ä½œä¸ºä¸€ä¸ªä¼šç‚¹æŠ€æœ¯çš„æŠ˜è…¾å…šæ€ä¹ˆæ»¡è¶³äºæ¯æ¬¡æ‰‹åŠ¨è¾“å…¥å¯†ç ï¼Ÿçœ‹ç€ç°åœ¨å„å¤§ç½‘ç«™æ¨è¡Œçš„é€šè¡Œå¯†é’¥ï¼Œç™»å½•åªéœ€è¦è§¦æ‘¸ä¸€ä¸‹ TouchID çš„å¿«æ„Ÿç¡®å®æ˜¯ä¼ ç»Ÿè¾“å…¥å¯†ç ä¸èƒ½æ¯”æ‹Ÿçš„ã€‚æ‰€ä»¥å°±åœ¨å›½åº†æœŸé—´å¥½å¥½æ¢ç´¢äº†ä¸€ä¸‹å…¶å¯è¡Œæ€§ï¼Œæœ€ç»ˆä¹Ÿæ˜¯åœ¨é™æ€åšå®¢ä¸­ç”¨ä¸Šäº†ä¸€è§¦å³è¾¾çš„é€šè¡Œå¯†é’¥ã€‚</p>
<h1 id="æ•´ä½“æ€è·¯"><a href="#æ•´ä½“æ€è·¯" class="headerlink" title="æ•´ä½“æ€è·¯"></a>æ•´ä½“æ€è·¯</h1><img data-src="https://images.zabrian.com/85d3037a-fadf-4e98-8ee2-d84196e8ce01/origin" style="zoom:16%;" />

<h1 id="æ··åˆåŠ å¯†-Hybrid-Encryption"><a href="#æ··åˆåŠ å¯†-Hybrid-Encryption" class="headerlink" title="æ··åˆåŠ å¯† (Hybrid Encryption)"></a>æ··åˆåŠ å¯† (Hybrid Encryption)</h1><img data-src="https://images.zabrian.com/bf70281b-6855-47bb-84b8-69fcb164db01/origin" style="zoom:23%;" />

<div class="note info"><p><strong>Q</strong>: ä¸ºä»€ä¹ˆä½¿ç”¨æ··åˆåŠ å¯†è€Œä¸æ˜¯ç›´æ¥ç”¨ FIDO2 å¯†é’¥åŠ å¯†ï¼Ÿ<br><strong>A</strong>: <strong>æ”¯æŒå¤šè®¾å¤‡</strong></p>
<p><strong>Q</strong>: PRF Salt å¿…é¡»ä¿å¯†å—ï¼Ÿ<br><strong>A</strong>: <strong>ä¸éœ€è¦</strong> å› ä¸º PRF Salt çš„ä½œç”¨æ˜¯ä¸ºäº† <strong>è·¨åŸŸä¸€è‡´æ€§</strong></p>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// ç›¸åŒ FIDO2 è®¾å¤‡ + ç›¸åŒ Salt â†’ ç›¸åŒå¯†é’¥</span></span><br><span class="line">wrappingKey = <span class="title class_">FIDO2</span>_PRF(hardware_key, prfSalt)</span><br><span class="line">                             â†‘           â†‘</span><br><span class="line">                           ä¿å¯†çš„       å…¬å¼€çš„</span><br></pre></td></tr></table></figure>
<ul>
<li>PRF Salt &#x3D; ç›å€¼ï¼ˆå…¬å¼€ï¼‰</li>
<li>Hardware Key &#x3D; å¯†ç ï¼ˆä¿å¯†ï¼‰</li>
</ul>
<p>å³ä½¿çŸ¥é“ Saltï¼Œç¡¬ä»¶å¯†é’¥ä¸€èˆ¬ä»…å­˜åœ¨ FIDO2 è®¾å¤‡ä¸­æ— æ³•å¯¼å‡ºï¼Œå› æ­¤æ²¡æœ‰ç¡¬ä»¶å¯†é’¥ä»ç„¶æ— æ³•æ´¾ç”Ÿå‡º wrappingKey</p>
<p><strong>Q</strong>: ä¸‹è½½äº†æˆ‘çš„åšå®¢ HTMLï¼Œèƒ½ç ´è§£å—ï¼Ÿ<br><strong>A</strong>: <strong>ä¸èƒ½</strong>ï¼ŒåŸå› å¦‚ä¸‹</p>
<figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line">ä» HTML å¯ä»¥è·å¾—:</span><br><span class="line"><span class="bullet"> 1.</span> åŠ å¯†çš„æ–‡ç« å†…å®¹ (ciphertext)</span><br><span class="line"><span class="bullet"> 2.</span> åˆå§‹åŒ–å‘é‡ (iv, authTag)</span><br><span class="line"><span class="bullet"> 3.</span> åŒ…è£…åçš„ CEK (wrappedKeys)</span><br><span class="line"><span class="bullet"> 4.</span> PRF Salt</span><br><span class="line"></span><br><span class="line">ä¸èƒ½è·å¾—ï¼š</span><br><span class="line">  åŒ…è£…å¯†é’¥ (wrappingKey)</span><br><span class="line"><span class="code">     â””â”€ ä½¿ç”¨ AES-256-GCM åŠ å¯†ï¼Œå®‰å…¨æ€§ç›®å‰å°šå¯</span></span><br></pre></td></tr></table></figure></div>

<h1 id="æµ‹è¯•é¡µé¢"><a href="#æµ‹è¯•é¡µé¢" class="headerlink" title="æµ‹è¯•é¡µé¢"></a>æµ‹è¯•é¡µé¢</h1><a href="/post/19c1a188.html" title="æµ‹è¯•åŠ å¯†æ–‡ç« ">æµ‹è¯•åŠ å¯†æ–‡ç« </a>

<p>å¯†ç : <code>123456</code></p>
<div style="display:flex; flex-wrap:wrap; gap:12px; align-items:flex-start;">
  <div style="position:relative; flex:1 1 480px; max-width:100%; aspect-ratio:100/52.96875;">
    <iframe
      src="https://customer-fonbnn17ffsh6xbx.cloudflarestream.com/a8621952cca955db2b06c529a54ac473/iframe?preload=true&loop=true&autoplay=true&title=%E9%80%9A%E8%A1%8C%E5%AF%86%E9%92%A5%E9%AA%8C%E8%AF%81"
      loading="lazy"
      style="position:absolute; inset:0; width:100%; height:100%; border:0;"
      allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;"
      allowfullscreen="true"
    ></iframe>
  </div>

  <div style="position:relative; flex:1 1 480px; max-width:100%; aspect-ratio:100/52.96875;">
    <iframe
      src="https://customer-fonbnn17ffsh6xbx.cloudflarestream.com/2da0cc46efa7b773d05561cfe24a1437/iframe?preload=true&loop=true&autoplay=true&title=%E5%AF%86%E7%A0%81%E9%AA%8C%E8%AF%81"
      loading="lazy"
      style="position:absolute; inset:0; width:100%; height:100%; border:0;"
      allow="accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture;"
      allowfullscreen="true"
    ></iframe>
  </div>
</div>

<h1 id="é£Ÿç”¨æŒ‡å—"><a href="#é£Ÿç”¨æŒ‡å—" class="headerlink" title="é£Ÿç”¨æŒ‡å—"></a>é£Ÿç”¨æŒ‡å—</h1><div class="note danger"><p>æ³¨æ„: ä»¥ä¸‹ä»£ç åªé’ˆå¯¹ NexT ä¸»é¢˜ä¿®æ”¹ï¼Œå¦‚æœä½¿ç”¨çš„ä¸æ˜¯ NexT ä¸»é¢˜åˆ™éœ€è¦è‡ªè¡Œæ ¹æ®éœ€è¦é’ˆå¯¹æ€§ä¿®æ”¹</p>
</div>

<h2 id="ç«™ç‚¹é…ç½®"><a href="#ç«™ç‚¹é…ç½®" class="headerlink" title="ç«™ç‚¹é…ç½®"></a>ç«™ç‚¹é…ç½®</h2><figure class="highlight yml"><figcaption><span>ç«™ç‚¹ _config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="attr">encryption:</span></span><br><span class="line">  <span class="attr">enabled:</span> <span class="literal">true</span>   <span class="comment"># å¯ç”¨åŠ å¯†</span></span><br><span class="line">  <span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># è§£å¯†åç¼“å­˜æ—¶é•¿ (åˆ†é’Ÿ)</span></span><br><span class="line">  <span class="comment"># é»˜è®¤ 0 è¡¨ç¤ºä¸ç¼“å­˜ï¼Œå³æ¯æ¬¡åˆ·æ–°é¡µé¢åéƒ½éœ€è¦é‡æ–°è®¤è¯</span></span><br><span class="line">  <span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line">  <span class="attr">cache:</span> <span class="number">10</span></span><br><span class="line">  <span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line">  <span class="comment"># 64 ä½ç›å€¼</span></span><br><span class="line">  <span class="comment"># å¯é€šè¿‡ openssl rand -hex 32 ç”Ÿæˆ</span></span><br><span class="line">  <span class="comment"># ä¿®æ”¹åéœ€è¦é‡æ–°æ³¨å†Œ FIDO2 è®¾å¤‡</span></span><br><span class="line">  <span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line">  <span class="attr">salt:</span> <span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="comment"># ---------------------------------------------------------------   </span></span><br><span class="line">  <span class="comment"># FIDO2 è®¾å¤‡æ³¨å†Œåç”Ÿæˆçš„ key (åˆ‡å‹¿æ³„éœ²!!) </span></span><br><span class="line">  <span class="comment"># å¦‚æœæ³¨å†Œå¤šä¸ª key åˆ™åœ¨ä¸‹æ–¹ä¾æ¬¡æ·»åŠ å³å¯</span></span><br><span class="line">  <span class="comment"># æ¯æ·»åŠ ä¸€ä¸ªæ–° key éœ€è¦é‡æ–° generate å¹¶éƒ¨ç½²æ‰èƒ½ç”Ÿæ•ˆ</span></span><br><span class="line">  <span class="comment"># ---------------------------------------------------------------</span></span><br><span class="line">  <span class="attr">keys:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="æ³¨å†Œ-FIDO2-æµç¨‹"><a href="#æ³¨å†Œ-FIDO2-æµç¨‹" class="headerlink" title="æ³¨å†Œ FIDO2 æµç¨‹"></a>æ³¨å†Œ FIDO2 æµç¨‹</h2><ul>
<li><code>./source/register.html</code> (æ–°å¢)</li>
</ul>
<div class="note info"><p>æ³¨æ„: æ³¨å†Œé¡µé¢ä¸­éœ€è¦å¡«å†™ <code>ç«™ç‚¹ _config.yml</code> ä¸­ä½¿ç”¨çš„ <code>salt</code></p>
</div>

<div class="tabs" id="æ³¨å†Œ-fido2-æµç¨‹"><ul class="nav-tabs"><li class="tab active"><a href="#æ³¨å†Œ-fido2-æµç¨‹-1"><i class="fa fa-code"></i>./source/register.html</a></li></ul><div class="tab-content"><div class="tab-pane active" id="æ³¨å†Œ-fido2-æµç¨‹-1"><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;zh-CN&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>æ³¨å†Œé€šè¡Œå¯†é’¥<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span></span></span><br><span class="line"><span class="tag">      <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span></span></span><br><span class="line"><span class="tag">      <span class="attr">href</span>=<span class="string">&quot;https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css&quot;</span></span></span><br><span class="line"><span class="tag">    /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">      * &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">box-sizing</span>: border-box;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">body</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-family</span>: -apple-system, <span class="string">&quot;PingFang SC&quot;</span>, <span class="string">&quot;Microsoft YaHei&quot;</span>, <span class="string">&quot;sans-serif&quot;</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: white;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">min-height</span>: <span class="number">100vh</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: flex;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">align-items</span>: flex-start;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">justify-content</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">60px</span> <span class="number">20px</span> <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.container</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">max-width</span>: <span class="number">650px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">40px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-tag">h1</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: <span class="number">#333</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-bottom</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">28px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.subtitle</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: <span class="number">#666</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-bottom</span>: <span class="number">30px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">14px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.register-btn</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="number">#059669</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border</span>: none;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-weight</span>: <span class="number">600</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">transition</span>: all <span class="number">0.3s</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.register-btn</span><span class="selector-pseudo">:hover</span><span class="selector-pseudo">:not</span>(<span class="selector-pseudo">:disabled</span>) &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="number">#047857</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.register-btn</span><span class="selector-pseudo">:disabled</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">cursor</span>: not-allowed;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="number">#9ca3af</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.register-btn</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-right</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-id">#status</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-top</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: none;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.note</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">8px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-top</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.note</span><span class="selector-class">.success</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="number">#d4edda</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#c3e6cb</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: <span class="number">#155724</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.note</span><span class="selector-class">.danger</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="number">#f8d7da</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#f5c6cb</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: <span class="number">#721c24</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.note</span><span class="selector-class">.info</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="number">#d1ecf1</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#bee5eb</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: <span class="number">#0c5460</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.note</span> <span class="selector-tag">code</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="number">#f5f5f5</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">15px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">12px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-family</span>: <span class="string">&quot;Monaco&quot;</span>, <span class="string">&quot;Courier New&quot;</span>, monospace;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">user-select</span>: all;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">word-break</span>: break-all;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin</span>: <span class="number">10px</span> auto;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">text-align</span>: center;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.copy-btn</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">16px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="number">#0284c7</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: white;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border</span>: none;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">cursor</span>: pointer;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">14px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin</span>: <span class="number">10px</span> auto <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.copy-btn</span><span class="selector-pseudo">:hover</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">background</span>: <span class="number">#0369a1</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.copy-btn</span> <span class="selector-tag">i</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-right</span>: <span class="number">5px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.salt-container</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-bottom</span>: <span class="number">20px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.salt-container</span> <span class="selector-tag">label</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">display</span>: block;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">margin-bottom</span>: <span class="number">8px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">color</span>: <span class="number">#666</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">14px</span>;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">      <span class="selector-class">.salt-container</span> <span class="selector-tag">input</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">width</span>: <span class="number">100%</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">padding</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="number">#ddd</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">border-radius</span>: <span class="number">4px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-size</span>: <span class="number">13px</span>;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">font-family</span>: monospace;</span></span><br><span class="line"><span class="language-css">      &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;container&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>æ³¨å†Œé€šè¡Œå¯†é’¥<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;subtitle&quot;</span>&gt;</span></span><br><span class="line">        ä½¿ç”¨ YubiKeyã€Touch ID æˆ–å…¶ä»– FIDO2 è®¾å¤‡ä¿æŠ¤åŠ å¯†å†…å®¹</span><br><span class="line">      <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;salt-container&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">&quot;prf-salt-input&quot;</span></span></span><br><span class="line"><span class="tag">          &gt;</span>PRF Salt <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">&quot;color: #ef4444&quot;</span>&gt;</span>*<span class="tag">&lt;/<span class="name">span</span>&gt;</span>&lt;/label</span><br><span class="line">        &gt;</span><br><span class="line">        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">&quot;text&quot;</span> <span class="attr">id</span>=<span class="string">&quot;prf-salt-input&quot;</span> <span class="attr">placeholder</span>=<span class="string">&quot;&quot;</span> <span class="attr">required</span> /&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">button</span> <span class="attr">class</span>=<span class="string">&quot;register-btn&quot;</span> <span class="attr">id</span>=<span class="string">&quot;register-btn&quot;</span> <span class="attr">disabled</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-key&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> å¼€å§‹æ³¨å†Œ</span><br><span class="line">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;status&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">function</span> <span class="title function_">getRPID</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> hostname = location.<span class="property">hostname</span>;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">return</span> hostname === <span class="string">&quot;127.0.0.1&quot;</span> ? <span class="string">&quot;localhost&quot;</span> : hostname;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">class</span> <span class="title class_">FIDO2Registrar</span> &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">btn</span> = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;register-btn&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">saltInput</span> = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;prf-salt-input&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">btn</span>.<span class="property">onclick</span> = <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">register</span>();</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">saltInput</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;input&quot;</span>, <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">validateInput</span>());</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="title function_">validateInput</span>();</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">validateInput</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> isValid = <span class="variable language_">this</span>.<span class="property">saltInput</span>.<span class="property">value</span>.<span class="title function_">trim</span>().<span class="property">length</span> &gt; <span class="number">0</span>;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">btn</span>.<span class="property">disabled</span> = !isValid;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">async</span> <span class="title function_">register</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="property">btn</span>.<span class="property">disabled</span> = <span class="literal">true</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">if</span> (!<span class="variable language_">window</span>.<span class="property">PublicKeyCredential</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">show</span>(</span></span><br><span class="line"><span class="language-javascript">              <span class="string">&#x27;&lt;div class=&quot;note danger&quot;&gt;&lt;p&gt;æµè§ˆå™¨ä¸æ”¯æŒ FIDO2/WebAuthn&lt;/p&gt;&lt;/div&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            );</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">btn</span>.<span class="property">disabled</span> = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">this</span>.<span class="title function_">show</span>(<span class="string">&#x27;&lt;div class=&quot;note info&quot;&gt;&lt;p&gt;æ­£åœ¨æ³¨å†Œé€šè¡Œå¯†é’¥...&lt;/p&gt;&lt;/div&gt;&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> userId = crypto.<span class="title function_">getRandomValues</span>(<span class="keyword">new</span> <span class="title class_">Uint8Array</span>(<span class="number">32</span>));</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> challenge = crypto.<span class="title function_">getRandomValues</span>(<span class="keyword">new</span> <span class="title class_">Uint8Array</span>(<span class="number">32</span>));</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> cred = <span class="keyword">await</span> navigator.<span class="property">credentials</span>.<span class="title function_">create</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">publicKey</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                challenge,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">rp</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">name</span>: <span class="string">&quot;Undefined Blog&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">id</span>: <span class="title function_">getRPID</span>(),</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">user</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">id</span>: userId,</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">name</span>: <span class="string">&quot;Zabrian&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">displayName</span>: <span class="string">&quot;Zabrian&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">pubKeyCredParams</span>: [</span></span><br><span class="line"><span class="language-javascript">                  &#123; <span class="attr">alg</span>: -<span class="number">7</span>, <span class="attr">type</span>: <span class="string">&quot;public-key&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                  &#123; <span class="attr">alg</span>: -<span class="number">257</span>, <span class="attr">type</span>: <span class="string">&quot;public-key&quot;</span> &#125;,</span></span><br><span class="line"><span class="language-javascript">                ],</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">authenticatorSelection</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">residentKey</span>: <span class="string">&quot;required&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">userVerification</span>: <span class="string">&quot;preferred&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">requireResidentKey</span>: <span class="literal">true</span>,</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">timeout</span>: <span class="number">60000</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">extensions</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">prf</span>: &#123;&#125;,</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">              &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (!cred) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;ç”Ÿæˆå‡­è¯å¤±è´¥&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> prfEnabled = cred.<span class="title function_">getClientExtensionResults</span>().<span class="property">prf</span>?.<span class="property">enabled</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (!prfEnabled) &#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">this</span>.<span class="title function_">show</span>(<span class="string">&#x27;&lt;div class=&quot;note danger&quot;&gt;&lt;p&gt;PRF æ‰©å±•ä¸å¯ç”¨&lt;/p&gt;&lt;/div&gt;&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript">              <span class="variable language_">this</span>.<span class="property">btn</span>.<span class="property">disabled</span> = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">return</span>;</span></span><br><span class="line"><span class="language-javascript">            &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">generateEncryptionKey</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">btn</span>.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">          &#125; <span class="keyword">catch</span> (e) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">let</span> msg = <span class="string">&quot;æ³¨å†Œå¤±è´¥: &quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (e.<span class="property">name</span> === <span class="string">&quot;NotAllowedError&quot;</span>) msg += <span class="string">&quot;æ“ä½œå–æ¶ˆ&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">name</span> === <span class="string">&quot;InvalidStateError&quot;</span>) msg += <span class="string">&quot;é‡å¤æ³¨å†Œ&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">else</span> msg += e.<span class="property">message</span>;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">show</span>(<span class="string">`&lt;div class=&quot;note danger&quot;&gt;&lt;p&gt;<span class="subst">$&#123;msg&#125;</span>&lt;/p&gt;&lt;/div&gt;`</span>);</span></span><br><span class="line"><span class="language-javascript">          &#125; <span class="keyword">finally</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="property">btn</span>.<span class="property">disabled</span> = <span class="literal">false</span>;</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">async</span> <span class="title function_">generateEncryptionKey</span>(<span class="params"></span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">try</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> prfSaltString = <span class="variable language_">this</span>.<span class="property">saltInput</span>.<span class="property">value</span>.<span class="title function_">trim</span>();</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">show</span>(</span></span><br><span class="line"><span class="language-javascript">              <span class="string">&#x27;&lt;div class=&quot;note info&quot;&gt;&lt;p&gt;æ­£åœ¨ç”ŸæˆåŠ å¯†å¯†é’¥...&lt;/p&gt;&lt;/div&gt;&#x27;</span></span></span><br><span class="line"><span class="language-javascript">            );</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> challenge = crypto.<span class="title function_">getRandomValues</span>(<span class="keyword">new</span> <span class="title class_">Uint8Array</span>(<span class="number">32</span>));</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> prfSalt = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">digest</span>(</span></span><br><span class="line"><span class="language-javascript">              <span class="string">&quot;SHA-256&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">              <span class="keyword">new</span> <span class="title class_">TextEncoder</span>().<span class="title function_">encode</span>(prfSaltString)</span></span><br><span class="line"><span class="language-javascript">            );</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> assertion = <span class="keyword">await</span> navigator.<span class="property">credentials</span>.<span class="title function_">get</span>(&#123;</span></span><br><span class="line"><span class="language-javascript">              <span class="attr">publicKey</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                challenge,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">rpId</span>: <span class="title function_">getRPID</span>(),</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">userVerification</span>: <span class="string">&quot;preferred&quot;</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">timeout</span>: <span class="number">60000</span>,</span></span><br><span class="line"><span class="language-javascript">                <span class="attr">extensions</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                  <span class="attr">prf</span>: &#123;</span></span><br><span class="line"><span class="language-javascript">                    <span class="attr">eval</span>: &#123; <span class="attr">first</span>: prfSalt &#125;,</span></span><br><span class="line"><span class="language-javascript">                  &#125;,</span></span><br><span class="line"><span class="language-javascript">                &#125;,</span></span><br><span class="line"><span class="language-javascript">              &#125;,</span></span><br><span class="line"><span class="language-javascript">            &#125;);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> prfKey =</span></span><br><span class="line"><span class="language-javascript">              assertion.<span class="title function_">getClientExtensionResults</span>().<span class="property">prf</span>?.<span class="property">results</span>?.<span class="property">first</span>;</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">if</span> (!prfKey) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;æ— æ³•è·å– PRF å¯†é’¥&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> encryptionKey = <span class="keyword">new</span> <span class="title class_">Uint8Array</span>(prfKey);</span></span><br><span class="line"><span class="language-javascript">            <span class="keyword">const</span> encryptionKeyHex = <span class="title class_">Array</span>.<span class="title function_">from</span>(encryptionKey)</span></span><br><span class="line"><span class="language-javascript">              .<span class="title function_">map</span>(<span class="function">(<span class="params">b</span>) =&gt;</span> b.<span class="title function_">toString</span>(<span class="number">16</span>).<span class="title function_">padStart</span>(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>))</span></span><br><span class="line"><span class="language-javascript">              .<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>);</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">show</span>(<span class="string">`</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">              &lt;div class=&quot;note success&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                  &lt;code id=&quot;encryption-key&quot;&gt;<span class="subst">$&#123;encryptionKeyHex&#125;</span>&lt;/code&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                  &lt;button class=&quot;copy-btn&quot; onclick=&quot;copyEncryptionKey(event)&quot;&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                    &lt;i class=&quot;fa fa-copy&quot;&gt;&lt;/i&gt; å¤åˆ¶å¯†é’¥</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                  &lt;/button&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">                &lt;/p&gt;</span></span></span><br><span class="line"><span class="string"><span class="language-javascript">              &lt;/div&gt;`</span>);</span></span><br><span class="line"><span class="language-javascript">          &#125; <span class="keyword">catch</span> (e) &#123;</span></span><br><span class="line"><span class="language-javascript">            <span class="variable language_">this</span>.<span class="title function_">show</span>(</span></span><br><span class="line"><span class="language-javascript">              <span class="string">`&lt;div class=&quot;note danger&quot;&gt;&lt;p&gt;ç”Ÿæˆå¯†é’¥å¤±è´¥: <span class="subst">$&#123;e.message&#125;</span>&lt;/p&gt;&lt;/div&gt;`</span></span></span><br><span class="line"><span class="language-javascript">            );</span></span><br><span class="line"><span class="language-javascript">          &#125;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="title function_">show</span>(<span class="params">html</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;status&quot;</span>).<span class="property">innerHTML</span> = html;</span></span><br><span class="line"><span class="language-javascript">          <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;status&quot;</span>).<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span></span><br><span class="line"><span class="language-javascript">        &#125;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">function</span> <span class="title function_">copyEncryptionKey</span>(<span class="params">event</span>) &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> key = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;encryption-key&quot;</span>).<span class="property">textContent</span>;</span></span><br><span class="line"><span class="language-javascript">        navigator.<span class="property">clipboard</span>.<span class="title function_">writeText</span>(key).<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> btn = event.<span class="property">target</span>.<span class="title function_">closest</span>(<span class="string">&quot;button&quot;</span>);</span></span><br><span class="line"><span class="language-javascript">          <span class="keyword">const</span> originalText = btn.<span class="property">innerHTML</span>;</span></span><br><span class="line"><span class="language-javascript">          btn.<span class="property">innerHTML</span> = <span class="string">&#x27;&lt;i class=&quot;fa fa-check&quot;&gt;&lt;/i&gt; å·²å¤åˆ¶&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">          <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">            btn.<span class="property">innerHTML</span> = originalText;</span></span><br><span class="line"><span class="language-javascript">          &#125;, <span class="number">2000</span>);</span></span><br><span class="line"><span class="language-javascript">        &#125;);</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>, <span class="function">() =&gt;</span> <span class="keyword">new</span> <span class="title class_">FIDO2Registrar</span>());</span></span><br><span class="line"><span class="language-javascript">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></div></div></div>

<h2 id="åŠ å¯†æµç¨‹"><a href="#åŠ å¯†æµç¨‹" class="headerlink" title="åŠ å¯†æµç¨‹"></a>åŠ å¯†æµç¨‹</h2><ul>
<li><code>./scripts/post-encrypt.js</code> (æ–°å¢)</li>
</ul>
<div class="tabs" id="åŠ å¯†æµç¨‹"><ul class="nav-tabs"><li class="tab active"><a href="#åŠ å¯†æµç¨‹-1"><i class="fa fa-code"></i>./scripts/post-encrypt.js</a></li></ul><div class="tab-content"><div class="tab-pane active" id="åŠ å¯†æµç¨‹-1"><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> crypto = <span class="built_in">require</span>(<span class="string">&quot;crypto&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">PBKDF2</span>_ITERATIONS = <span class="number">10000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">encrypt</span>(<span class="params">text, masterKey</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> iv = crypto.<span class="title function_">randomBytes</span>(<span class="number">12</span>);</span><br><span class="line">  <span class="keyword">const</span> keyBuffer = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(masterKey, <span class="string">&quot;hex&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> cipher = crypto.<span class="title function_">createCipheriv</span>(<span class="string">&quot;aes-256-gcm&quot;</span>, keyBuffer, iv);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> encrypted = cipher.<span class="title function_">update</span>(text, <span class="string">&quot;utf8&quot;</span>, <span class="string">&quot;base64&quot;</span>);</span><br><span class="line">  encrypted += cipher.<span class="title function_">final</span>(<span class="string">&quot;base64&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">ciphertext</span>: encrypted,</span><br><span class="line">    <span class="attr">iv</span>: iv.<span class="title function_">toString</span>(<span class="string">&quot;base64&quot;</span>),</span><br><span class="line">    <span class="attr">authTag</span>: cipher.<span class="title function_">getAuthTag</span>().<span class="title function_">toString</span>(<span class="string">&quot;base64&quot;</span>),</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">encryptCEK</span>(<span class="params">cek, wrapKey</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> iv = crypto.<span class="title function_">randomBytes</span>(<span class="number">12</span>);</span><br><span class="line">  <span class="keyword">const</span> keyBuffer = <span class="title class_">Buffer</span>.<span class="title function_">from</span>(wrapKey, <span class="string">&quot;hex&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> cipher = crypto.<span class="title function_">createCipheriv</span>(<span class="string">&quot;aes-256-gcm&quot;</span>, keyBuffer, iv);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> encrypted = cipher.<span class="title function_">update</span>(cek);</span><br><span class="line">  encrypted = <span class="title class_">Buffer</span>.<span class="title function_">concat</span>([encrypted, cipher.<span class="title function_">final</span>()]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;fido2&quot;</span>,</span><br><span class="line">    <span class="attr">encryptedCEK</span>: encrypted.<span class="title function_">toString</span>(<span class="string">&quot;base64&quot;</span>),</span><br><span class="line">    <span class="attr">iv</span>: iv.<span class="title function_">toString</span>(<span class="string">&quot;base64&quot;</span>),</span><br><span class="line">    <span class="attr">authTag</span>: cipher.<span class="title function_">getAuthTag</span>().<span class="title function_">toString</span>(<span class="string">&quot;base64&quot;</span>),</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">derivePBKDF2Key</span>(<span class="params">password, salt, iterations</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> crypto.<span class="title function_">pbkdf2Sync</span>(</span><br><span class="line">    <span class="title class_">Buffer</span>.<span class="title function_">from</span>(password, <span class="string">&quot;utf8&quot;</span>),</span><br><span class="line">    <span class="title class_">Buffer</span>.<span class="title function_">from</span>(salt, <span class="string">&quot;utf8&quot;</span>),</span><br><span class="line">    iterations,</span><br><span class="line">    <span class="number">32</span>,</span><br><span class="line">    <span class="string">&quot;sha256&quot;</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">encryptCEKWithPassword</span>(<span class="params">cek, password, salt, iterations</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> wrapKey = <span class="title function_">derivePBKDF2Key</span>(password, salt, iterations);</span><br><span class="line">  <span class="keyword">const</span> iv = crypto.<span class="title function_">randomBytes</span>(<span class="number">12</span>);</span><br><span class="line">  <span class="keyword">const</span> cipher = crypto.<span class="title function_">createCipheriv</span>(<span class="string">&quot;aes-256-gcm&quot;</span>, wrapKey, iv);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">let</span> encrypted = cipher.<span class="title function_">update</span>(cek);</span><br><span class="line">  encrypted = <span class="title class_">Buffer</span>.<span class="title function_">concat</span>([encrypted, cipher.<span class="title function_">final</span>()]);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;password&quot;</span>,</span><br><span class="line">    <span class="attr">encryptedCEK</span>: encrypted.<span class="title function_">toString</span>(<span class="string">&quot;base64&quot;</span>),</span><br><span class="line">    <span class="attr">iv</span>: iv.<span class="title function_">toString</span>(<span class="string">&quot;base64&quot;</span>),</span><br><span class="line">    <span class="attr">authTag</span>: cipher.<span class="title function_">getAuthTag</span>().<span class="title function_">toString</span>(<span class="string">&quot;base64&quot;</span>),</span><br><span class="line">    <span class="attr">salt</span>: salt,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">genTemplate</span>(<span class="params">abbrlink, encData, wrappedKeys, prfSalt, cache, passwordHint</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> wrappedKeysJson = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(wrappedKeys).<span class="title function_">replace</span>(<span class="regexp">/&quot;/g</span>, <span class="string">&quot;&amp;quot;&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> hasFido2 = wrappedKeys.<span class="title function_">some</span>(<span class="function">(<span class="params">k</span>) =&gt;</span> k.<span class="property">type</span> === <span class="string">&quot;fido2&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> hasPassword = wrappedKeys.<span class="title function_">some</span>(<span class="function">(<span class="params">k</span>) =&gt;</span> k.<span class="property">type</span> === <span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> fido2Html = hasFido2</span><br><span class="line">    ? <span class="string">`&lt;button class=&quot;decrypt-btn&quot; id=&quot;fido2-verify-btn&quot;&gt;&lt;i class=&quot;fa fa-fingerprint&quot;&gt;&lt;/i&gt; é€šè¡Œå¯†é’¥éªŒè¯&lt;/button&gt;`</span></span><br><span class="line">    : <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> passwordHtml = hasPassword</span><br><span class="line">    ? <span class="string">`&lt;div class=&quot;password-decrypt-group&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;button class=&quot;decrypt-btn&quot; id=&quot;show-password-btn&quot;&gt;&lt;i class=&quot;fa fa-lock&quot;&gt;&lt;/i&gt; å¯†ç éªŒè¯&lt;/button&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;password-input-group&quot; id=&quot;password-input-group&quot; style=&quot;display:none&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;input type=&quot;password&quot; class=&quot;password-input&quot; id=&quot;password-input&quot; placeholder=&quot;è¾“å…¥å¯†ç &quot; /&gt;</span></span><br><span class="line"><span class="string">          &lt;button class=&quot;decrypt-btn&quot; id=&quot;password-decrypt-btn&quot;&gt;&lt;i class=&quot;fa fa-key&quot;&gt;&lt;/i&gt; ç¡®å®š&lt;/button&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;`</span></span><br><span class="line">    : <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`&lt;div class=&quot;encrypted-post-container&quot; </span></span><br><span class="line"><span class="string">    data-ciphertext=&quot;<span class="subst">$&#123;encData.ciphertext&#125;</span>&quot;</span></span><br><span class="line"><span class="string">    data-iv=&quot;<span class="subst">$&#123;encData.iv&#125;</span>&quot;</span></span><br><span class="line"><span class="string">    data-auth-tag=&quot;<span class="subst">$&#123;encData.authTag&#125;</span>&quot;</span></span><br><span class="line"><span class="string">    data-abbrlink=&quot;<span class="subst">$&#123;abbrlink || <span class="string">&quot;&quot;</span>&#125;</span>&quot;</span></span><br><span class="line"><span class="string">    data-wrapped-keys=&#x27;<span class="subst">$&#123;wrappedKeysJson&#125;</span>&#x27;</span></span><br><span class="line"><span class="string">    data-prf-salt=&quot;<span class="subst">$&#123;prfSalt&#125;</span>&quot;</span></span><br><span class="line"><span class="string">    data-cache=&quot;<span class="subst">$&#123;cache || <span class="number">0</span>&#125;</span>&quot;</span></span><br><span class="line"><span class="string">    data-password-hint=&quot;<span class="subst">$&#123;passwordHint || <span class="string">&quot;&quot;</span>&#125;</span>&quot;&gt;</span></span><br><span class="line"><span class="string">  &lt;div class=&quot;encrypted-post-notice&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;decrypt-methods&quot;&gt;<span class="subst">$&#123;fido2Html&#125;</span><span class="subst">$&#123;passwordHtml&#125;</span>&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;verification-status&quot; id=&quot;verification-status&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">  &lt;div class=&quot;decrypted-content&quot; id=&quot;decrypted-content&quot; style=&quot;display:none&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">&lt;/div&gt;`</span>.<span class="title function_">trim</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getKeys</span>(<span class="params">cfg</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="title class_">Array</span>.<span class="title function_">isArray</span>(cfg.<span class="property">keys</span>) ? cfg.<span class="property">keys</span> : cfg.<span class="property">key</span> ? [cfg.<span class="property">key</span>] : [];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">validateConfig</span>(<span class="params">cfg</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!cfg?.<span class="property">enabled</span>) &#123;</span><br><span class="line">    hexo.<span class="property">log</span>.<span class="title function_">warn</span>(<span class="string">&quot;åŠ å¯†åŠŸèƒ½æœªå¯ç”¨&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (!cfg.<span class="property">salt</span> || !<span class="regexp">/^[a-fA-F0-9]&#123;64&#125;$/</span>.<span class="title function_">test</span>(cfg.<span class="property">salt</span>)) &#123;</span><br><span class="line">    hexo.<span class="property">log</span>.<span class="title function_">error</span>(<span class="string">&quot;PRF Salt é…ç½®æ— æ•ˆ&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> keys = <span class="title function_">getKeys</span>(cfg);</span><br><span class="line">  <span class="keyword">if</span> (keys.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">    hexo.<span class="property">log</span>.<span class="title function_">error</span>(<span class="string">&quot;è¯·å…ˆæ³¨å†Œ FIDO2 é€šè¡Œå¯†é’¥&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> keys) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="regexp">/^[a-fA-F0-9]&#123;64&#125;$/</span>.<span class="title function_">test</span>(key)) &#123;</span><br><span class="line">      hexo.<span class="property">log</span>.<span class="title function_">error</span>(<span class="string">`å¯†é’¥æ ¼å¼æ— æ•ˆ: <span class="subst">$&#123;key&#125;</span>`</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">filter</span>.<span class="title function_">register</span>(</span><br><span class="line">  <span class="string">&quot;after_post_render&quot;</span>,</span><br><span class="line">  <span class="keyword">function</span> (<span class="params">data</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!data.<span class="property">encrypted</span>) <span class="keyword">return</span> data;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> cfg = hexo.<span class="property">config</span>.<span class="property">encryption</span>;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="title function_">validateConfig</span>(cfg)) <span class="keyword">return</span> data;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> cek = crypto.<span class="title function_">randomBytes</span>(<span class="number">32</span>);</span><br><span class="line">      <span class="keyword">const</span> encData = <span class="title function_">encrypt</span>(data.<span class="property">content</span>, cek.<span class="title function_">toString</span>(<span class="string">&quot;hex&quot;</span>));</span><br><span class="line">      <span class="keyword">const</span> wrappedKeys = <span class="title function_">getKeys</span>(cfg).<span class="title function_">map</span>(<span class="function">(<span class="params">key</span>) =&gt;</span> <span class="title function_">encryptCEK</span>(cek, key));</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (data.<span class="property">password</span>) &#123;</span><br><span class="line">        wrappedKeys.<span class="title function_">push</span>(</span><br><span class="line">          <span class="title function_">encryptCEKWithPassword</span>(</span><br><span class="line">            cek,</span><br><span class="line">            <span class="title class_">String</span>(data.<span class="property">password</span>),</span><br><span class="line">            <span class="title class_">String</span>(cfg.<span class="property">salt</span>),</span><br><span class="line">            <span class="title class_">PBKDF2</span>_ITERATIONS</span><br><span class="line">          )</span><br><span class="line">        );</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      data.<span class="property">content</span> = <span class="title function_">genTemplate</span>(</span><br><span class="line">        data.<span class="property">abbrlink</span>,</span><br><span class="line">        encData,</span><br><span class="line">        wrappedKeys,</span><br><span class="line">        cfg.<span class="property">salt</span>,</span><br><span class="line">        cfg.<span class="property">cache</span>,</span><br><span class="line">        data.<span class="property">password_hint</span></span><br><span class="line">      );</span><br><span class="line">      hexo.<span class="property">log</span>.<span class="title function_">info</span>(<span class="string">`Encrypted: <span class="subst">$&#123;data.title&#125;</span>`</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">      hexo.<span class="property">log</span>.<span class="title function_">error</span>(<span class="string">`Encrypted: <span class="subst">$&#123;data.title&#125;</span> <span class="subst">$&#123;err&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> data;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="number">15</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure></div></div></div>

<h2 id="è§£å¯†æµç¨‹"><a href="#è§£å¯†æµç¨‹" class="headerlink" title="è§£å¯†æµç¨‹"></a>è§£å¯†æµç¨‹</h2><ul>
<li><code>./source/js/decrypt.js</code> (æ–°å¢)</li>
<li><code>./source/_data/styles.styl</code> (æ–°å¢)</li>
</ul>
<div class="tabs" id="è§£å¯†æµç¨‹"><ul class="nav-tabs"><li class="tab active"><a href="#è§£å¯†æµç¨‹-1"><i class="fa fa-code"></i>./source/js/decrypt.js</a></li><li class="tab"><a href="#è§£å¯†æµç¨‹-2"><i class="fa fa-code"></i>./source/_data/styles.styl</a></li></ul><div class="tab-content"><div class="tab-pane active" id="è§£å¯†æµç¨‹-1"><figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">PBKDF2</span>_ITERATIONS = <span class="number">500000</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getRPID</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> hostname = location.<span class="property">hostname</span>;</span><br><span class="line">  <span class="keyword">return</span> hostname === <span class="string">&quot;127.0.0.1&quot;</span> ? <span class="string">&quot;localhost&quot;</span> : hostname;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Decryptor</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">container</span> = <span class="literal">null</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">data</span> = <span class="literal">null</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">rpId</span> = <span class="title function_">getRPID</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">container</span> = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.encrypted-post-container&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">container</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">data</span> = &#123;</span><br><span class="line">      <span class="attr">ciphertext</span>: <span class="variable language_">this</span>.<span class="property">container</span>.<span class="property">dataset</span>.<span class="property">ciphertext</span>,</span><br><span class="line">      <span class="attr">iv</span>: <span class="variable language_">this</span>.<span class="property">container</span>.<span class="property">dataset</span>.<span class="property">iv</span>,</span><br><span class="line">      <span class="attr">authTag</span>: <span class="variable language_">this</span>.<span class="property">container</span>.<span class="property">dataset</span>.<span class="property">authTag</span>,</span><br><span class="line">      <span class="attr">abbrlink</span>: <span class="variable language_">this</span>.<span class="property">container</span>.<span class="property">dataset</span>.<span class="property">abbrlink</span>,</span><br><span class="line">      <span class="attr">wrappedKeys</span>: <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">container</span>.<span class="property">dataset</span>.<span class="property">wrappedKeys</span> || <span class="string">&quot;[]&quot;</span>),</span><br><span class="line">      <span class="attr">prfSalt</span>: <span class="variable language_">this</span>.<span class="property">container</span>.<span class="property">dataset</span>.<span class="property">prfSalt</span>,</span><br><span class="line">      <span class="attr">cache</span>: <span class="built_in">parseInt</span>(<span class="variable language_">this</span>.<span class="property">container</span>.<span class="property">dataset</span>.<span class="property">cache</span>) || <span class="number">0</span>,</span><br><span class="line">      <span class="attr">passwordHint</span>: <span class="variable language_">this</span>.<span class="property">container</span>.<span class="property">dataset</span>.<span class="property">passwordHint</span> || <span class="string">&quot;&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="title function_">checkCache</span>()) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> fido2Btn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;fido2-verify-btn&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (fido2Btn) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!<span class="variable language_">window</span>.<span class="property">PublicKeyCredential</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">&quot;æµè§ˆå™¨ä¸æ”¯æŒ FIDO2/WebAuthn&quot;</span>, <span class="string">&quot;error&quot;</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fido2Btn.<span class="property">onclick</span> = <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">authenticate</span>();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> showPasswordBtn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;show-password-btn&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (showPasswordBtn) &#123;</span><br><span class="line">      showPasswordBtn.<span class="property">onclick</span> = <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">showPasswordInput</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> passwordBtn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password-decrypt-btn&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (passwordBtn) &#123;</span><br><span class="line">      passwordBtn.<span class="property">onclick</span> = <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">decryptWithPassword</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> passwordInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password-input&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (passwordInput) &#123;</span><br><span class="line">      passwordInput.<span class="title function_">addEventListener</span>(<span class="string">&quot;keydown&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.<span class="property">key</span> === <span class="string">&quot;Enter&quot;</span>) <span class="variable language_">this</span>.<span class="title function_">decryptWithPassword</span>();</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">getCacheKey</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">abbrlink</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">showPasswordInput</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> showBtn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;show-password-btn&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> inputGroup = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password-input-group&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> passwordInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password-input&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (showBtn) showBtn.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (inputGroup) inputGroup.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;flex&quot;</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">passwordHint</span>) <span class="variable language_">this</span>.<span class="title function_">showPasswordHint</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (passwordInput) &#123;</span><br><span class="line">      passwordInput.<span class="title function_">focus</span>();</span><br><span class="line">      passwordInput.<span class="title function_">addEventListener</span>(<span class="string">&quot;input&quot;</span>, <span class="function">() =&gt;</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">updatePasswordButtonState</span>()</span><br><span class="line">      );</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">updatePasswordButtonState</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">showPasswordHint</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> inputGroup = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password-input-group&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!inputGroup) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> hintElement = inputGroup.<span class="title function_">querySelector</span>(<span class="string">&quot;.password-hint&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!hintElement) &#123;</span><br><span class="line">      hintElement = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">      hintElement.<span class="property">className</span> = <span class="string">&quot;password-hint&quot;</span>;</span><br><span class="line">      inputGroup.<span class="title function_">appendChild</span>(hintElement);</span><br><span class="line">    &#125;</span><br><span class="line">    hintElement.<span class="property">textContent</span> = <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">passwordHint</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">updatePasswordButtonState</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> passwordInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password-input&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> passwordBtn = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password-decrypt-btn&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!passwordInput || !passwordBtn) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> hasPassword = passwordInput.<span class="property">value</span>.<span class="title function_">trim</span>().<span class="property">length</span> &gt; <span class="number">0</span>;</span><br><span class="line">    passwordBtn.<span class="property">disabled</span> = !hasPassword;</span><br><span class="line">    passwordBtn.<span class="property">style</span>.<span class="property">opacity</span> = hasPassword ? <span class="string">&quot;1&quot;</span> : <span class="string">&quot;0.5&quot;</span>;</span><br><span class="line">    passwordBtn.<span class="property">style</span>.<span class="property">cursor</span> = hasPassword ? <span class="string">&quot;pointer&quot;</span> : <span class="string">&quot;not-allowed&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">checkCache</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">cache</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> cached = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="variable language_">this</span>.<span class="title function_">getCacheKey</span>());</span><br><span class="line">      <span class="keyword">if</span> (!cached) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> &#123; html, expired &#125; = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(cached);</span><br><span class="line">      <span class="keyword">if</span> (<span class="title class_">Date</span>.<span class="title function_">now</span>() &lt; expired) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">render</span>(html);</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">hideStatus</span>(), <span class="number">2000</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(<span class="variable language_">this</span>.<span class="title function_">getCacheKey</span>());</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (_) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">saveCache</span>(<span class="params">html</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">cache</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> expired = <span class="title class_">Date</span>.<span class="title function_">now</span>() + <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">cache</span> * <span class="number">60</span> * <span class="number">1000</span>;</span><br><span class="line">      <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">getCacheKey</span>(),</span><br><span class="line">        <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(&#123; html, expired &#125;)</span><br><span class="line">      );</span><br><span class="line">    &#125; <span class="keyword">catch</span> (_) &#123;&#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">authenticate</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">&quot;æ­£åœ¨éªŒè¯èº«ä»½...&quot;</span>, <span class="string">&quot;info&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> challenge = crypto.<span class="title function_">getRandomValues</span>(<span class="keyword">new</span> <span class="title class_">Uint8Array</span>(<span class="number">32</span>));</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> prfSalt = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">digest</span>(</span><br><span class="line">        <span class="string">&quot;SHA-256&quot;</span>,</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">TextEncoder</span>().<span class="title function_">encode</span>(<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">prfSalt</span>)</span><br><span class="line">      );</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> assertion = <span class="keyword">await</span> navigator.<span class="property">credentials</span>.<span class="title function_">get</span>(&#123;</span><br><span class="line">        <span class="attr">publicKey</span>: &#123;</span><br><span class="line">          challenge,</span><br><span class="line">          <span class="attr">rpId</span>: <span class="variable language_">this</span>.<span class="property">rpId</span>,</span><br><span class="line">          <span class="attr">userVerification</span>: <span class="string">&quot;preferred&quot;</span>,</span><br><span class="line">          <span class="attr">timeout</span>: <span class="number">60000</span>,</span><br><span class="line">          <span class="attr">extensions</span>: &#123; <span class="attr">prf</span>: &#123; <span class="attr">eval</span>: &#123; <span class="attr">first</span>: prfSalt &#125; &#125; &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> prfResults = assertion.<span class="title function_">getClientExtensionResults</span>().<span class="property">prf</span>;</span><br><span class="line">      <span class="keyword">if</span> (!prfResults?.<span class="property">results</span>?.<span class="property">first</span>) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;PRF æ‰©å±•ä¸å¯ç”¨&quot;</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> wrappingKey = prfResults.<span class="property">results</span>.<span class="property">first</span>;</span><br><span class="line"></span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">&quot;éªŒè¯æˆåŠŸï¼Œæ­£åœ¨è§£å¯†...&quot;</span>, <span class="string">&quot;success&quot;</span>);</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">unwrapAndDecrypt</span>(wrappingKey), <span class="number">300</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="keyword">if</span> (e.<span class="property">name</span> === <span class="string">&quot;NotAllowedError&quot;</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">&quot;éªŒè¯è¢«æ‹’ç»&quot;</span>, <span class="string">&quot;error&quot;</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (e.<span class="property">name</span> === <span class="string">&quot;InvalidStateError&quot;</span> || e.<span class="property">name</span> === <span class="string">&quot;NotFoundError&quot;</span>) &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">&quot;æœªæ³¨å†Œçš„é€šè¡Œå¯†é’¥&quot;</span>, <span class="string">&quot;error&quot;</span>);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">`éªŒè¯å¤±è´¥: <span class="subst">$&#123;e.message&#125;</span>`</span>, <span class="string">&quot;error&quot;</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">derivePBKDF2Key</span>(<span class="params">password, salt, iterations = PBKDF2_ITERATIONS</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> passwordBuffer = <span class="keyword">new</span> <span class="title class_">TextEncoder</span>().<span class="title function_">encode</span>(password);</span><br><span class="line">    <span class="keyword">const</span> saltBuffer = <span class="keyword">new</span> <span class="title class_">TextEncoder</span>().<span class="title function_">encode</span>(salt);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> baseKey = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">importKey</span>(</span><br><span class="line">      <span class="string">&quot;raw&quot;</span>,</span><br><span class="line">      passwordBuffer,</span><br><span class="line">      <span class="string">&quot;PBKDF2&quot;</span>,</span><br><span class="line">      <span class="literal">false</span>,</span><br><span class="line">      [<span class="string">&quot;deriveBits&quot;</span>]</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> derivedBits = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">deriveBits</span>(</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&quot;PBKDF2&quot;</span>,</span><br><span class="line">        <span class="attr">salt</span>: saltBuffer,</span><br><span class="line">        <span class="attr">iterations</span>: iterations,</span><br><span class="line">        <span class="attr">hash</span>: <span class="string">&quot;SHA-256&quot;</span>,</span><br><span class="line">      &#125;,</span><br><span class="line">      baseKey,</span><br><span class="line">      <span class="number">256</span></span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> derivedBits;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">decryptWithPassword</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> passwordInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;password-input&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> password = passwordInput?.<span class="property">value</span>.<span class="title function_">trim</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!password) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">&quot;æœªè¾“å…¥å¯†ç &quot;</span>, <span class="string">&quot;error&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">&quot;æ­£åœ¨è§£å¯†...&quot;</span>, <span class="string">&quot;info&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> passwordWrapped = <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">wrappedKeys</span>.<span class="title function_">find</span>(</span><br><span class="line">        <span class="function">(<span class="params">k</span>) =&gt;</span> k.<span class="property">type</span> === <span class="string">&quot;password&quot;</span></span><br><span class="line">      );</span><br><span class="line">      <span class="keyword">if</span> (!passwordWrapped) <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;ä¸æ”¯æŒå¯†ç è®¤è¯&quot;</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> wrappingKey = <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">derivePBKDF2Key</span>(</span><br><span class="line">        password,</span><br><span class="line">        passwordWrapped.<span class="property">salt</span></span><br><span class="line">      );</span><br><span class="line">      <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">unwrapAndDecrypt</span>(wrappingKey, <span class="string">&quot;password&quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">`è§£å¯†å¤±è´¥: <span class="subst">$&#123;e.message&#125;</span>`</span>, <span class="string">&quot;error&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">combineWithAuthTag</span>(<span class="params">data, authTag</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> combined = <span class="keyword">new</span> <span class="title class_">Uint8Array</span>(data.<span class="property">byteLength</span> + authTag.<span class="property">byteLength</span>);</span><br><span class="line">    combined.<span class="title function_">set</span>(<span class="keyword">new</span> <span class="title class_">Uint8Array</span>(data), <span class="number">0</span>);</span><br><span class="line">    combined.<span class="title function_">set</span>(<span class="keyword">new</span> <span class="title class_">Uint8Array</span>(authTag), data.<span class="property">byteLength</span>);</span><br><span class="line">    <span class="keyword">return</span> combined;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">unwrapAndDecrypt</span>(<span class="params">wrappingKey, type = <span class="string">&quot;fido2&quot;</span></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> wrapKeyBuffer = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">importKey</span>(</span><br><span class="line">        <span class="string">&quot;raw&quot;</span>,</span><br><span class="line">        wrappingKey,</span><br><span class="line">        &#123; <span class="attr">name</span>: <span class="string">&quot;AES-GCM&quot;</span> &#125;,</span><br><span class="line">        <span class="literal">false</span>,</span><br><span class="line">        [<span class="string">&quot;decrypt&quot;</span>]</span><br><span class="line">      );</span><br><span class="line">      <span class="keyword">const</span> targetKeys = <span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">wrappedKeys</span>.<span class="title function_">filter</span>(<span class="function">(<span class="params">k</span>) =&gt;</span> k.<span class="property">type</span> === type);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">let</span> cek = <span class="literal">null</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">const</span> wrapped <span class="keyword">of</span> targetKeys) &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> encCEK = <span class="variable language_">this</span>.<span class="title function_">b64ToAB</span>(wrapped.<span class="property">encryptedCEK</span>);</span><br><span class="line">          <span class="keyword">const</span> wrapIV = <span class="variable language_">this</span>.<span class="title function_">b64ToAB</span>(wrapped.<span class="property">iv</span>);</span><br><span class="line">          <span class="keyword">const</span> wrapAuthTag = <span class="variable language_">this</span>.<span class="title function_">b64ToAB</span>(wrapped.<span class="property">authTag</span>);</span><br><span class="line">          <span class="keyword">const</span> wrappedCEK = <span class="variable language_">this</span>.<span class="title function_">combineWithAuthTag</span>(encCEK, wrapAuthTag);</span><br><span class="line"></span><br><span class="line">          cek = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">decrypt</span>(</span><br><span class="line">            &#123; <span class="attr">name</span>: <span class="string">&quot;AES-GCM&quot;</span>, <span class="attr">iv</span>: wrapIV, <span class="attr">tagLength</span>: <span class="number">128</span> &#125;,</span><br><span class="line">            wrapKeyBuffer,</span><br><span class="line">            wrappedCEK</span><br><span class="line">          );</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (_) &#123;&#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (!cek)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(type === <span class="string">&quot;password&quot;</span> ? <span class="string">&quot;å¯†ç é”™è¯¯&quot;</span> : <span class="string">&quot;é€šè¡Œå¯†é’¥æ— æƒé™&quot;</span>);</span><br><span class="line">      <span class="keyword">await</span> <span class="variable language_">this</span>.<span class="title function_">decryptContent</span>(cek);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">`è§£å¯†å¤±è´¥: <span class="subst">$&#123;e.message&#125;</span>`</span>, <span class="string">&quot;error&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">decryptContent</span>(<span class="params">decryptionKey</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">&quot;æ­£åœ¨è§£å¯†...&quot;</span>, <span class="string">&quot;info&quot;</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> ciphertext = <span class="variable language_">this</span>.<span class="title function_">b64ToAB</span>(<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">ciphertext</span>);</span><br><span class="line">      <span class="keyword">const</span> iv = <span class="variable language_">this</span>.<span class="title function_">b64ToAB</span>(<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">iv</span>);</span><br><span class="line">      <span class="keyword">const</span> authTag = <span class="variable language_">this</span>.<span class="title function_">b64ToAB</span>(<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">authTag</span>);</span><br><span class="line">      <span class="keyword">const</span> encData = <span class="variable language_">this</span>.<span class="title function_">combineWithAuthTag</span>(ciphertext, authTag);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> key = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">importKey</span>(</span><br><span class="line">        <span class="string">&quot;raw&quot;</span>,</span><br><span class="line">        decryptionKey,</span><br><span class="line">        &#123; <span class="attr">name</span>: <span class="string">&quot;AES-GCM&quot;</span> &#125;,</span><br><span class="line">        <span class="literal">false</span>,</span><br><span class="line">        [<span class="string">&quot;decrypt&quot;</span>]</span><br><span class="line">      );</span><br><span class="line">      <span class="keyword">const</span> decrypted = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">decrypt</span>(</span><br><span class="line">        &#123; <span class="attr">name</span>: <span class="string">&quot;AES-GCM&quot;</span>, iv, <span class="attr">tagLength</span>: <span class="number">128</span> &#125;,</span><br><span class="line">        key,</span><br><span class="line">        encData</span><br><span class="line">      );</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> html = <span class="keyword">new</span> <span class="title class_">TextDecoder</span>().<span class="title function_">decode</span>(decrypted);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">saveCache</span>(html);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">render</span>(html);</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">hideStatus</span>(), <span class="number">2000</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">showStatus</span>(<span class="string">`è§£å¯†å¤±è´¥: <span class="subst">$&#123;e.message&#125;</span>`</span>, <span class="string">&quot;error&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">executeScripts</span>(<span class="params">container</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> scripts = container.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">    scripts.<span class="title function_">forEach</span>(<span class="function">(<span class="params">oldScript</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> newScript = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;script&quot;</span>);</span><br><span class="line">      <span class="title class_">Array</span>.<span class="title function_">from</span>(oldScript.<span class="property">attributes</span>).<span class="title function_">forEach</span>(<span class="function">(<span class="params">attr</span>) =&gt;</span> &#123;</span><br><span class="line">        newScript.<span class="title function_">setAttribute</span>(attr.<span class="property">name</span>, attr.<span class="property">value</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">      newScript.<span class="property">textContent</span> = oldScript.<span class="property">textContent</span>;</span><br><span class="line">      oldScript.<span class="property">parentNode</span>.<span class="title function_">replaceChild</span>(newScript, oldScript);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">render</span>(<span class="params">html</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> content = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;decrypted-content&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> notice = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.encrypted-post-notice&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!content || !notice) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    notice.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">    content.<span class="property">innerHTML</span> = html;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">executeScripts</span>(content);</span><br><span class="line">    content.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">updateLockIconState</span>(<span class="literal">true</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">renderRefresh</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">updateLockIconState</span>(<span class="params">isDecrypted</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> abbr = <span class="variable language_">this</span>.<span class="property">getCacheKey</span>?.() || <span class="variable language_">this</span>.<span class="property">data</span>?.<span class="property">abbrlink</span>;</span><br><span class="line">    <span class="keyword">if</span> (!abbr) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> lockIcon = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">`lock-icon-<span class="subst">$&#123;abbr&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">if</span> (!lockIcon) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (isDecrypted) &#123;</span><br><span class="line">      lockIcon.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;decrypted&quot;</span>);</span><br><span class="line">      lockIcon.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;fa-lock&quot;</span>);</span><br><span class="line">      lockIcon.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;fa-unlock&quot;</span>);</span><br><span class="line">      lockIcon.<span class="property">style</span>.<span class="property">cursor</span> = <span class="string">&quot;pointer&quot;</span>;</span><br><span class="line">      lockIcon.<span class="title function_">addEventListener</span>(</span><br><span class="line">        <span class="string">&quot;click&quot;</span>,</span><br><span class="line">        <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="variable language_">localStorage</span>.<span class="title function_">removeItem</span>(abbr);</span><br><span class="line">          &#125; <span class="keyword">catch</span> (_) &#123;&#125;</span><br><span class="line">          location.<span class="title function_">reload</span>();</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123; <span class="attr">once</span>: <span class="literal">true</span> &#125;</span><br><span class="line">      );</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      lockIcon.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;decrypted&quot;</span>);</span><br><span class="line">      lockIcon.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;fa-unlock&quot;</span>);</span><br><span class="line">      lockIcon.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;fa-lock&quot;</span>);</span><br><span class="line">      lockIcon.<span class="property">style</span>.<span class="property">cursor</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">showStatus</span>(<span class="params">msg, type = <span class="string">&quot;info&quot;</span></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> el = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;verification-status&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!el) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">const</span> icons = &#123;</span><br><span class="line">      <span class="attr">info</span>: <span class="string">&quot;fa-info-circle&quot;</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="string">&quot;fa-check-circle&quot;</span>,</span><br><span class="line">      <span class="attr">error</span>: <span class="string">&quot;fa-times-circle&quot;</span>,</span><br><span class="line">    &#125;;</span><br><span class="line">    el.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;block&quot;</span>;</span><br><span class="line">    el.<span class="property">className</span> = <span class="string">`verification-status <span class="subst">$&#123;type&#125;</span>`</span>;</span><br><span class="line">    el.<span class="property">innerHTML</span> = <span class="string">`&lt;i class=&quot;fa <span class="subst">$&#123;icons[type]&#125;</span>&quot;&gt;&lt;/i&gt; <span class="subst">$&#123;msg&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">hideStatus</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> el = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;verification-status&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (el) el.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&quot;none&quot;</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">rebuildTOC</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> content = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;decrypted-content&quot;</span>);</span><br><span class="line">      <span class="keyword">const</span> tocWrap = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.post-toc-wrap&quot;</span>);</span><br><span class="line">      <span class="keyword">const</span> sidebar = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.sidebar-inner&quot;</span>);</span><br><span class="line">      <span class="keyword">const</span> utils = <span class="variable language_">window</span>.<span class="property">NexT</span>?.<span class="property">utils</span>;</span><br><span class="line">      <span class="keyword">if</span> (!content || !tocWrap) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> headings = content.<span class="title function_">querySelectorAll</span>(<span class="string">&quot;h1,h2,h3,h4,h5,h6&quot;</span>);</span><br><span class="line">      <span class="keyword">const</span> <span class="title function_">ensureToc</span> = (<span class="params"></span>) =&gt;</span><br><span class="line">        tocWrap.<span class="title function_">querySelector</span>(<span class="string">&quot;.post-toc&quot;</span>) ||</span><br><span class="line">        (<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> el = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">          el.<span class="property">className</span> = <span class="string">&quot;post-toc animated&quot;</span>;</span><br><span class="line">          tocWrap.<span class="title function_">appendChild</span>(el);</span><br><span class="line">          <span class="keyword">return</span> el;</span><br><span class="line">        &#125;)();</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (!headings.<span class="property">length</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> exist = tocWrap.<span class="title function_">querySelector</span>(<span class="string">&quot;.post-toc&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (exist) exist.<span class="property">innerHTML</span> = <span class="string">&quot;&quot;</span>;</span><br><span class="line">        sidebar?.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;sidebar-nav-active&quot;</span>, <span class="string">&quot;sidebar-toc-active&quot;</span>);</span><br><span class="line">        sidebar?.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;sidebar-overview-active&quot;</span>);</span><br><span class="line">        utils?.<span class="property">registerSidebarTOC</span>?.();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> &#123; roots &#125; = <span class="title class_">Array</span>.<span class="title function_">from</span>(headings).<span class="title function_">reduce</span>(</span><br><span class="line">        <span class="function">(<span class="params">acc, h, i</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (!h.<span class="property">id</span>) h.<span class="property">id</span> = <span class="string">`heading-<span class="subst">$&#123;i&#125;</span>`</span>;</span><br><span class="line">          <span class="keyword">const</span> level = <span class="built_in">parseInt</span>(h.<span class="property">tagName</span>[<span class="number">1</span>], <span class="number">10</span>);</span><br><span class="line">          <span class="keyword">const</span> node = &#123;</span><br><span class="line">            level,</span><br><span class="line">            <span class="attr">id</span>: h.<span class="property">id</span>,</span><br><span class="line">            <span class="attr">text</span>: h.<span class="property">textContent</span>.<span class="title function_">trim</span>(),</span><br><span class="line">            <span class="attr">children</span>: [],</span><br><span class="line">          &#125;;</span><br><span class="line">          <span class="keyword">while</span> (acc.<span class="property">stack</span>.<span class="property">length</span> &amp;&amp; acc.<span class="property">stack</span>.<span class="title function_">at</span>(-<span class="number">1</span>).<span class="property">level</span> &gt;= level)</span><br><span class="line">            acc.<span class="property">stack</span>.<span class="title function_">pop</span>();</span><br><span class="line">          (acc.<span class="property">stack</span>.<span class="property">length</span> ? acc.<span class="property">stack</span>.<span class="title function_">at</span>(-<span class="number">1</span>).<span class="property">children</span> : acc.<span class="property">roots</span>).<span class="title function_">push</span>(node);</span><br><span class="line">          acc.<span class="property">stack</span>.<span class="title function_">push</span>(node);</span><br><span class="line">          <span class="keyword">return</span> acc;</span><br><span class="line">        &#125;,</span><br><span class="line">        &#123; <span class="attr">roots</span>: [], <span class="attr">stack</span>: [] &#125;</span><br><span class="line">      );</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> <span class="title function_">render</span> = (<span class="params">nodes, depth = <span class="number">1</span></span>) =&gt;</span><br><span class="line">        nodes</span><br><span class="line">          .<span class="title function_">map</span>(<span class="function">(<span class="params">n</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> link = <span class="string">`&lt;a class=&quot;nav-link&quot; href=&quot;#<span class="subst">$&#123;n.id&#125;</span>&quot;&gt;&lt;span class=&quot;nav-text&quot;&gt;<span class="subst">$&#123;n.text&#125;</span>&lt;/span&gt;&lt;/a&gt;`</span>;</span><br><span class="line">            <span class="keyword">const</span> kids = n.<span class="property">children</span>.<span class="property">length</span></span><br><span class="line">              ? <span class="string">`&lt;ol class=&quot;nav-child&quot;&gt;<span class="subst">$&#123;render(n.children, depth + <span class="number">1</span>)&#125;</span>&lt;/ol&gt;`</span></span><br><span class="line">              : <span class="string">&quot;&quot;</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">`&lt;li class=&quot;nav-item nav-level-<span class="subst">$&#123;depth&#125;</span>&quot;&gt;<span class="subst">$&#123;link&#125;</span><span class="subst">$&#123;kids&#125;</span>&lt;/li&gt;`</span>;</span><br><span class="line">          &#125;)</span><br><span class="line">          .<span class="title function_">join</span>(<span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">      <span class="keyword">const</span> toc = <span class="title function_">ensureToc</span>();</span><br><span class="line">      toc.<span class="property">innerHTML</span> = <span class="string">`&lt;ol class=&quot;nav&quot;&gt;<span class="subst">$&#123;render(roots)&#125;</span>&lt;/ol&gt;`</span>;</span><br><span class="line"></span><br><span class="line">      sidebar?.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&quot;sidebar-nav-active&quot;</span>, <span class="string">&quot;sidebar-toc-active&quot;</span>);</span><br><span class="line">      sidebar?.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&quot;sidebar-overview-active&quot;</span>);</span><br><span class="line">      utils?.<span class="property">registerSidebarTOC</span>?.();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`TOC é‡å»ºå¤±è´¥: <span class="subst">$&#123;e.message&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">triggerPageLoadedEvent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">dispatchEvent</span>(</span><br><span class="line">      <span class="keyword">new</span> <span class="title class_">Event</span>(<span class="string">&#x27;page:loaded&#x27;</span>, &#123;</span><br><span class="line">        <span class="attr">bubbles</span>: <span class="literal">true</span></span><br><span class="line">      &#125;)</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">renderRefresh</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">rebuildTOC</span>();</span><br><span class="line">    <span class="title class_">NexT</span>?.<span class="property">boot</span>?.<span class="property">refresh</span>?.();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">triggerPageLoadedEvent</span>();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="title function_">b64ToAB</span>(<span class="params">b64</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> str = <span class="title function_">atob</span>(b64);</span><br><span class="line">    <span class="keyword">const</span> bytes = <span class="keyword">new</span> <span class="title class_">Uint8Array</span>(str.<span class="property">length</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; str.<span class="property">length</span>; i++) bytes[i] = str.<span class="title function_">charCodeAt</span>(i);</span><br><span class="line">    <span class="keyword">return</span> bytes.<span class="property">buffer</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> decryptor = <span class="keyword">new</span> <span class="title class_">Decryptor</span>();</span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;DOMContentLoaded&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.encrypted-post-container&quot;</span>)) decryptor.<span class="title function_">init</span>();</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="è§£å¯†æµç¨‹-2"><figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-class">.encrypted-post-container</span></span><br><span class="line">  <span class="attribute">min-height</span>: <span class="number">100px</span></span><br><span class="line"></span><br><span class="line">.encrypted-post-notice</span><br><span class="line">  text-align: center</span><br><span class="line">  padding: <span class="number">40px</span> <span class="number">20px</span></span><br><span class="line">  background: transparent</span><br><span class="line">  border-radius: <span class="number">12px</span></span><br><span class="line">  margin: <span class="number">20px</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">.decrypt-methods</span><br><span class="line">  display: flex</span><br><span class="line">  flex-direction: column</span><br><span class="line">  align-items: center</span><br><span class="line">  gap: <span class="number">15px</span></span><br><span class="line">  max-width: <span class="number">280px</span></span><br><span class="line">  margin: <span class="number">0</span> auto</span><br><span class="line"></span><br><span class="line">.decrypt-btn</span><br><span class="line">  width: <span class="number">100%</span></span><br><span class="line">  background: <span class="number">#3b8fc7</span></span><br><span class="line">  color: white</span><br><span class="line">  border: none</span><br><span class="line">  padding: <span class="number">15px</span> <span class="number">40px</span></span><br><span class="line">  font-size: <span class="number">16px</span></span><br><span class="line">  border-radius: <span class="number">30px</span></span><br><span class="line">  cursor: pointer</span><br><span class="line">  transition: all .<span class="number">3s</span> ease</span><br><span class="line">  box-shadow: <span class="number">0</span> <span class="number">4px</span> <span class="number">15px</span> <span class="built_in">rgba</span>(<span class="number">59</span>,<span class="number">143</span>,<span class="number">199</span>,.<span class="number">4</span>)</span><br><span class="line">  text-align: center</span><br><span class="line"></span><br><span class="line">.decrypt-btn:hover</span><br><span class="line">  transform: <span class="built_in">translateY</span>(-<span class="number">2px</span>)</span><br><span class="line">  box-shadow: <span class="number">0</span> <span class="number">6px</span> <span class="number">20px</span> <span class="built_in">rgba</span>(<span class="number">59</span>,<span class="number">143</span>,<span class="number">199</span>,.<span class="number">6</span>)</span><br><span class="line"></span><br><span class="line">.decrypt-btn:active</span><br><span class="line">  transform: <span class="built_in">translateY</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">.decrypt-btn:disabled</span><br><span class="line">  opacity: <span class="number">0.5</span></span><br><span class="line">  cursor: not-allowed</span><br><span class="line">  transform: none</span><br><span class="line"></span><br><span class="line">.decrypt-btn:disabled:hover</span><br><span class="line">  transform: none</span><br><span class="line">  box-shadow: <span class="number">0</span> <span class="number">4px</span> <span class="number">15px</span> <span class="built_in">rgba</span>(<span class="number">59</span>,<span class="number">143</span>,<span class="number">199</span>,.<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">.decrypt-btn i</span><br><span class="line">  margin-right: <span class="number">8px</span></span><br><span class="line"></span><br><span class="line">.password-decrypt-group</span><br><span class="line">  width: <span class="number">100%</span></span><br><span class="line">  display: flex</span><br><span class="line">  flex-direction: column</span><br><span class="line">  gap: <span class="number">10px</span></span><br><span class="line"></span><br><span class="line">.password-input-group</span><br><span class="line">  width: <span class="number">100%</span></span><br><span class="line">  display: flex</span><br><span class="line">  flex-direction: column</span><br><span class="line">  gap: <span class="number">10px</span></span><br><span class="line">  animation: fadeIn .<span class="number">3s</span> ease-in</span><br><span class="line"></span><br><span class="line">.password-input</span><br><span class="line">  width: <span class="number">100%</span></span><br><span class="line">  padding: <span class="number">12px</span> <span class="number">20px</span></span><br><span class="line">  font-size: <span class="number">15px</span></span><br><span class="line">  border: <span class="number">2px</span> solid <span class="number">#e0e0e0</span></span><br><span class="line">  border-radius: <span class="number">25px</span></span><br><span class="line">  outline: none</span><br><span class="line">  transition: border-color .<span class="number">3s</span> ease</span><br><span class="line">  box-sizing: border-box</span><br><span class="line"></span><br><span class="line">.password-input:focus</span><br><span class="line">  border-color: <span class="number">#3b8fc7</span></span><br><span class="line"></span><br><span class="line">.password-hint</span><br><span class="line">  font-size: <span class="number">13px</span></span><br><span class="line">  color: <span class="number">#666</span></span><br><span class="line">  text-align: center</span><br><span class="line">  margin-top: <span class="number">8px</span></span><br><span class="line">  padding: <span class="number">8px</span> <span class="number">12px</span></span><br><span class="line">  background: <span class="number">#f8f9fa</span></span><br><span class="line">  border-radius: <span class="number">6px</span></span><br><span class="line">  border: <span class="number">1px</span> solid <span class="number">#e9ecef</span></span><br><span class="line"></span><br><span class="line">.verification-status</span><br><span class="line">  margin-top: <span class="number">20px</span></span><br><span class="line">  padding: <span class="number">12px</span> <span class="number">20px</span></span><br><span class="line">  border-radius: <span class="number">8px</span></span><br><span class="line">  font-size: <span class="number">14px</span></span><br><span class="line">  display: none</span><br><span class="line">  max-width: <span class="number">300px</span></span><br><span class="line">  margin-left: auto</span><br><span class="line">  margin-right: auto</span><br><span class="line"></span><br><span class="line">.verification-status.info</span><br><span class="line">  background: <span class="number">#e7f3ff</span></span><br><span class="line">  color: <span class="number">#0066cc</span></span><br><span class="line">  border: <span class="number">1px</span> solid <span class="number">#b3d9ff</span></span><br><span class="line"></span><br><span class="line">.verification-status.success</span><br><span class="line">  background: <span class="number">#e6f9e6</span></span><br><span class="line">  color: <span class="number">#00aa00</span></span><br><span class="line">  border: <span class="number">1px</span> solid <span class="number">#b3e6b3</span></span><br><span class="line"></span><br><span class="line">.verification-status.error</span><br><span class="line">  background: <span class="number">#ffe6e6</span></span><br><span class="line">  color: <span class="number">#cc0000</span></span><br><span class="line">  border: <span class="number">1px</span> solid <span class="number">#ffb3b3</span></span><br><span class="line"></span><br><span class="line">.verification-status i</span><br><span class="line">  margin-right: <span class="number">8px</span></span><br><span class="line"></span><br><span class="line">.decrypted-content</span><br><span class="line">  animation: fadeIn .<span class="number">5s</span> ease-in</span><br><span class="line"></span><br><span class="line">@keyframes fadeIn</span><br><span class="line">  from</span><br><span class="line">    opacity: <span class="number">0</span></span><br><span class="line">    transform: <span class="built_in">translateY</span>(<span class="number">10px</span>)</span><br><span class="line">  to</span><br><span class="line">    opacity: <span class="number">1</span></span><br><span class="line">    transform: <span class="built_in">translateY</span>(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line">.encrypted-post-preview</span><br><span class="line">  padding: <span class="number">20px</span></span><br><span class="line">  background: <span class="number">#f8f9fa</span></span><br><span class="line">  border-radius: <span class="number">4px</span></span><br><span class="line">  color: <span class="number">#666</span></span><br><span class="line"></span><br><span class="line">.encrypted-status</span><br><span class="line">  display: flex</span><br><span class="line">  align-items: center</span><br><span class="line">  justify-content: center</span><br><span class="line">  gap: <span class="number">8px</span></span><br><span class="line">  font-size: <span class="number">15px</span></span><br><span class="line">  color: <span class="number">#888</span></span><br><span class="line"></span><br><span class="line">.encrypted-status i</span><br><span class="line">  color: <span class="number">#667eea</span></span><br><span class="line">  font-size: <span class="number">16px</span></span><br><span class="line"></span><br><span class="line">.encrypted-decrypted-preview</span><br><span class="line">  animation: fadeIn .<span class="number">5s</span> ease-in</span><br><span class="line">  line-height: <span class="number">1.8</span></span><br><span class="line">  color: <span class="number">#333</span></span><br><span class="line"></span><br><span class="line">.encrypted-lock-icon-index</span><br><span class="line">  color: <span class="number">#e74c3c</span></span><br><span class="line">  margin-right: <span class="number">8px</span></span><br><span class="line">  font-size: <span class="number">18px</span></span><br><span class="line">  vertical-align: baseline</span><br><span class="line">  position: relative</span><br><span class="line">  top: -<span class="number">1px</span></span><br><span class="line">  transition: color <span class="number">0.3s</span> ease</span><br><span class="line"></span><br><span class="line">.encrypted-lock-icon-index.decrypted</span><br><span class="line">  color: <span class="number">#27ae60</span></span><br><span class="line"></span><br><span class="line">.encrypted-lock-icon-small</span><br><span class="line">  color: <span class="number">#e74c3c</span></span><br><span class="line">  margin-right: <span class="number">6px</span></span><br><span class="line">  font-size: <span class="number">10px</span></span><br><span class="line">  vertical-align: baseline</span><br><span class="line">  position: relative</span><br><span class="line">  top: -<span class="number">1px</span></span><br><span class="line"></span><br><span class="line">.encrypted-lock-icon-small.decrypted</span><br><span class="line">    color: <span class="number">#27ae60</span></span><br><span class="line"></span><br><span class="line">@media (prefers-color-scheme: dark)</span><br><span class="line">  .encrypted-post-notice</span><br><span class="line">    background: transparent</span><br><span class="line"></span><br><span class="line">  .password-input</span><br><span class="line">    background: <span class="number">#374151</span></span><br><span class="line">    color: <span class="number">#f3f4f6</span></span><br><span class="line">    border-color: <span class="number">#4b5563</span></span><br><span class="line"></span><br><span class="line">  .password-input:focus</span><br><span class="line">    border-color: <span class="number">#3b8fc7</span></span><br><span class="line"></span><br><span class="line">  .encrypted-post-preview</span><br><span class="line">    background: <span class="number">#2d3748</span></span><br><span class="line">    color: <span class="number">#a0aec0</span></span><br><span class="line">  </span><br><span class="line">  .encrypted-status</span><br><span class="line">    color: <span class="number">#9ca3af</span></span><br><span class="line">  </span><br><span class="line">  .encrypted-status i</span><br><span class="line">    color: <span class="number">#9fa8da</span></span><br><span class="line">  </span><br><span class="line">  .encrypted-decrypted-preview</span><br><span class="line">    color: <span class="number">#e5e7eb</span></span><br><span class="line">  </span><br><span class="line">  .encrypted-lock-icon-index</span><br><span class="line">    color: <span class="number">#ff6b6b</span></span><br><span class="line">  </span><br><span class="line">  .encrypted-lock-icon-index.decrypted</span><br><span class="line">    color: <span class="number">#2ecc71</span></span><br><span class="line"></span><br><span class="line">  .encrypted-lock-icon-small</span><br><span class="line">    color: <span class="number">#ff6b6b</span></span><br><span class="line"></span><br><span class="line">  .encrypted-lock-icon-small.decrypted</span><br><span class="line">    color: <span class="number">#2ecc71</span></span><br><span class="line"></span><br><span class="line">  .password-hint</span><br><span class="line">    background: <span class="number">#374151</span></span><br><span class="line">    color: <span class="number">#d1d5db</span></span><br><span class="line">    border-color: <span class="number">#4b5563</span></span><br></pre></td></tr></table></figure></div></div></div>

<h2 id="ä½¿ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨æ–¹æ³•"></a>ä½¿ç”¨æ–¹æ³•</h2><ul>
<li><code>encrypted</code>: å¯é€‰<ul>
<li><code>true</code> åŠ å¯†è¯¥æ–‡ç« </li>
<li><code>false</code> ä¸åŠ å¯†è¯¥æ–‡ç« </li>
</ul>
</li>
<li><code>password</code>: å¯é€‰</li>
<li><code>password_hint</code>: å¯é€‰</li>
</ul>
<div class="note info"><ul>
<li><code>encrypted</code> æ§åˆ¶æ–‡ç« æ˜¯å¦åŠ å¯†ï¼Œä½¿ç”¨å·²æ³¨å†Œçš„å®‰å…¨å¯†é’¥å¯ä»¥è§£å¯†æ‰€æœ‰åŠ å¯†æ–‡ç« ã€‚</li>
<li><code>password</code> å¢åŠ å¯†ç è§£å¯†çš„é€‰é¡¹ï¼Œå¯ä»¥æ¯ä¸ªæ–‡ç« ä¸åŒã€‚å®‰å…¨å¯†é’¥æˆ–è€…å¯†ç ä½¿ç”¨å…¶ä¸€å‡å¯ä»¥è§£å¯†ã€‚</li>
<li><code>password_hint</code> ä»…å½“è®¾ç½®äº†å¯†ç æœ‰æ•ˆï¼Œåœ¨å¯†ç è¾“å…¥æ¡†ä¸‹å±•ç¤ºå¯†ç æç¤ºã€‚</li>
</ul>
</div>

<p>ä¸€ä¸ªå…¸å‹çš„æ–‡ç«  Markdown å¤´å†…å®¹å¦‚ä¸‹</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="meta">---</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">æ–‡ç« æ ‡é¢˜</span></span><br><span class="line"><span class="attr">abbrlink:</span>  <span class="number">12345678</span></span><br><span class="line"><span class="attr">encrypted:</span> <span class="literal">true</span></span><br><span class="line"><span class="attr">password:</span> <span class="number">123456</span></span><br><span class="line"><span class="attr">password_hint:</span> <span class="string">å¯†ç æç¤ºå†…å®¹</span></span><br><span class="line"><span class="meta">---</span></span><br></pre></td></tr></table></figure>

<h2 id="ä¸ƒé›¶å…«ç¢"><a href="#ä¸ƒé›¶å…«ç¢" class="headerlink" title="ä¸ƒé›¶å…«ç¢"></a>ä¸ƒé›¶å…«ç¢</h2><h3 id="ä¿®è¡¥-head-unique-njk"><a href="#ä¿®è¡¥-head-unique-njk" class="headerlink" title="ä¿®è¡¥ head-unique.njk"></a>ä¿®è¡¥ head-unique.njk</h3><p>å› ä¸ºä½¿ç”¨ <code>generate</code> ç”Ÿæˆæ–‡ç«  HTML çš„æ—¶å€™ä¼šç”Ÿæˆä¸€äº› <code>meta</code> æ ‡ç­¾æ•°æ®ï¼Œå…¶ä¸­ä¼šåŒ…æ‹¬ <code>description</code> ä¿¡æ¯ï¼Œå¦‚æœæ–‡ç« å¤´éƒ¨æ²¡æœ‰ <code>description</code> å­—æ®µåˆ™ä¼šä½¿ç”¨æ­£æ–‡çš„éƒ¨åˆ†å†…å®¹ä½œä¸º <code>meta.description</code> è¿™æ ·ä¼šå¯¼è‡´æ–‡ç« éƒ¨åˆ†å†…å®¹æ³„éœ²åˆ° HTML ä¸­ï¼Œæ‰€ä»¥è¿™é‡Œä¿®è¡¥ä¸€ä¸‹è¿™é‡Œçš„é€»è¾‘ï¼Œå¦‚æœæ˜¯åŠ å¯†æ–‡ç« åˆ™ä¸ç”Ÿæˆ <code>meta</code> æ ‡ç­¾</p>
<ul>
<li><code>./themes/next/layout/_partials/head/head-unique.njk</code> (ä¿®æ”¹)</li>
</ul>
<div class="tabs" id="head-unique.njk"><ul class="nav-tabs"><li class="tab active"><a href="#head-unique.njk-1"><i class="fa fa-code"></i>./themes/next/layout/_partials/head/head-unique.njk</a></li></ul><div class="tab-content"><div class="tab-pane active" id="head-unique.njk-1"><figure class="highlight jinja"><table><tr><td class="code"><pre><span class="line"><span class="comment">&#123;# åˆ¤æ–­æ–‡ç« æ˜¯å¦æ˜¯æ˜¯åŠ å¯†çš„ï¼Œå¦‚æœä¸æ˜¯åˆ™ç”Ÿæˆå¯¹åº”çš„ meta æ ‡ç­¾ #&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> not page.encrypted %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  </span><span class="template-variable">&#123;&#123; open_graph() &#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="comment">&#123;# https://github.com/theme-next/hexo-theme-next/issues/866 #&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%- <span class="name">set</span> canonical = url | replace(r/index\.html$/, &#x27;&#x27;) %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> not config.permalink.endsWith(&#x27;.html&#x27;) %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  </span><span class="template-tag">&#123;%- <span class="name">set</span> canonical = canonical | replace(r/\.html$/, &#x27;&#x27;) %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;canonical&quot;</span> <span class="attr">href</span>=<span class="string">&quot;</span></span></span><span class="template-variable">&#123;&#123; canonical &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="comment">&#123;# Exports some front-matter variables to Front-End #&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="comment">&#123;# https://hexo.io/docs/variables.html #&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-variable">&#123;&#123; next_data(&#x27;page&#x27;, next_config_unique()) &#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-variable">&#123;&#123; next_data(&#x27;calendar&#x27;,</span></span><br><span class="line"><span class="template-variable">  theme.calendar if page.type === &#x27;schedule&#x27; else &#x27;&#x27;)</span></span><br><span class="line"><span class="template-variable">&#125;&#125;</span></span><br></pre></td></tr></table></figure></div></div></div>


<h3 id="ä¿®è¡¥-post-njk"><a href="#ä¿®è¡¥-post-njk" class="headerlink" title="ä¿®è¡¥ post.njk"></a>ä¿®è¡¥ post.njk</h3><p>åŠ å¯†åçš„æ–‡ç« åœ¨é¦–é¡µé¢„è§ˆçš„æ—¶å€™ä¼šæ˜¾ç¤º <code>æ–‡ç« å·²åŠ å¯†</code> çš„æç¤ºå­—æ ·ã€‚åŒæ—¶å¦‚æœæ–‡ç« å·²ç»è§£å¯†ï¼Œåˆ™æ­£å¸¸å±•ç¤ºé¢„è§ˆéƒ¨åˆ† (å³ <code>&lt;!-- more --&gt;</code> ä¹‹å‰çš„å†…å®¹) </p>
<p>åŒæ—¶åœ¨é¦–é¡µæ–‡ç« æ ‡é¢˜å‰é¢å¢åŠ ä¸€æŠŠé”å›¾æ ‡ï¼Œæœªè§£å¯†æ—¶æ˜¯çº¢è‰²é”å®šå›¾æ ‡ï¼Œå·²è§£å¯†å˜ä¸ºç»¿è‰²å¼€é”å›¾æ ‡</p>
<p>å¹¶ä¸”ï¼Œåœ¨æ–‡ç« å†…æ ‡é¢˜å‰æ–¹ä¹Ÿå¢åŠ æ‰€å¾—å›¾æ ‡ã€‚åŒæ—¶ç‚¹å‡»è§£å¯†åçš„ç»¿è‰²å¼€é”å›¾æ ‡æ–‡ç« ä¼šç«‹åˆ»å˜ä¸ºåŠ å¯†çŠ¶æ€ã€‚</p>
<ul>
<li><code>./themes/next/layout/_macro/post.njk</code> (ä¿®æ”¹)</li>
</ul>
<div class="tabs" id="post.njk"><ul class="nav-tabs"><li class="tab active"><a href="#post.njk-1"><i class="fa fa-code"></i>./themes/next/layout/_macro/post.njk</a></li></ul><div class="tab-content"><div class="tab-pane active" id="post.njk-1"><figure class="highlight jinja"><table><tr><td class="code"><pre><span class="line"><span class="comment">&#123;# POST BLOCK éƒ¨åˆ†çš„ä¿®æ”¹ #&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="comment">&#123;##################&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="comment">&#123;### POST BLOCK ###&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="comment">&#123;##################&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> post.header !== false %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;post-header&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  &lt;</span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> is_index %&#125;</span><span class="language-xml">h2</span><span class="template-tag">&#123;% <span class="name"><span class="name">else</span></span> %&#125;</span><span class="language-xml">h1</span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"> class=&quot;post-title</span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> post.direction and post.direction.toLowerCase() === &#x27;rtl&#x27; %&#125;</span><span class="language-xml"> rtl</span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml">&quot; itemprop=&quot;name headline&quot;&gt;</span></span><br><span class="line"><span class="language-xml">    </span><span class="comment">&#123;# Link posts #&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> post.link %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> post.sticky &gt; 0 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-sticky-flag&quot;</span> <span class="attr">title</span>=<span class="string">&quot;</span></span></span><span class="template-variable">&#123;&#123; __(&#x27;post.sticky&#x27;) &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-thumbtack&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name">set</span> postTitleIcon = &#x27;&lt;i class=&quot;fa fa-external-link-alt&quot;&gt;&lt;/i&gt;&#x27; %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name">set</span> postText = post.title or post.link %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-variable">&#123;&#123;- next_url(post.link, postText + postTitleIcon, &#123;class: &#x27;post-title-link post-title-link-external&#x27;, itemprop: &#x27;url&#x27;&#125;) &#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">elif</span></span> is_index %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> post.sticky &gt; 0 %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;post-sticky-flag&quot;</span> <span class="attr">title</span>=<span class="string">&quot;</span></span></span><span class="template-variable">&#123;&#123; __(&#x27;post.sticky&#x27;) &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-thumbtack&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="comment">&#123;########################################&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="comment">&#123;############# é¦–é¡µå¢åŠ é”å›¾æ ‡ #############&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="comment">&#123;########################################&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> post.encrypted %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-lock encrypted-lock-icon-index&quot;</span> <span class="attr">id</span>=<span class="string">&quot;lock-icon-</span></span></span><span class="template-variable">&#123;&#123; post.abbrlink &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-variable">&#123;&#123;- next_url(post.path, post.title or __(&#x27;post.untitled&#x27;), &#123;class: &#x27;post-title-link&#x27;, itemprop: &#x27;url&#x27;&#125;) &#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    </span><span class="template-tag">&#123;%- <span class="name"><span class="name">else</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="comment">&#123;########################################&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="comment">&#123;########## æ–‡ç« å†…æ ‡é¢˜å‰å¢åŠ é”å›¾æ ‡ ##########&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="comment">&#123;########################################&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> post.encrypted %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-lock encrypted-lock-icon-index&quot;</span> <span class="attr">id</span>=<span class="string">&quot;lock-icon-</span></span></span><span class="template-variable">&#123;&#123; post.abbrlink &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-variable">&#123;&#123;- post.title &#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-variable">&#123;&#123;- post_edit(post.source) &#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  &lt;/</span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> is_index %&#125;</span><span class="language-xml">h2</span><span class="template-tag">&#123;% <span class="name"><span class="name">else</span></span> %&#125;</span><span class="language-xml">h1</span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml">&gt;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-meta-container&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span><span class="template-variable">&#123;&#123; partial(&#x27;_partials/post/post-meta.njk&#x27;) &#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> post.description and (not theme.excerpt_description or not is_index) %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-description&quot;</span>&gt;</span></span><span class="template-variable">&#123;&#123; post.description &#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="comment">&#123;# POST BODY éƒ¨åˆ†çš„ä¿®æ”¹ #&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="comment">&#123;#################&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="comment">&#123;### POST BODY ###&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="comment">&#123;#################&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-body</span></span></span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> post.direction and post.direction.toLowerCase() === &#x27;rtl&#x27; %&#125;</span><span class="language-xml"><span class="tag"><span class="string"> rtl</span></span></span><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;articleBody&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> is_index %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> post.encrypted %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;encrypted-post-preview&quot;</span> <span class="attr">id</span>=<span class="string">&quot;encrypted-preview-</span></span></span><span class="template-variable">&#123;&#123; post.abbrlink &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span> <span class="attr">data-abbrlink</span>=<span class="string">&quot;</span></span></span><span class="template-variable">&#123;&#123; post.abbrlink &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;encrypted-status&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-shield-alt&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span> æ–‡ç« å·²åŠ å¯†</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;encrypted-decrypted-preview&quot;</span> <span class="attr">id</span>=<span class="string">&quot;decrypted-preview-</span></span></span><span class="template-variable">&#123;&#123; post.abbrlink &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span> <span class="attr">style</span>=<span class="string">&quot;display:none;&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="comment">&lt;!--noindex--&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> theme.read_more_btn %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-button&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">href</span>=<span class="string">&quot;</span></span></span><span class="template-variable">&#123;&#123; url_for(post.path) &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            </span><span class="template-variable">&#123;&#123; __(&#x27;post.read_more&#x27;) &#125;&#125;</span><span class="language-xml"> <span class="symbol">&amp;raquo;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="comment">&lt;!--/noindex--&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="keyword">const</span> cacheKey = <span class="string">&quot;</span></span></span><span class="template-variable">&#123;&#123; post.abbrlink &#125;&#125;</span><span class="language-xml">&quot;;</span></span><br><span class="line"><span class="language-xml">          try &#123;</span></span><br><span class="line"><span class="language-xml">            const cached = localStorage.getItem(cacheKey);</span></span><br><span class="line"><span class="language-xml">            if (!cached) return;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">            const &#123; html, expired &#125; = JSON.parse(cached);</span></span><br><span class="line"><span class="language-xml">            if (Date.now() &gt;= expired) &#123;</span></span><br><span class="line"><span class="language-xml">              localStorage.removeItem(cacheKey);</span></span><br><span class="line"><span class="language-xml">              return;</span></span><br><span class="line"><span class="language-xml">            &#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">            const tempDiv = document.createElement(&quot;div&quot;);</span></span><br><span class="line"><span class="language-xml">            tempDiv.innerHTML = html;</span></span><br><span class="line"><span class="language-xml">            const moreElement = tempDiv.querySelector(&quot;#more&quot;);</span></span><br><span class="line"><span class="language-xml">            </span></span><br><span class="line"><span class="language-xml">            let preview = &quot;&quot;;</span></span><br><span class="line"><span class="language-xml">            if (moreElement) &#123;</span></span><br><span class="line"><span class="language-xml">              const range = document.createRange();</span></span><br><span class="line"><span class="language-xml">              range.setStartBefore(tempDiv.firstChild);</span></span><br><span class="line"><span class="language-xml">              range.setEndBefore(moreElement);</span></span><br><span class="line"><span class="language-xml">              preview = range.cloneContents().textContent.trim();</span></span><br><span class="line"><span class="language-xml">            &#125;</span></span><br><span class="line"><span class="language-xml">            </span></span><br><span class="line"><span class="language-xml">            if (!preview) &#123;</span></span><br><span class="line"><span class="language-xml">              const text = tempDiv.textContent.trim();</span></span><br><span class="line"><span class="language-xml">              preview = text ? text.substring(0, 200) + (text.length &gt; 200 ? &quot;...&quot; : &quot;&quot;) : &quot;æš‚æ— é¢„è§ˆ&quot;;</span></span><br><span class="line"><span class="language-xml">            &#125;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">            const previewEl = document.getElementById(&quot;decrypted-preview-</span><span class="template-variable">&#123;&#123; post.abbrlink &#125;&#125;</span><span class="language-xml">&quot;);</span></span><br><span class="line"><span class="language-xml">            const encryptedEl = document.getElementById(&quot;encrypted-preview-</span><span class="template-variable">&#123;&#123; post.abbrlink &#125;&#125;</span><span class="language-xml">&quot;);</span></span><br><span class="line"><span class="language-xml">            </span></span><br><span class="line"><span class="language-xml">            if (previewEl) &#123;</span></span><br><span class="line"><span class="language-xml">              previewEl.textContent = preview;</span></span><br><span class="line"><span class="language-xml">              previewEl.style.display = &quot;block&quot;;</span></span><br><span class="line"><span class="language-xml">            &#125;</span></span><br><span class="line"><span class="language-xml">            if (encryptedEl) encryptedEl.style.display = &quot;none&quot;;</span></span><br><span class="line"><span class="language-xml">          &#125; catch (_) &#123;&#125;</span></span><br><span class="line"><span class="language-xml">        &#125;)();</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">elif</span></span> post.description and theme.excerpt_description %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123; post.description &#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="comment">&lt;!--noindex--&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> theme.read_more_btn %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-button&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">href</span>=<span class="string">&quot;</span></span></span><span class="template-variable">&#123;&#123; url_for(post.path) &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            </span><span class="template-variable">&#123;&#123; __(&#x27;post.read_more&#x27;) &#125;&#125;</span><span class="language-xml"> <span class="symbol">&amp;raquo;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="comment">&lt;!--/noindex--&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">elif</span></span> post.excerpt %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-variable">&#123;&#123; post.excerpt &#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="comment">&lt;!--noindex--&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> theme.read_more_btn %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-button&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;btn&quot;</span> <span class="attr">href</span>=<span class="string">&quot;</span></span></span><span class="template-variable">&#123;&#123; url_for(post.path) &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">#more&quot;</span> <span class="attr">rel</span>=<span class="string">&quot;contents&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            </span><span class="template-variable">&#123;&#123; __(&#x27;post.read_more&#x27;) &#125;&#125;</span><span class="language-xml"> <span class="symbol">&amp;raquo;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="comment">&lt;!--/noindex--&gt;</span></span></span><br><span class="line"><span class="language-xml">    </span><span class="template-tag">&#123;% <span class="name"><span class="name">else</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-variable">&#123;&#123; post.content &#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  </span><span class="template-tag">&#123;% <span class="name"><span class="name">else</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    </span><span class="template-variable">&#123;&#123; post.content | safe &#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure></div></div></div>

<h3 id="ä¿®è¡¥-post-collapse-njk"><a href="#ä¿®è¡¥-post-collapse-njk" class="headerlink" title="ä¿®è¡¥ post-collapse.njk"></a>ä¿®è¡¥ post-collapse.njk</h3><p>é™¤äº†é¦–é¡µå¢åŠ é”å›¾æ ‡ï¼Œåœ¨å½’æ¡£é¡µé¢å¢åŠ åŒæ ·çš„é€»è¾‘</p>
<ul>
<li><code>./themes/next/layout/_macro/post-collapse.njk</code> (ä¿®æ”¹)</li>
</ul>
<div class="tabs" id="post-collapse.njk"><ul class="nav-tabs"><li class="tab active"><a href="#post-collapse.njk-1"><i class="fa fa-code"></i>./themes/next/layout/_macro/post-collapse.njk</a></li></ul><div class="tab-content"><div class="tab-pane active" id="post-collapse.njk-1"><figure class="highlight jinja"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">macro</span> render(posts) %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%- <span class="name">set</span> current_year = &#x27;1970&#x27; %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%- <span class="name"><span class="name">for</span></span> post <span class="keyword">in</span> posts.toArray() %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  </span><span class="template-tag">&#123;%- <span class="name">set</span> year = date(post.date, &#x27;YYYY&#x27;) %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> year !== current_year %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    </span><span class="template-tag">&#123;%- <span class="name">set</span> current_year = year %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;collection-year&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;collection-header&quot;</span>&gt;</span></span><span class="template-variable">&#123;&#123; current_year &#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">article</span> <span class="attr">itemscope</span> <span class="attr">itemtype</span>=<span class="string">&quot;http://schema.org/Article&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">header</span> <span class="attr">class</span>=<span class="string">&quot;post-header&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-meta-container&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">time</span> <span class="attr">itemprop</span>=<span class="string">&quot;dateCreated&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">datetime</span>=<span class="string">&quot;</span></span></span><span class="template-variable">&#123;&#123; moment(post.date).format() &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">              <span class="attr">content</span>=<span class="string">&quot;</span></span></span><span class="template-variable">&#123;&#123; date(post.date, config.date_format) &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          </span><span class="template-variable">&#123;&#123; date(post.date, &#x27;MM-DD&#x27;) &#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">time</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;post-title&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> post.link %&#125;</span><span class="comment">&#123;# Link posts #&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">          </span><span class="template-tag">&#123;%- <span class="name">set</span> postTitleIcon = &#x27;&lt;i class=&quot;fa fa-external-link-alt&quot;&gt;&lt;/i&gt;&#x27; %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">          </span><span class="template-tag">&#123;%- <span class="name">set</span> postText = post.title or post.link %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">          </span><span class="template-variable">&#123;&#123; next_url(post.link, postText + postTitleIcon, &#123;class: &#x27;post-title-link post-title-link-external&#x27;, itemprop: &#x27;url&#x27;&#125;) &#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">        </span><span class="template-tag">&#123;% <span class="name"><span class="name">else</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;post-title-link&quot;</span> <span class="attr">href</span>=<span class="string">&quot;</span></span></span><span class="template-variable">&#123;&#123; url_for(post.path) &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span> <span class="attr">itemprop</span>=<span class="string">&quot;url&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            </span><span class="comment">&#123;########################################&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">            </span><span class="comment">&#123;########### å¢åŠ å¯¹åŠ å¯†æ–‡ç« çš„åˆ¤æ–­ ##########&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">            </span><span class="comment">&#123;########################################&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">            </span><span class="template-tag">&#123;%- <span class="name"><span class="name">if</span></span> post.encrypted %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">              <span class="tag">&lt;<span class="name">i</span> <span class="attr">class</span>=<span class="string">&quot;fa fa-lock encrypted-lock-icon-small&quot;</span> <span class="attr">id</span>=<span class="string">&quot;lock-icon-small-</span></span></span><span class="template-variable">&#123;&#123; post.abbrlink &#125;&#125;</span><span class="language-xml"><span class="tag"><span class="string">&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">i</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">              (<span class="keyword">function</span> (<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">                <span class="keyword">const</span> cacheKey = <span class="string">&quot;</span></span></span><span class="template-variable">&#123;&#123; post.abbrlink &#125;&#125;</span><span class="language-xml">&quot;;</span></span><br><span class="line"><span class="language-xml">                try &#123;</span></span><br><span class="line"><span class="language-xml">                  const cached = localStorage.getItem(cacheKey);</span></span><br><span class="line"><span class="language-xml">                  if (!cached) return;</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">                  const &#123; expired &#125; = JSON.parse(cached);</span></span><br><span class="line"><span class="language-xml">                  if (Date.now() &gt;= expired) &#123;</span></span><br><span class="line"><span class="language-xml">                    localStorage.removeItem(cacheKey);</span></span><br><span class="line"><span class="language-xml">                    return;</span></span><br><span class="line"><span class="language-xml">                  &#125;</span></span><br><span class="line"><span class="language-xml">                    </span></span><br><span class="line"><span class="language-xml">                  const lockIcon = document.getElementById(&quot;lock-icon-small-</span><span class="template-variable">&#123;&#123; post.abbrlink &#125;&#125;</span><span class="language-xml">&quot;);</span></span><br><span class="line"><span class="language-xml">                  if (lockIcon) &#123;</span></span><br><span class="line"><span class="language-xml">                    lockIcon.classList.add(&#x27;decrypted&#x27;);</span></span><br><span class="line"><span class="language-xml">                    lockIcon.className = lockIcon.className.replace(&#x27;fa-lock&#x27;, &#x27;fa-unlock&#x27;);</span></span><br><span class="line"><span class="language-xml">                  &#125;</span></span><br><span class="line"><span class="language-xml">                &#125; catch (_) &#123;&#125;</span></span><br><span class="line"><span class="language-xml">              &#125;)();</span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">span</span> <span class="attr">itemprop</span>=<span class="string">&quot;name&quot;</span>&gt;</span></span><span class="template-variable">&#123;&#123; post.title or __(&#x27;post.untitled&#x27;) &#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        </span><span class="template-tag">&#123;%- <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">      </span><span class="template-variable">&#123;&#123; post_gallery(post.photos) &#125;&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">article</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;%- <span class="name"><span class="name">endfor</span></span> %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endmacro</span> %&#125;</span></span><br></pre></td></tr></table></figure></div></div></div>]]></content>
  </entry>
  <entry>
    <title>NexT ä¸»é¢˜é«˜çº§æ ‡ç­¾æ’ä»¶</title>
    <url>/post/daa7f9d2.html</url>
    <content><![CDATA[<p>Hexo NexT ä¸»é¢˜æä¾›äº†ä¸€ç³»åˆ—çš„é«˜çº§çš„æ ‡ç­¾æ’ä»¶ï¼Œå¯ä»¥ç®€å•çš„å®ç°ä¸€äº›å¤æ‚çš„åŠŸèƒ½ã€‚</p>
<span id="more"></span>

<h1 id="æŒ‰é’®-Button"><a href="#æŒ‰é’®-Button" class="headerlink" title="æŒ‰é’® Button"></a>æŒ‰é’® Button</h1><h2 id="ç”¨æ³•"><a href="#ç”¨æ³•" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><figure class="highlight jinja"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">button</span> url, text, icon [class], [title] %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">btn</span> url, text, icon [class], [title] %&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>url</code>: ç»å¯¹æˆ–ç›¸å¯¹è·¯å¾„çš„ URL</li>
<li><code>text</code>: æŒ‰é’®æ–‡æœ¬ã€‚å¦‚æœæœªæŒ‡å®šå›¾æ ‡ï¼Œåˆ™ä¸ºå¿…å¡«é¡¹</li>
<li><code>icon</code>: <span class="exturl" data-url="aHR0cHM6Ly9mb250YXdlc29tZS5jb20vdjQvaWNvbnM=">FontAwesome<i class="fa fa-external-link-alt"></i></span> å›¾æ ‡ã€‚å¦‚æœæœªæŒ‡å®šæ–‡æœ¬ï¼Œåˆ™ä¸ºå¿…å¡«é¡¹</li>
<li><code>[class]</code>: å¯é€‰å‚æ•°; é»˜è®¤ <code>fa-fw</code>; å¯é€‰: <code>fa-fw</code> | <code>fa-lg</code> | <code>fa-2x</code> | <code>fa-3x</code> | <code>fa-4x</code> | <code>fa-5x</code></li>
<li><code>[title]</code>: å¯é€‰å‚æ•°; é¼ æ ‡æ‚¬åœæ—¶æç¤º</li>
</ul>
<h2 id="ä¾‹å­"><a href="#ä¾‹å­" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><figure class="highlight jinja"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">button</span> #, æŒ‰é’®æ–‡æœ¬ %&#125;</span></span><br></pre></td></tr></table></figure>
<a class="btn" href="#">æŒ‰é’®æ–‡æœ¬</a>

<figure class="highlight jinja"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">btn</span> #, æŒ‰é’®æ–‡æœ¬ %&#125;</span><span class="language-xml"> </span><span class="template-tag">&#123;% <span class="name">btn</span> #, æŒ‰é’®æ–‡æœ¬ &amp; æŒ‰é’®æ ‡é¢˜,, æŒ‰é’®æ ‡é¢˜ %&#125;</span></span><br></pre></td></tr></table></figure>
<a class="btn" href="#">æŒ‰é’®æ–‡æœ¬</a> <a class="btn" href="#" title="æŒ‰é’®æ ‡é¢˜">æŒ‰é’®æ–‡æœ¬ & æŒ‰é’®æ ‡é¢˜</a>

<figure class="highlight jinja"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">btn</span> #,, home %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">btn</span> #,, home fa-lg %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">btn</span> #,, home fa-2x %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">btn</span> #,, home fa-3x %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">btn</span> #,, home fa-4x %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">btn</span> #,, home fa-5x %&#125;</span></span><br></pre></td></tr></table></figure>
<a class="btn" href="#"><i class="fa fa-home"></i></a>
<a class="btn" href="#"><i class="fa fa-home fa-lg"></i></a>
<a class="btn" href="#"><i class="fa fa-home fa-2x"></i></a>
<a class="btn" href="#"><i class="fa fa-home fa-3x"></i></a>
<a class="btn" href="#"><i class="fa fa-home fa-4x"></i></a>
<a class="btn" href="#"><i class="fa fa-home fa-5x"></i></a>

<figure class="highlight jinja"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">btn</span> #, æŒ‰é’®æ–‡æœ¬, home %&#125;</span></span><br></pre></td></tr></table></figure>
<a class="btn" href="#"><i class="fa fa-home"></i>æŒ‰é’®æ–‡æœ¬</a>

<h1 id="ç¬”è®°-Note"><a href="#ç¬”è®°-Note" class="headerlink" title="ç¬”è®° Note"></a>ç¬”è®° Note</h1><h2 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h2><figure class="highlight yml"><figcaption><span>NexT _config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment"># Note tag (bootstrap callout)</span></span><br><span class="line"><span class="attr">note:</span></span><br><span class="line">  <span class="comment"># Note tag style values:</span></span><br><span class="line">  <span class="comment">#  - simple    bootstrap callout old alert style. Default.</span></span><br><span class="line">  <span class="comment">#  - modern    bootstrap callout new (v2-v3) alert style.</span></span><br><span class="line">  <span class="comment">#  - flat      flat callout style with background, like on Mozilla or StackOverflow.</span></span><br><span class="line">  <span class="comment">#  - disabled  disable all CSS styles import of note tag.</span></span><br><span class="line">  <span class="attr">style:</span> <span class="string">modern</span></span><br><span class="line">  <span class="attr">icons:</span> <span class="literal">false</span></span><br><span class="line">  <span class="comment"># Offset lighter of background in % for modern and flat styles (modern: -12 | 12; flat: -18 | 6).</span></span><br><span class="line">  <span class="comment"># Offset also applied to label tag variables. This option can work with disabled note tag.</span></span><br><span class="line">  <span class="attr">light_bg_offset:</span> <span class="number">0</span></span><br></pre></td></tr></table></figure>

<h2 id="ç”¨æ³•-1"><a href="#ç”¨æ³•-1" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><figure class="highlight jinja"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">note</span> [class] [no-icon] [summary] %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">ç¬”è®°å†…å®¹</span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endnote</span> %&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>[class]</code>: å¯é€‰å‚æ•°; é»˜è®¤ <code>default</code>; å¯é€‰: <code>default</code> | <code>primary</code> | <code>success</code> | <code>info</code> | <code>warning</code> | <code>danger</code></li>
<li><code>[no-icon]</code>: å¯é€‰å‚æ•°; ç¦ç”¨ icon</li>
<li><code>[summary]</code>: å¯é€‰å‚æ•°; ç¬”è®°æ‘˜è¦</li>
</ul>
<h2 id="ä¾‹å­-1"><a href="#ä¾‹å­-1" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><div class="note default"><p>default æ ·ä¾‹</p>
</div>
<div class="note primary"><p>primary æ ·ä¾‹</p>
</div>
<div class="note success"><p>success æ ·ä¾‹</p>
</div>
<div class="note info"><p>info æ ·ä¾‹</p>
</div>
<div class="note warning"><p>warning æ ·ä¾‹</p>
</div>
<div class="note danger"><p>danger æ ·ä¾‹</p>
</div>

<h1 id="æ ‡ç­¾é¡µ-Tabs"><a href="#æ ‡ç­¾é¡µ-Tabs" class="headerlink" title="æ ‡ç­¾é¡µ Tabs"></a>æ ‡ç­¾é¡µ Tabs</h1><h2 id="è®¾ç½®-1"><a href="#è®¾ç½®-1" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h2><figure class="highlight yml"><figcaption><span>NexT _config.yml</span></figcaption><table><tr><td class="code"><pre><span class="line"><span class="comment"># Tabs tag</span></span><br><span class="line"><span class="attr">tabs:</span></span><br><span class="line">  <span class="comment"># Make the nav bar of tabs with long content stick to the top.</span></span><br><span class="line">  <span class="attr">sticky:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">transition:</span></span><br><span class="line">    <span class="attr">tabs:</span> <span class="literal">false</span></span><br><span class="line">    <span class="attr">labels:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<h2 id="ç”¨æ³•-2"><a href="#ç”¨æ³•-2" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><figure class="highlight jinja"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">tabs</span> Unique name, [index] %&#125;</span><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- tab [Tab caption] [@icon] --&gt;</span></span></span><br><span class="line"><span class="language-xml">  æ ‡ç­¾é¡µå†…å®¹</span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- endtab --&gt;</span></span></span><br><span class="line"><span class="language-xml"></span><span class="template-tag">&#123;% <span class="name">endtabs</span> %&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>Unique name</code>: å½“å‰é¡µé¢ä¸‹å”¯ä¸€åç§°</li>
<li><code>[index]</code>: æ´»åŠ¨æ ‡ç­¾é¡µç´¢å¼•</li>
<li><code>[Tab caption]</code>: æ ‡ç­¾é¡µæ ‡é¢˜</li>
<li><code>[@icon]</code>: <span class="exturl" data-url="aHR0cHM6Ly9mb250YXdlc29tZS5jb20vdjQvaWNvbnM=">FontAwesome<i class="fa fa-external-link-alt"></i></span> å›¾æ ‡</li>
</ul>
<h2 id="ä¾‹å­-2"><a href="#ä¾‹å­-2" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><div class="tabs" id="æ ‡ç­¾é¡µ"><ul class="nav-tabs"><li class="tab active"><a href="#æ ‡ç­¾é¡µ-1"><i class="fa fa-table"></i>è¡¨æ ¼</a></li><li class="tab"><a href="#æ ‡ç­¾é¡µ-2"><i class="fa fa-code"></i>ä»£ç å—</a></li><li class="tab"><a href="#æ ‡ç­¾é¡µ-3"><i class="fa fa-camera"></i>å›¾ç‰‡</a></li></ul><div class="tab-content"><div class="tab-pane active" id="æ ‡ç­¾é¡µ-1"><table>
<thead>
<tr>
<th align="left">å·¦å¯¹é½åˆ—</th>
<th align="right">å³å¯¹é½åˆ—</th>
<th align="center">å±…ä¸­åˆ—</th>
</tr>
</thead>
<tbody><tr>
<td align="left">11</td>
<td align="right">12</td>
<td align="center">13</td>
</tr>
<tr>
<td align="left">21</td>
<td align="right">22</td>
<td align="center">23</td>
</tr>
<tr>
<td align="left">31</td>
<td align="right">32</td>
<td align="center">33</td>
</tr>
</tbody></table></div><div class="tab-pane" id="æ ‡ç­¾é¡µ-2"><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: UTF-8 -*-</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">fib</span>(<span class="params">n</span>):</span><br><span class="line">    a,b = <span class="number">1</span>,<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">1</span>):</span><br><span class="line">        a,b = b,a+b</span><br><span class="line">    <span class="keyword">return</span> a</span><br></pre></td></tr></table></figure></div><div class="tab-pane" id="æ ‡ç­¾é¡µ-3"><p>  <img data-src="https://images.zabrian.com/e9347cac-bb91-4e23-392c-536d7ae0b401/origin"></p></div></div></div>

<h1 id="æ–‡æœ¬æ ‡ç­¾-Label"><a href="#æ–‡æœ¬æ ‡ç­¾-Label" class="headerlink" title="æ–‡æœ¬æ ‡ç­¾ Label"></a>æ–‡æœ¬æ ‡ç­¾ Label</h1><h2 id="ç”¨æ³•-3"><a href="#ç”¨æ³•-3" class="headerlink" title="ç”¨æ³•"></a>ç”¨æ³•</h2><figure class="highlight jinja"><table><tr><td class="code"><pre><span class="line"><span class="template-tag">&#123;% <span class="name">label</span> [class]@text %&#125;</span></span><br></pre></td></tr></table></figure>
<ul>
<li><code>[class]</code>: å¯é€‰å‚æ•°; é»˜è®¤ <code>default</code>; å¯é€‰: <code>default</code> | <code>primary</code> | <code>success</code> | <code>info</code> | <code>warning</code> | <code>danger</code></li>
<li><code>text</code>: æ ‡ç­¾æ–‡æœ¬</li>
</ul>
<h2 id="ä¾‹å­-3"><a href="#ä¾‹å­-3" class="headerlink" title="ä¾‹å­"></a>ä¾‹å­</h2><p>æ›²æ›²æŠ˜æŠ˜çš„è·å¡˜ä¸Šé¢ï¼Œå¼¥æœ›æ—³æ˜¯ç”°ç”°çš„å¶å­ã€‚å¶å­å‡ºæ°´å¾ˆé«˜ï¼Œåƒ<mark class="label default">äº­äº­æ—³èˆå¥³æ—³è£™</mark>ã€‚<br>å±‚å±‚çš„å¶å­ä¸­é—´ï¼Œé›¶æ˜Ÿåœ°ç‚¹ç¼€ç€äº›ç™½èŠ±ï¼Œæœ‰è¢…å¨œåœ°å¼€ç€æ—³ï¼Œæœ‰ç¾æ¶©åœ°æ‰“ç€æœµå„¿æ—³ï¼›æ­£å¦‚<mark class="label primary">ä¸€ç²’ç²’çš„æ˜ç </mark>ï¼Œåˆå¦‚<mark class="label success">ç¢§å¤©é‡Œçš„æ˜Ÿæ˜Ÿ</mark>ï¼Œåˆå¦‚<mark class="label info">åˆšå‡ºæµ´çš„ç¾äºº</mark>ã€‚<br>å¾®é£è¿‡å¤„ï¼Œé€æ¥ç¼•ç¼•æ¸…é¦™ï¼Œ<mark class="label warning">ä»¿ä½›è¿œå¤„é«˜æ¥¼ä¸Šæ¸ºèŒ«çš„æ­Œå£°ä¼¼çš„</mark>ã€‚è¿™æ—¶å€™å¶å­ä¸èŠ±ä¹Ÿæœ‰ä¸€ä¸çš„é¢¤åŠ¨ï¼Œåƒé—ªç”µèˆ¬ï¼Œéœæ—¶ä¼ è¿‡è·å¡˜çš„é‚£è¾¹å»äº†ã€‚<br>å¶å­æœ¬æ˜¯è‚©å¹¶è‚©å¯†å¯†åœ°æŒ¨ç€ï¼Œè¿™ä¾¿å®›ç„¶æœ‰äº†ä¸€é“<mark class="label danger">å‡ç¢§çš„æ³¢ç—•</mark>ã€‚å¶å­åº•ä¸‹æ˜¯è„‰è„‰çš„æµæ°´ï¼Œé®ä½äº†ï¼Œä¸èƒ½è§ä¸€äº›é¢œè‰²ï¼›è€Œå¶å­å´æ›´è§é£è‡´äº†ã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>Hexo é™æ€åšå®¢ä½¿ç”¨ Cloudflare Turnstile</title>
    <url>/post/50a431e6.html</url>
    <content><![CDATA[<p>åœ¨ <a href="/post/ec93b507.html" title="Cloudflare ä½¿ç”¨ Workers å»ºç«‹ Images ä»£ç†">Cloudflare ä½¿ç”¨ Workers å»ºç«‹ Images ä»£ç†</a> ä¸€æ–‡ä¸­ã€‚ä½¿ç”¨ Workers æ­å»ºäº†ä¸€ä¸ª Images ä»£ç†ï¼Œé€šè¿‡è®¾ç½® <code>Referer</code> å’Œ URL ç­¾åæœ‰æ•ˆæœŸå®ç°ç®€æ˜“çš„é˜²ç›—é“¾ä»¥åŠé˜²åˆ·æµé‡ã€‚ä½†æ˜¯è¿™äº›æªæ–½åªèƒ½åšåˆ°é˜²å›å­ä¸é˜²å°äººï¼Œå…¶å®å¾ˆè½»æ˜“çš„å°±å¯ä»¥é€šè¿‡ä»£ç è‡ªåŠ¨å®ç°åˆ·å›¾ç‰‡æµé‡ã€‚ä¸ºäº†é¿å…è¿™ç§æƒ…å†µï¼Œæƒ³ç€èƒ½ä¸èƒ½ä½¿ç”¨ <code>Cloudflare Turnstile</code> é˜»æŒ¡éäººç±»è¯·æ±‚çš„æµé‡ã€‚ä½†æ˜¯ç ”ç©¶äº†ä¸€ä¸‹å‘ç° <code>Cloudflare Turnstile</code> éœ€è¦ <strong><span class="exturl" data-url="aHR0cHM6Ly9kZXZlbG9wZXJzLmNsb3VkZmxhcmUuY29tL3R1cm5zdGlsZS9nZXQtc3RhcnRlZC9zZXJ2ZXItc2lkZS12YWxpZGF0aW9uLw==">æœåŠ¡ç«¯ä»£ç éªŒè¯<i class="fa fa-external-link-alt"></i></span></strong> ä½†æ˜¯å¾ˆæ˜¾ç„¶ï¼Œ<code>Hexo</code> è¿™ç§çº¯é™æ€åšå®¢æ²¡æœ‰åç«¯æœåŠ¡ï¼Œæ‰€ä»¥æ€ç´¢äº†ä¸€ä¸‹å†³å®šè¿˜æ˜¯ä½¿ç”¨ Workers å®ç°ä¸€ä¸ªæ”¯æŒé™æ€ç½‘é¡µçš„ <code>Cloudflare Turnstile</code> æ–¹æ¡ˆã€‚</p>
<span id="more"></span>

<p>æ€è·¯å°±æ˜¯å°†åŸå§‹åšå®¢é€šè¿‡ <code>Cloudflare Pages</code> æ‰˜ç®¡å¹¶ç»‘å®šä¸€ä¸ªè‡ªå®šä¹‰åŸŸåæ¯”å¦‚ <code>source.example.com</code> ä½œä¸ºé™æ€é¡µé¢çš„æºç«™ï¼Œç„¶åå†åˆ›å»ºä¸€ä¸ª blog çš„ Workers (ç»‘å®šè‡ªå®šä¹‰åŸŸå <code>blog.example.com</code>) ä½œä¸ºä»£ç†ç«™ï¼Œåœ¨è¿™ä¸ª blog çš„ Workers ä¸­å®ç° <code>Cloudflare Turnstile</code> çš„æœåŠ¡ç«¯éªŒè¯é€»è¾‘ï¼ŒéªŒè¯é€šè¿‡åˆ™æ³¨å…¥ä¸€ä¸ª <code>JWT Token</code> å®ç°åœ¨æœ‰æ•ˆæœŸå†…å°±æ— éœ€å†æ¬¡éªŒè¯ã€‚</p>
<ol>
<li>æ‰“å¼€ <span class="exturl" data-url="aHR0cHM6Ly9kYXNoLmNsb3VkZmxhcmUuY29tLw==">Cloudflare Dashboard<i class="fa fa-external-link-alt"></i></span> ç‚¹å‡»å·¦ä¾§çš„ <strong>Turnstile</strong> åœ¨å³ä¾§ç‚¹å‡» <strong>æ·»åŠ å°ç»„ä»¶</strong><img data-src="https://images.zabrian.com/d0a19b46-f067-4866-2f22-f3d224d3a301/origin" title="Turnstile é¦–é¡µ" style="zoom:16%;" /></li>
<li>æŒ‰ç…§å®é™…æƒ…å†µå¡«å†™ä¿¡æ¯ï¼ŒåŸŸååˆ™æ·»åŠ é™æ€é¡µé¢çš„ä»£ç†åŸŸå (ä¸Šæ–‡ä¸­çš„ <code>blog.example.com</code> è€Œä¸æ˜¯ <code>source.example.com</code>)ï¼Œä¸‹æ–¹é€‰æ‹© <strong>æ‰˜ç®¡</strong> å’Œ <strong>å¦</strong><img data-src="https://images.zabrian.com/b0bdf585-c029-4e0c-ffb8-6b1fe7c34401/origin" title="Turnstile æ·»åŠ ç»„ä»¶" style="zoom:16%;" /></li>
<li>æ·»åŠ å®Œæˆåç¡®è®¤å·²ç»æ·»åŠ æ­£ç¡®çš„åŸŸåï¼Œå¹¶ä¸”ç”Ÿæˆä¸¤ä¸ªéœ€è¦ç”¨åˆ°çš„æ•°æ®: <strong>ç«™ç‚¹å¯†é’¥</strong> å’Œ <strong>å¯†é’¥</strong> æ— éœ€é©¬ä¸Šè®°ä¸‹æ¥ï¼Œåç»­è¿˜å¯ä»¥å†æ¬¡æŸ¥çœ‹ã€‚<img data-src="https://images.zabrian.com/517237f3-678a-463f-a7f8-8fd73f39cf01/origin" title="æŸ¥çœ‹ä¿¡æ¯" style="zoom:16%;" /></li>
<li>é…ç½® <code>Cloudflare Pages</code> æºç«™ç‚¹ç»‘å®š <code>source.example.com</code> åŸŸåï¼Œå¹¶ç¡®è®¤æºç«™ç‚¹å¯ä»¥æ­£å¸¸è®¿é—®ã€‚</li>
<li>æ·»åŠ è‡ªå®šä¹‰ Workers ä½¿ç”¨ä¸‹æ–¹ä»£ç ï¼Œæ›¿æ¢ä¸ºå®é™…çš„å†…å®¹ã€‚ç»‘å®šè‡ªå®šä¹‰åŸŸå <code>blog.example.com</code></li>
</ol>
<figure class="highlight javascript"><table><tr><td class="code"><pre><span class="line"><span class="comment">// é…ç½®å¸¸é‡</span></span><br><span class="line"><span class="keyword">const</span> <span class="variable constant_">CONFIG</span> = &#123;</span><br><span class="line">  <span class="attr">BLOG_SOURCE</span>: <span class="string">&quot;https://source.example.com&quot;</span>, <span class="comment">// é™æ€é¡µé¢æºç«™ URLï¼Œè‡ªè¡Œä¿®æ”¹</span></span><br><span class="line">  <span class="attr">TURNSTILE_URL</span>: <span class="string">&quot;https://challenges.cloudflare.com/turnstile/v0/siteverify&quot;</span>, <span class="comment">// Turnstile éªŒè¯åœ°å€</span></span><br><span class="line">  <span class="attr">TURNSTILE_SITEKEY</span>: <span class="string">&quot;&quot;</span>, <span class="comment">// Turnstile ç«™ç‚¹å¯†é’¥ï¼Œæ ¹æ®å®é™…ä¿®æ”¹</span></span><br><span class="line">  <span class="attr">TURNSTILE_SECRET</span>: <span class="string">&quot;&quot;</span>, <span class="comment">// Turnstile å¯†é’¥ï¼Œæ ¹æ®å®é™…ä¿®æ”¹</span></span><br><span class="line">  <span class="attr">JWT_SECRET</span>: <span class="string">&quot;&quot;</span>, <span class="comment">// JWT å¯†é’¥ï¼Œå¯é€šè¿‡å‘½ä»¤ç”Ÿæˆ openssl rand -base64 48</span></span><br><span class="line">  <span class="attr">COOKIE_NAME</span>: <span class="string">&quot;&quot;</span>, <span class="comment">// æ³¨å…¥çš„ JWT Token cookie åå­—ï¼Œå¯è‡ªå®šä¹‰</span></span><br><span class="line">  <span class="attr">COOKIE_EXPIRE</span>: <span class="number">3600</span>, <span class="comment">// Turnstile æœ‰æ•ˆæœŸ 1 å°æ—¶ï¼Œå¯è‡ªå®šä¹‰</span></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”Ÿæˆ JWT token</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">generateToken</span>(<span class="params">payload</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> header = &#123; <span class="attr">alg</span>: <span class="string">&quot;HS256&quot;</span>, <span class="attr">typ</span>: <span class="string">&quot;JWT&quot;</span> &#125;;</span><br><span class="line">  <span class="keyword">const</span> encodedHeader = <span class="title function_">btoa</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(header)).<span class="title function_">replace</span>(<span class="regexp">/=/g</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> encodedPayload = <span class="title function_">btoa</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(payload)).<span class="title function_">replace</span>(<span class="regexp">/=/g</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> data = <span class="string">`<span class="subst">$&#123;encodedHeader&#125;</span>.<span class="subst">$&#123;encodedPayload&#125;</span>`</span>;</span><br><span class="line">  <span class="keyword">const</span> encoder = <span class="keyword">new</span> <span class="title class_">TextEncoder</span>();</span><br><span class="line">  <span class="keyword">const</span> key = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">importKey</span>(</span><br><span class="line">    <span class="string">&quot;raw&quot;</span>,</span><br><span class="line">    encoder.<span class="title function_">encode</span>(<span class="variable constant_">CONFIG</span>.<span class="property">JWT_SECRET</span>),</span><br><span class="line">    &#123; <span class="attr">name</span>: <span class="string">&quot;HMAC&quot;</span>, <span class="attr">hash</span>: <span class="string">&quot;SHA-256&quot;</span> &#125;,</span><br><span class="line">    <span class="literal">false</span>,</span><br><span class="line">    [<span class="string">&quot;sign&quot;</span>]</span><br><span class="line">  );</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> signature = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">sign</span>(<span class="string">&quot;HMAC&quot;</span>, key, encoder.<span class="title function_">encode</span>(data));</span><br><span class="line">  <span class="keyword">const</span> encodedSignature = <span class="title function_">btoa</span>(</span><br><span class="line">    <span class="title class_">String</span>.<span class="title function_">fromCharCode</span>(...<span class="keyword">new</span> <span class="title class_">Uint8Array</span>(signature))</span><br><span class="line">  ).<span class="title function_">replace</span>(<span class="regexp">/=/g</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;data&#125;</span>.<span class="subst">$&#123;encodedSignature&#125;</span>`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯ JWT token</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">verifyToken</span>(<span class="params">token</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`JWT Token è·å–: <span class="subst">$&#123;token&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> parts = token.<span class="title function_">split</span>(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (parts.<span class="property">length</span> !== <span class="number">3</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> [header, payload, signature] = parts;</span><br><span class="line">    <span class="keyword">const</span> data = <span class="string">`<span class="subst">$&#123;header&#125;</span>.<span class="subst">$&#123;payload&#125;</span>`</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> encoder = <span class="keyword">new</span> <span class="title class_">TextEncoder</span>();</span><br><span class="line">    <span class="keyword">const</span> key = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">importKey</span>(</span><br><span class="line">      <span class="string">&quot;raw&quot;</span>,</span><br><span class="line">      encoder.<span class="title function_">encode</span>(<span class="variable constant_">CONFIG</span>.<span class="property">JWT_SECRET</span>),</span><br><span class="line">      &#123; <span class="attr">name</span>: <span class="string">&quot;HMAC&quot;</span>, <span class="attr">hash</span>: <span class="string">&quot;SHA-256&quot;</span> &#125;,</span><br><span class="line">      <span class="literal">false</span>,</span><br><span class="line">      [<span class="string">&quot;verify&quot;</span>]</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> expectedSignature = <span class="title class_">Uint8Array</span>.<span class="title function_">from</span>(</span><br><span class="line">      <span class="title function_">atob</span>(signature + <span class="string">&quot;===&quot;</span>.<span class="title function_">substring</span>(<span class="number">0</span>, (<span class="number">4</span> - (signature.<span class="property">length</span> % <span class="number">4</span>)) % <span class="number">4</span>)),</span><br><span class="line">      <span class="function">(<span class="params">c</span>) =&gt;</span> c.<span class="title function_">charCodeAt</span>(<span class="number">0</span>)</span><br><span class="line">    );</span><br><span class="line">    <span class="keyword">const</span> isValid = <span class="keyword">await</span> crypto.<span class="property">subtle</span>.<span class="title function_">verify</span>(</span><br><span class="line">      <span class="string">&quot;HMAC&quot;</span>,</span><br><span class="line">      key,</span><br><span class="line">      expectedSignature,</span><br><span class="line">      encoder.<span class="title function_">encode</span>(data)</span><br><span class="line">    );</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`JWT Token æœ‰æ•ˆ: <span class="subst">$&#123;isValid&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">if</span> (!isValid) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> decodedPayload = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(</span><br><span class="line">      <span class="title function_">atob</span>(payload + <span class="string">&quot;===&quot;</span>.<span class="title function_">substring</span>(<span class="number">0</span>, (<span class="number">4</span> - (payload.<span class="property">length</span> % <span class="number">4</span>)) % <span class="number">4</span>))</span><br><span class="line">    );</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`JWT Token è§£ç : <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(decodedPayload)&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">const</span> isExpired = decodedPayload.<span class="property">exp</span> &gt; <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>() / <span class="number">1000</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`JWT Token è¿‡æœŸ: <span class="subst">$&#123;!isExpired&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> isExpired;</span><br><span class="line">  &#125; <span class="keyword">catch</span> (e) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`JWT Token å¤±è´¥: <span class="subst">$&#123;e&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Turnstile HTML é¡µé¢</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getTurnstileHTML</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`&lt;!DOCTYPE html&gt;</span></span><br><span class="line"><span class="string">&lt;html lang=&quot;zh-CN&quot;&gt;</span></span><br><span class="line"><span class="string">&lt;head&gt;</span></span><br><span class="line"><span class="string">  &lt;meta charset=&quot;utf-8&quot;&gt;</span></span><br><span class="line"><span class="string">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;</span></span><br><span class="line"><span class="string">  &lt;title&gt;å®‰å…¨éªŒè¯ - Zabrian&#x27;s Blog&lt;/title&gt;</span></span><br><span class="line"><span class="string">  &lt;script src=&quot;https://challenges.cloudflare.com/turnstile/v0/api.js&quot; async defer&gt;&lt;/script&gt;</span></span><br><span class="line"><span class="string">  &lt;style&gt;</span></span><br><span class="line"><span class="string">    body &#123; font-family: -apple-system, BlinkMacSystemFont, &#x27;Segoe UI&#x27;, Roboto, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); margin: 0; padding: 0; min-height: 100vh; display: flex; align-items: center; justify-content: center; &#125;</span></span><br><span class="line"><span class="string">    .container &#123; background: white; border-radius: 12px; box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1); padding: 40px; width: 400px; min-height: 300px; text-align: center; box-sizing: border-box; &#125;</span></span><br><span class="line"><span class="string">    .logo &#123; font-size: 24px; font-weight: bold; color: #333; margin-bottom: 24px; &#125;</span></span><br><span class="line"><span class="string">    .title &#123; color: #333; margin-bottom: 16px; font-size: 18px; font-weight: 500; &#125;</span></span><br><span class="line"><span class="string">    .description &#123; color: #666; margin-bottom: 24px; font-size: 14px; line-height: 1.5; &#125;</span></span><br><span class="line"><span class="string">    .turnstile-container &#123; display: flex; justify-content: center; align-items: center; margin: 20px 0; min-height: 65px; width: 100%; &#125;</span></span><br><span class="line"><span class="string">    .cf-turnstile &#123; margin: 0 auto; &#125;</span></span><br><span class="line"><span class="string">  &lt;/style&gt;</span></span><br><span class="line"><span class="string">&lt;/head&gt;</span></span><br><span class="line"><span class="string">&lt;body&gt;</span></span><br><span class="line"><span class="string">  &lt;div class=&quot;container&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;logo&quot;&gt;Zabrian&#x27;s Blog&lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;h2 class=&quot;title&quot;&gt;å®‰å…¨éªŒè¯&lt;/h2&gt;</span></span><br><span class="line"><span class="string">    &lt;p class=&quot;description&quot;&gt;è¯·å®Œæˆä»¥ä¸‹éªŒè¯åç»§ç»­è®¿é—®&lt;/p&gt;</span></span><br><span class="line"><span class="string">    &lt;form method=&quot;POST&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;div class=&quot;turnstile-container&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;cf-turnstile&quot; data-sitekey=&quot;<span class="subst">$&#123;CONFIG.TURNSTILE_SITEKEY&#125;</span>&quot; data-callback=&quot;onSuccess&quot;&gt;&lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/form&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">  &lt;script&gt;function onSuccess()&#123;document.querySelector(&#x27;form&#x27;).submit();&#125;&lt;/script&gt;</span></span><br><span class="line"><span class="string">&lt;/body&gt;</span></span><br><span class="line"><span class="string">&lt;/html&gt;`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// éªŒè¯ Turnstile Response</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">verifyTurnstile</span>(<span class="params">response, remoteip</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Turnstile è´¨è¯¢: <span class="subst">$&#123;remoteip&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">let</span> formData = <span class="keyword">new</span> <span class="title class_">FormData</span>();</span><br><span class="line">  formData.<span class="title function_">append</span>(<span class="string">&quot;secret&quot;</span>, <span class="variable constant_">CONFIG</span>.<span class="property">TURNSTILE_SECRET</span>);</span><br><span class="line">  formData.<span class="title function_">append</span>(<span class="string">&quot;response&quot;</span>, response);</span><br><span class="line">  formData.<span class="title function_">append</span>(<span class="string">&quot;remoteip&quot;</span>, remoteip);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> verifyResponse = <span class="keyword">await</span> <span class="title function_">fetch</span>(<span class="variable constant_">CONFIG</span>.<span class="property">TURNSTILE_URL</span>, &#123;</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&quot;POST&quot;</span>,</span><br><span class="line">    <span class="attr">body</span>: formData,</span><br><span class="line">  &#125;);</span><br><span class="line">  <span class="keyword">const</span> result = <span class="keyword">await</span> verifyResponse.<span class="title function_">json</span>();</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Turnstile ç»“æœ: <span class="subst">$&#123;<span class="built_in">JSON</span>.stringify(result)&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">return</span> result.<span class="property">success</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ£€æŸ¥æ˜¯å¦å·²é€šè¿‡ JWT éªŒè¯</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">isVerifiedToken</span>(<span class="params">request</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> cookie = request.<span class="property">headers</span>.<span class="title function_">get</span>(<span class="string">&quot;Cookie&quot;</span>) || <span class="string">&quot;&quot;</span>;</span><br><span class="line">  <span class="keyword">const</span> match = cookie.<span class="title function_">match</span>(<span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="variable constant_">CONFIG</span>.<span class="property">COOKIE_NAME</span> + <span class="string">&quot;=([^;]+)&quot;</span>));</span><br><span class="line">  <span class="keyword">if</span> (!match) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> token = match[<span class="number">1</span>];</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">await</span> <span class="title function_">verifyToken</span>(token);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è®¾ç½®éªŒè¯æˆåŠŸçš„ Cookie</span></span><br><span class="line"><span class="keyword">async</span> <span class="keyword">function</span> <span class="title function_">setSuccessResponse</span>(<span class="params">targetPath</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> payload = &#123;</span><br><span class="line">    <span class="attr">verified</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">iat</span>: <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>() / <span class="number">1000</span>),</span><br><span class="line">    <span class="attr">exp</span>: <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Date</span>.<span class="title function_">now</span>() / <span class="number">1000</span>) + <span class="variable constant_">CONFIG</span>.<span class="property">COOKIE_EXPIRE</span>,</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> token = <span class="keyword">await</span> <span class="title function_">generateToken</span>(payload);</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`Cookie è®¾ç½®: <span class="subst">$&#123;token&#125;</span>`</span>);</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">&quot;&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">status</span>: <span class="number">302</span>,</span><br><span class="line">    <span class="attr">headers</span>: &#123;</span><br><span class="line">      <span class="title class_">Location</span>: targetPath,</span><br><span class="line">      <span class="string">&quot;Set-Cookie&quot;</span>: <span class="string">`<span class="subst">$&#123;CONFIG.COOKIE_NAME&#125;</span>=<span class="subst">$&#123;token&#125;</span>; Path=/; Max-Age=<span class="subst">$&#123;CONFIG.COOKIE_EXPIRE&#125;</span>; HttpOnly; SameSite=Lax; Secure`</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="keyword">async</span> <span class="title function_">fetch</span>(<span class="params">request, env, ctx</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> url = <span class="keyword">new</span> <span class="title function_">URL</span>(request.<span class="property">url</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ£€æŸ¥æ˜¯å¦å·²éªŒè¯</span></span><br><span class="line">    <span class="keyword">if</span> (!(<span class="keyword">await</span> <span class="title function_">isVerifiedToken</span>(request))) &#123;</span><br><span class="line">      <span class="comment">// å¤„ç†è´¨è¯¢è¯·æ±‚</span></span><br><span class="line">      <span class="keyword">if</span> (request.<span class="property">method</span> === <span class="string">&quot;POST&quot;</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> formData = <span class="keyword">await</span> request.<span class="title function_">formData</span>();</span><br><span class="line">        <span class="keyword">const</span> remoteip = request.<span class="property">headers</span>.<span class="title function_">get</span>(<span class="string">&quot;CF-Connecting-IP&quot;</span>);</span><br><span class="line">        <span class="keyword">const</span> response = formData.<span class="title function_">get</span>(<span class="string">&quot;cf-turnstile-response&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">await</span> <span class="title function_">verifyTurnstile</span>(response, remoteip)) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">await</span> <span class="title function_">setSuccessResponse</span>(url.<span class="property">pathname</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="string">&quot;éªŒè¯å¤±è´¥&quot;</span>, &#123; <span class="attr">status</span>: <span class="number">403</span> &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">// æ˜¾ç¤ºéªŒè¯é¡µé¢</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;è·³è½¬ Turnstile é¡µé¢&quot;</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Response</span>(<span class="title function_">getTurnstileHTML</span>(), &#123;</span><br><span class="line">        <span class="attr">headers</span>: &#123; <span class="string">&quot;content-type&quot;</span>: <span class="string">&quot;text/html; charset=utf-8&quot;</span> &#125;,</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä»£ç†åˆ°æºç«™</span></span><br><span class="line">    <span class="keyword">const</span> target = <span class="variable constant_">CONFIG</span>.<span class="property">BLOG_SOURCE</span> + url.<span class="property">pathname</span> + url.<span class="property">search</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ä»£ç†æºç«™: <span class="subst">$&#123;target&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="title function_">fetch</span>(target, request);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>è‡³æ­¤ï¼Œå°±å®ç°äº†é€šè¿‡è®¿é—® <code>blog.example.com</code> æ˜¾ç¤ºä¸€ä¸ªéªŒè¯é¡µé¢çš„æ•ˆæœã€‚<br><img data-src="https://images.zabrian.com/028c5ff7-7939-4fd4-dc38-3de8f13f4801/origin" title="Turnstile éªŒè¯é¡µé¢" style="zoom:100%;" /><br>éªŒè¯é€šè¿‡åå³å¯è®¿é—®é™æ€é¡µé¢ï¼ŒåŒæ—¶å¯ä»¥é€šè¿‡ä¿®æ”¹ä»£ç ä¸­çš„ <code>COOKIE_EXPIRE</code> è‡ªè¡Œè°ƒæ•´éªŒè¯é—´éš”æ—¶é—´ã€‚é€šè¿‡è¿™ç§æ–¹å¼ï¼Œæºç«™ç‚¹çš„ URL ä¸æš´éœ²ï¼Œåªé€šè¿‡ä»£ç†ç«™ç‚¹çš„ URL è®¿é—®ï¼Œå³å¯å®ç°å®šæœŸé€šè¿‡ <code>Cloudflare Turnstile</code> é¿å…å¤§é‡æœºå™¨æµé‡ã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>OpenWrt é…ç½®è®°å½•</title>
    <url>/post/465f36a1.html</url>
    <content><![CDATA[<div class="encrypted-post-container" 
    data-ciphertext="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"
    data-iv="py/xfmFU+kWhms5E"
    data-auth-tag="dl78JYyAJvmKAJ5oomNJ5g=="
    data-abbrlink="465f36a1"
    data-wrapped-keys='[{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;b/IlsscmlTUi9e/HnxRmQFgo/nmll3v2jHQqwAKJsrY=&quot;,&quot;iv&quot;:&quot;xQhIFUzEV2nNnTQN&quot;,&quot;authTag&quot;:&quot;N+P0uVwKCGREVQe1tjUxFA==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;fU35OJpFh/yXcocc3qQ2YRnMds26GpEgxzcwNmHlOVI=&quot;,&quot;iv&quot;:&quot;0B2lNtzHh/eZ1Hmm&quot;,&quot;authTag&quot;:&quot;odi3b4sFxzq0YAOreKuGWQ==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;pwEfb2ISnvto2bPJ0ZJa12ytp1AGen89HxbHnjKfVTk=&quot;,&quot;iv&quot;:&quot;NcsATfJlHKhyFIBR&quot;,&quot;authTag&quot;:&quot;5dJVCEzB7V85n5hbEQLiLQ==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;aVyD2W78nTM6nSyzFWYPnZP7Tf+PWtwDwO28gNGErO8=&quot;,&quot;iv&quot;:&quot;7bZ/8CHCB+n36pvR&quot;,&quot;authTag&quot;:&quot;pkuJ4pUacdZ4CqR6ojp4fA==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;vVwhP4kl5QHRMouDSjFbNj9PBT2plixq/SxiKoMVWlw=&quot;,&quot;iv&quot;:&quot;oYmXnrntyFhw0f2r&quot;,&quot;authTag&quot;:&quot;HJ/JCv6kMizr6JG9KBX0AQ==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;aq8S/uN9ucqsRh5YPYOKjcRpVkzRWTsCBwyKYjYydQs=&quot;,&quot;iv&quot;:&quot;0Yq2ho6XicokYA1u&quot;,&quot;authTag&quot;:&quot;ejOkSRPRp7QTFrsehh5RuQ==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;QiZ+8RxQkr0DnZH1aZbARE4HYfzVyU3OYtI7edLMEJo=&quot;,&quot;iv&quot;:&quot;/QcgXok/RkWGetUb&quot;,&quot;authTag&quot;:&quot;mHSOeKipLdrtdA18wfuFyQ==&quot;},{&quot;type&quot;:&quot;password&quot;,&quot;encryptedCEK&quot;:&quot;1j/uXTXerEV6kHjakF/A8eC0a2Yu9+5s+J0b7xngWwc=&quot;,&quot;iv&quot;:&quot;SGqgGjQ/5LB/FeWj&quot;,&quot;authTag&quot;:&quot;jrb8B7ehBqr9vPy8OFmXyA==&quot;,&quot;salt&quot;:&quot;1be53724816528d8cc0547ca98dfcc2649f00b343011a7d07f4633d72252943b&quot;}]'
    data-prf-salt="1be53724816528d8cc0547ca98dfcc2649f00b343011a7d07f4633d72252943b"
    data-cache="15"
    data-password-hint="">
  <div class="encrypted-post-notice">
    <div class="decrypt-methods"><button class="decrypt-btn" id="fido2-verify-btn"><i class="fa fa-fingerprint"></i> é€šè¡Œå¯†é’¥éªŒè¯</button><div class="password-decrypt-group">
        <button class="decrypt-btn" id="show-password-btn"><i class="fa fa-lock"></i> å¯†ç éªŒè¯</button>
        <div class="password-input-group" id="password-input-group" style="display:none">
          <input type="password" class="password-input" id="password-input" placeholder="è¾“å…¥å¯†ç " />
          <button class="decrypt-btn" id="password-decrypt-btn"><i class="fa fa-key"></i> ç¡®å®š</button>
        </div>
      </div></div>
    <div class="verification-status" id="verification-status"></div>
  </div>
  <div class="decrypted-content" id="decrypted-content" style="display:none"></div>
</div>]]></content>
  </entry>
  <entry>
    <title>Windy è‡ªå®šä¹‰è‰²å±‚</title>
    <url>/post/fbb67a4e.html</url>
    <content><![CDATA[<p>Windy è‡ªå®šä¹‰è‰²å±‚</p>
<p>ä¿®æ”¹æ–¹æ³•ï¼šæ‰“å¼€ App â­¢ <strong>è®¾ç½®</strong> â­¢ åº•éƒ¨ <strong>è‡ªå®šä¹‰è‰²å±‚</strong> â­¢ <strong>Select overlay</strong> é€‰æ‹©å¯¹åº”çš„æ•°æ® â­¢ åº•éƒ¨ <strong>Import&#x2F;Export color</strong> â­¢ å¤åˆ¶å¯¹åº”çš„ä»£ç åˆ°ä¸‹æ–¹æ–‡æœ¬æ¡† â­¢ ç‚¹å‡» <strong>Import gradient</strong> â­¢ ç‚¹å‡» <strong>Save created color</strong></p>
<span id="more"></span>

<h1 id="æ°”è±¡é›·è¾¾-radar"><a href="#æ°”è±¡é›·è¾¾-radar" class="headerlink" title="æ°”è±¡é›·è¾¾ [radar]"></a>æ°”è±¡é›·è¾¾ [radar]</h1><div class="group-picture"><div class="group-picture-row"><div class="group-picture-column"><img data-src="https://images.zabrian.com/e26a271a-0f7d-461f-8ebc-f334f7010f01/origin" title="åŸå§‹å›¾å±‚" style="zoom:20%;" /></div><div class="group-picture-column"><img data-src="https://images.zabrian.com/c0abf2e7-61e3-447b-ef4a-8d43b4ff5b01/origin" title="ä¿®æ”¹åå›¾å±‚" style="zoom:20%;" /></div></div></div>

<figure class="highlight json"><table><tr><td class="code"><pre><span class="line"><span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">0</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">35</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">0.1</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">239</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">4.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">239</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">5</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">65</span><span class="punctuation">,</span> <span class="number">157</span><span class="punctuation">,</span> <span class="number">241</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">9.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">65</span><span class="punctuation">,</span> <span class="number">157</span><span class="punctuation">,</span> <span class="number">241</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">10</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">100</span><span class="punctuation">,</span> <span class="number">231</span><span class="punctuation">,</span> <span class="number">235</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">14.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">100</span><span class="punctuation">,</span> <span class="number">231</span><span class="punctuation">,</span> <span class="number">235</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">15</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">109</span><span class="punctuation">,</span> <span class="number">250</span><span class="punctuation">,</span> <span class="number">61</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">19.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">109</span><span class="punctuation">,</span> <span class="number">250</span><span class="punctuation">,</span> <span class="number">61</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">20</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">216</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">24.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">0</span><span class="punctuation">,</span> <span class="number">216</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">25</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">144</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">29.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">1</span><span class="punctuation">,</span> <span class="number">144</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">30</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">255</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">34.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">255</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">35</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">231</span><span class="punctuation">,</span> <span class="number">192</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">39.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">231</span><span class="punctuation">,</span> <span class="number">192</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">40</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">255</span><span class="punctuation">,</span> <span class="number">145</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">44.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">255</span><span class="punctuation">,</span> <span class="number">145</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">45</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">255</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">49.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">255</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">50</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">215</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">54.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">215</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">55</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">190</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">59.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">190</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">60</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">255</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">240</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">64.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">255</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">240</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">65</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">150</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">180</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">69.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">150</span><span class="punctuation">,</span> <span class="number">0</span><span class="punctuation">,</span> <span class="number">180</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">70</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">175</span><span class="punctuation">,</span> <span class="number">145</span><span class="punctuation">,</span> <span class="number">240</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">79.99</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">175</span><span class="punctuation">,</span> <span class="number">145</span><span class="punctuation">,</span> <span class="number">240</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">80</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">255</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">,</span> <span class="number">250</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">81</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">255</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">,</span> <span class="number">250</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">[</span><span class="number">255</span><span class="punctuation">,</span> <span class="punctuation">[</span><span class="number">255</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">,</span> <span class="number">255</span><span class="punctuation">]</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">]</span></span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/post/4a17b156.html</url>
    <content><![CDATA[<center>Hello World</center>
]]></content>
  </entry>
  <entry>
    <title>iPhone 17 å£çº¸</title>
    <url>/post/958b861f.html</url>
    <content><![CDATA[<p>2025-09-10 è‹¹æœå‘å¸ƒäº†å…¨æ–°çš„ iPhone 17 ç³»åˆ—ï¼Œé™¤äº†å¸¦æ¥äº†å…¨æ–°çš„ iPhone Air ç³»åˆ—ï¼ŒåŒæ—¶è¿˜æ–°å¢äº†æ¯æ¬¾æœºå‹å¯¹åº”çš„ç³»ç»Ÿå£çº¸ã€‚</p>
<span id="more"></span>

<div class="tabs" id="iphone-17-ç³»åˆ—å£çº¸"><ul class="nav-tabs"><li class="tab active"><a href="#iphone-17-ç³»åˆ—å£çº¸-1"><i class="fa fa-mobile"></i>iPhone 17 ç³»åˆ—</a></li><li class="tab"><a href="#iphone-17-ç³»åˆ—å£çº¸-2"><i class="fa fa-mobile"></i>iPhone 17 Air ç³»åˆ—</a></li><li class="tab"><a href="#iphone-17-ç³»åˆ—å£çº¸-3"><i class="fa fa-mobile"></i>iPhone 17 Pro ç³»åˆ—</a></li></ul><div class="tab-content"><div class="tab-pane active" id="iphone-17-ç³»åˆ—å£çº¸-1"><img data-src="https://images.zabrian.com/d81266c0-d74e-49ce-64fe-0794ab6d1001/origin" style="zoom:8%;" />
  <br>
  <center><a class="btn" href="https://9lnk.io/eSDn" title="ç‚¹å‡»ä¸‹è½½åŸå›¾"><i class="fa fa-download"></i>ç‚¹å‡»ä¸‹è½½åŸå›¾</a><center>
  <br></div><div class="tab-pane" id="iphone-17-ç³»åˆ—å£çº¸-2"><img data-src="https://images.zabrian.com/65a42a74-6d52-41c6-f26e-a484100d9801/origin" style="zoom:8%;" />
  <br>
  <center><a class="btn" href="https://9lnk.io/dC4Q" title="ç‚¹å‡»ä¸‹è½½åŸå›¾"><i class="fa fa-download"></i>ç‚¹å‡»ä¸‹è½½åŸå›¾</a><center>
  <br></div><div class="tab-pane" id="iphone-17-ç³»åˆ—å£çº¸-3"><img data-src="https://images.zabrian.com/6755691c-557d-4069-7881-fb08a524cd01/origin" style="zoom:8%;" />
  <br>
  <center><a class="btn" href="https://9lnk.io/XEkx" title="ç‚¹å‡»ä¸‹è½½åŸå›¾"><i class="fa fa-download"></i>ç‚¹å‡»ä¸‹è½½åŸå›¾</a></center>
  <br></div></div></div>]]></content>
  </entry>
  <entry>
    <title>macOS Chrome &#39;è¿™äº›æ‰©å±•ç¨‹åºä¸å†å—æ”¯æŒï¼Œå› æ­¤å·²åœç”¨&#39; è§£å†³åŠæ³•</title>
    <url>/post/e72f1311.html</url>
    <content><![CDATA[<p>ä»Šå¤©æ—©ä¸Šå‘ç° macOS Chrome ç‰ˆæœ¬æ›´æ–°åˆ°äº† 138.0.7204.101 æ‰“å¼€æµè§ˆå™¨çš„æ—¶å€™æç¤º â€œè¿™äº›æ‰©å±•ç¨‹åºä¸å†å—æ”¯æŒï¼Œå› æ­¤å·²åœç”¨â€ï¼Œç®€å•æœäº†ä¸€ä¸‹å‘ç°æœ‰è§£å†³åŠæ³•ï¼Œä½†æ˜¯éƒ½æ˜¯é’ˆå¯¹äº Windows ä¸‹çš„è§£å†³æ–¹æ¡ˆã€‚<br>è€Œå¯¹äº macOS æœ‰ä»¥ä¸‹ä¸¤ç§æ–¹æ³•ï¼Œä»»é€‰å…¶ä¸€å³å¯ã€‚</p>
<div class="note danger"><p>2025-09-11 æ›´æ–°: Chrome å·²ç»æ›´æ–°åˆ° 140 ç‰ˆæœ¬ï¼Œä»¥ä¸‹æ–¹æ³•å·²ç»ä¸é€‚ç”¨ã€‚</p>
</div>

<span id="more"></span>

<h2 id="é€šè¿‡-chrome-flags-æ¨è"><a href="#é€šè¿‡-chrome-flags-æ¨è" class="headerlink" title="é€šè¿‡ chrome:&#x2F;&#x2F;flags (æ¨è)"></a>é€šè¿‡ chrome:&#x2F;&#x2F;flags (æ¨è)</h2><ol>
<li>å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬çš„ Chrome</li>
<li>åœ°å€æ è¾“å…¥ <code>chrome://flags</code></li>
<li>ä»¥ä¸‹è®¾ç½®æ”¹ä¸º <code>Enabled</code><br><code>temporary-unexpire-flags-m137</code></li>
<li>é‡å¯æµè§ˆå™¨å¹¶å†æ¬¡æ‰“å¼€ <code>chrome://flags</code></li>
<li>ä»¥ä¸‹è®¾ç½®æ”¹ä¸º <code>Disabled</code><br><code>extension-manifest-v2-deprecation-warning</code><br><code>extension-manifest-v2-deprecation-disabled</code><br><code>extension-manifest-v2-deprecation-unsupported</code></li>
<li>ä»¥ä¸‹è®¾ç½®æ”¹ä¸º <code>Enabled</code><br><code>allow-legacy-mv2-extensions</code></li>
<li>é‡å¯æµè§ˆå™¨</li>
</ol>
<h2 id="é€šè¿‡ä¼ä¸šæ”¿ç­–ç®¡ç†"><a href="#é€šè¿‡ä¼ä¸šæ”¿ç­–ç®¡ç†" class="headerlink" title="é€šè¿‡ä¼ä¸šæ”¿ç­–ç®¡ç†"></a>é€šè¿‡ä¼ä¸šæ”¿ç­–ç®¡ç†</h2><p>æ ¹æ® <span class="exturl" data-url="aHR0cHM6Ly9jaHJvbWVlbnRlcnByaXNlLmdvb2dsZS9pbnRsL3poX2NuL3BvbGljaWVzLz9wb2xpY3k9RXh0ZW5zaW9uTWFuaWZlc3RWMkF2YWlsYWJpbGl0eQ==">ExtensionManifestV2Availability<i class="fa fa-external-link-alt"></i></span> çš„æè¿°ï¼Œå¯ä»¥é€šè¿‡é€šè¿‡ä¼ä¸šæ§åˆ¶ç®¡ç†è¿›è¡Œè®¾ç½®ã€‚<br>æ­¤æ–¹æ³•æœ‰ä¸€éš”å¼Šç«¯æ˜¯ Chrome ä¼šæ˜¾ç¤ºä¸€æ¡ <code>æ‚¨çš„æµè§ˆå™¨ç”±è´µå•ä½ç®¡ç†</code> çš„æç¤ºï¼Œåªæ˜¯å› ä¸ºä½¿ç”¨äº†ä¼ä¸šç®¡ç†çš„é…ç½®ï¼Œæ‰€ä»¥ä¼šæç¤ºã€‚å®é™…å¹¶æ— ä»»ä½•ä¼ä¸šå¯¹ä½ çš„æµè§ˆå™¨è¿›è¡Œç®¡ç†ã€‚<br>æ‰“å¼€ç»ˆç«¯ï¼Œè¾“å…¥ä»¥ä¸‹å†…å®¹</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> <span class="built_in">mkdir</span> -p <span class="string">&quot;/Library/Managed Preferences&quot;</span> &amp;&amp; <span class="built_in">sudo</span> <span class="built_in">tee</span> <span class="string">&quot;/Library/Managed Preferences/com.google.Chrome.plist&quot;</span> &gt;/dev/null &lt;&lt;<span class="string">EOF</span></span><br><span class="line"><span class="string">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="string">&lt;!DOCTYPE plist PUBLIC &quot;-//Apple//DTD PLIST 1.0//EN&quot;</span></span><br><span class="line"><span class="string">  &quot;http://www.apple.com/DTDs/PropertyList-1.0.dtd&quot;\&gt;</span></span><br><span class="line"><span class="string">&lt;plist version=&quot;1.0&quot;&gt;</span></span><br><span class="line"><span class="string">  &lt;dict&gt;</span></span><br><span class="line"><span class="string">    &lt;key&gt;ExtensionManifestV2Availability&lt;/key&gt;</span></span><br><span class="line"><span class="string">    &lt;integer&gt;2&lt;/integer&gt;</span></span><br><span class="line"><span class="string">  &lt;/dict&gt;</span></span><br><span class="line"><span class="string">&lt;/plist&gt;</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure>

<p>å®Œå…¨å…³é—­ Chrome åå†æ‰“å¼€ï¼Œåœ¨åœ°å€æ è¾“å…¥ <code>chrome://policy/</code> ç‚¹å‡»å·¦ä¸Šè§’çš„é‡æ–°åŠ è½½æ”¿ç­–ï¼Œç„¶åæ—§ç‰ˆçš„æ‰©å±•å°±å¯ä»¥ç»§ç»­ä½¿ç”¨å•¦ã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>macOS GPG ä½¿ç”¨æŒ‡å—</title>
    <url>/post/cb9ee24d.html</url>
    <content><![CDATA[<p>è¿™ç¯‡æŒ‡å—é¢å‘çš„æ˜¯å¯¹ <code>GPG</code> æœ‰äº†ä¸€å®šäº†è§£çš„çš„æœ‹å‹ï¼Œå¦‚æœä½ è¿˜ä¸çŸ¥é“ <code>GPG</code> æ˜¯ä»€ä¹ˆï¼Œé‚£ä¹ˆå¯èƒ½éœ€è¦å…ˆè¡¥å……ä¸€ä¸‹è¿™éƒ¨åˆ†çš„åŸºç¡€çŸ¥è¯†ï¼Œå†æ¥é£Ÿç”¨æ¯”è¾ƒåˆé€‚ã€‚</p>
<p>å¦‚æœä½ å·²ç»å¤§æ¦‚äº†è§£ <code>GPG</code> çš„ä¸€äº›å†…å®¹ï¼ŒçŸ¥é“å®ƒèƒ½ç”¨æ¥å¹²ä»€ä¹ˆè€Œä¸”ä½ çœŸçš„éœ€è¦ç”¨åˆ°ã€‚é‚£ä¹ˆè¿™ç¯‡æŒ‡å—æˆ–è®¸å¯¹ä½ æœ‰ä¸€ç‚¹çš„å¸®åŠ©ã€‚</p>
<p>è¿™ç¯‡æŒ‡å—ä¸»è¦é’ˆå¯¹äº <code>macOS</code> ç³»ç»Ÿä¸‹çš„ <code>GPG</code> ä½¿ç”¨æ–¹æ³•ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ <code>Windows</code> æˆ–è€… <code>Linux</code>ï¼Œå…¶ä¸­æœ‰äº›å†…å®¹å¯èƒ½å¹¶ä¸é€‚ç”¨ã€‚</p>
<span id="more"></span>

<p>æ–‡ä¸­ä½¿ç”¨çš„ <code>GPG</code> ç‰ˆæœ¬æ˜¯ <code>2.4.5</code> ç‰ˆæœ¬ä¿¡æ¯å¦‚ä¸‹ã€‚</p>
<blockquote>
<p>å¤‡æ³¨: ä¸‹æ–‡ä¸­æ‰€æœ‰çš„å±•ç¤ºå†…å®¹çš„éƒ¨åˆ† <code>$</code> å¼€å¤´çš„è¡Œè¡¨ç¤ºçš„å½“å‰ <code>shell</code> ç¯å¢ƒçš„å‘½ä»¤è¾“å…¥è¡Œã€‚å‘½ä»¤å‡ä¸åŒ…å« <code>$</code> æœ¬èº«ã€‚</p>
</blockquote>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gpg --version</span><br><span class="line">gpg (GnuPG) 2.4.5</span><br><span class="line">libgcrypt 1.10.3</span><br><span class="line">Copyright (C) 2024 g10 Code GmbH</span><br><span class="line">License GNU GPL-3.0-or-later &lt;https://gnu.org/licenses/gpl.html&gt;</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line">Home: /Users/zebedy/.gnupg</span><br><span class="line">æ”¯æŒçš„ç®—æ³•ï¼š</span><br><span class="line">å…¬é’¥ï¼š RSA, ELG, DSA, ECDH, ECDSA, EDDSA</span><br><span class="line">å¯†æ–‡ï¼š IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,</span><br><span class="line">    CAMELLIA128, CAMELLIA192, CAMELLIA256</span><br><span class="line">æ•£åˆ—ï¼š SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224</span><br><span class="line">å‹ç¼©ï¼š  ä¸å‹ç¼©, ZIP, ZLIB, BZIP2</span><br></pre></td></tr></table></figure>

<h1 id="åˆæ¬¡ä½¿ç”¨"><a href="#åˆæ¬¡ä½¿ç”¨" class="headerlink" title="åˆæ¬¡ä½¿ç”¨"></a>åˆæ¬¡ä½¿ç”¨</h1><p>å¦‚æœä½ è¿˜æ²¡æœ‰ä»»ä½•å¯†é’¥ï¼Œæƒ³æ–°ç”Ÿæˆä¸€ä¸ªä½¿ç”¨ã€‚å»ºè®®ä»è¿™é‡Œå¼€å§‹ã€‚</p>
<h2 id="ç”Ÿæˆä¸»å¯†é’¥"><a href="#ç”Ÿæˆä¸»å¯†é’¥" class="headerlink" title="ç”Ÿæˆä¸»å¯†é’¥"></a>ç”Ÿæˆä¸»å¯†é’¥</h2><p>ä¸€èˆ¬çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä½¿ç”¨ <code>--gen-key</code> å°±å¯ä»¥å¿«é€Ÿçš„ç”Ÿæˆä¸€ä¸ªå¯†é’¥å¯¹ï¼Œä½†æ˜¯è¿™ä¸ªæ˜¯ä¸€ä¸ªç®€ä¾¿æ–¹æ³•ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬éœ€è¦æ›´å¤šçš„ç»†èŠ‚è®¾ç½®ï¼Œæ‰€ä»¥ç”¨ <code>--full-gen-key</code> æ¥ä»£æ›¿</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gpg --full-gen-key</span><br><span class="line">gpg (GnuPG) 2.4.5; Copyright (C) 2024 g10 Code GmbH</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line">è¯·é€‰æ‹©æ‚¨è¦ä½¿ç”¨çš„å¯†é’¥ç±»å‹ï¼š</span><br><span class="line">   (1) RSA å’Œ RSA</span><br><span class="line">   (2) DSA å’Œ Elgamal</span><br><span class="line">   (3) DSAï¼ˆä»…ç”¨äºç­¾åï¼‰</span><br><span class="line">   (4) RSAï¼ˆä»…ç”¨äºç­¾åï¼‰</span><br><span class="line">   (9) ECCï¼ˆç­¾åå’ŒåŠ å¯†ï¼‰ *é»˜è®¤*</span><br><span class="line">  (10) ECCï¼ˆä»…ç”¨äºç­¾åï¼‰</span><br><span class="line"> ï¼ˆ14ï¼‰å¡ä¸­ç°æœ‰å¯†é’¥</span><br><span class="line">æ‚¨çš„é€‰æ‹©æ˜¯ï¼Ÿ 9</span><br></pre></td></tr></table></figure>

<p>åœ¨è¯¥ç‰ˆæœ¬ï¼ˆ<code>2.4.5</code>ï¼‰ä¸‹å¯ä»¥é€šè¿‡ <code>*é»˜è®¤*</code> å¯ä»¥çœ‹é»˜è®¤çš„å¯†é’¥ç±»å‹ä¸º <code>ECCï¼ˆç­¾åå’ŒåŠ å¯†ï¼‰</code> è¿™é‡Œæˆ‘ä»¬ä¸éœ€è¦ä»»ä½•ä¿®æ”¹ã€‚ä½¿ç”¨é»˜è®¤å³å¯ã€‚</p>
<p>åœ¨å½“å‰ç•Œé¢è¾“å…¥é€‰é¡¹å‰é¢æ‹¬å·ä¸­çš„æ•°å­— <code>9</code> ä¹‹åå›è½¦ç¡®è®¤ï¼Œæˆ–è€…ä¸è¾“å…¥ä»»ä½•å†…å®¹ç›´æ¥å›è½¦ç¡®è®¤å³å¯ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">è¯·é€‰æ‹©æ‚¨æƒ³è¦ä½¿ç”¨çš„æ¤­åœ†æ›²çº¿ï¼š</span><br><span class="line">   (1) Curve 25519 *é»˜è®¤*</span><br><span class="line">   (4) NIST P-384</span><br><span class="line">   (6) Brainpool P-256</span><br><span class="line">æ‚¨çš„é€‰æ‹©æ˜¯ï¼Ÿ 1</span><br></pre></td></tr></table></figure>

<p>ç±»ä¼¼ä¸Šä¸€æ­¥ï¼Œé€‰æ‹©ä½¿ç”¨çš„æ¤­åœ†æ›²çº¿ï¼Œè¿™é‡Œé€‰æ‹©é»˜è®¤ <code>Curve 25519</code> å³å¯ã€‚</p>
<p>åœ¨å½“å‰ç•Œé¢è¾“å…¥ <code>1</code> ä¹‹åå›è½¦ç¡®è®¤ï¼Œæˆ–è€…ä¸è¾“å…¥ä»»ä½•å†…å®¹ç›´æ¥å›è½¦ç¡®è®¤å³å¯ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">è¯·è®¾å®šè¿™ä¸ªå¯†é’¥çš„æœ‰æ•ˆæœŸé™ã€‚</span><br><span class="line">         0 = å¯†é’¥æ°¸ä¸è¿‡æœŸ</span><br><span class="line">      &lt;n&gt;  = å¯†é’¥åœ¨ n å¤©åè¿‡æœŸ</span><br><span class="line">      &lt;n&gt;w = å¯†é’¥åœ¨ n å‘¨åè¿‡æœŸ</span><br><span class="line">      &lt;n&gt;m = å¯†é’¥åœ¨ n æœˆåè¿‡æœŸ</span><br><span class="line">      &lt;n&gt;y = å¯†é’¥åœ¨ n å¹´åè¿‡æœŸ</span><br><span class="line">å¯†é’¥çš„æœ‰æ•ˆæœŸé™æ˜¯ï¼Ÿ(0) 0</span><br></pre></td></tr></table></figure>

<p>ç„¶åè¿™é‡Œéœ€è¦é€‰æ‹©å¯†é’¥çš„æœ‰æ•ˆæœŸã€‚</p>
<p>å¦‚æœæ˜¯ä¸ªäººä½¿ç”¨ï¼Œå¯ä»¥é€‰æ‹©æ°¸ä¸è¿‡æœŸï¼Œè¿™æ ·å¯ä»¥é¿å…ä»¥åè¿‡æœŸåè¿˜éœ€è¦å†æ¬¡åˆ›å»ºä¸€ä¸ªæ–°çš„å¯†é’¥ã€‚</p>
<p>è€Œå¦‚æœéœ€è¦é…ç½®ç‰¹å®šçš„è¿‡æœŸæ—¶é—´ã€‚åˆ™æ ¹æ®ä¸‹é¢çš„ä¸‰ä¸ªé€‰é¡¹è¾“å…¥å¯¹åº”çš„å†…å®¹å³å¯ï¼Œæ¯”å¦‚éœ€è¦åœ¨ä¸€å‘¨åè¿‡æœŸï¼Œåˆ™è¾“å…¥ <code>1w</code> 3 ä¸ªæœˆåè¿‡æœŸ <code>3m</code></p>
<p>æˆ‘è¿™é‡Œå°±é€‰äº† <code>0</code> è¡¨ç¤ºæ°¸ä¸è¿‡æœŸã€‚è¾“å…¥æ•°å­— <code>0</code> å›è½¦åç»è¿‡äºŒæ¬¡ç¡®è®¤ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">GnuPG éœ€è¦æ„å»ºç”¨æˆ·æ ‡è¯†ä»¥è¾¨è®¤æ‚¨çš„å¯†é’¥ã€‚</span><br><span class="line"></span><br><span class="line">çœŸå®å§“åï¼š</span><br></pre></td></tr></table></figure>

<p>ä»è¿™é‡Œå¼€å§‹åé¢çš„æ­¥éª¤å°±æ˜¯è¾“å…¥å¯†é’¥å¯¹åº”çš„ä¸ªäººä¿¡æ¯äº†ã€‚</p>
<p>ä¾æ¬¡è¾“å…¥å†…å®¹åŒ…æ‹¬ <code>çœŸå®å§“å</code>, <code>ç”µå­é‚®ä»¶åœ°å€</code>, <code>æ³¨é‡Š</code> å…¶ä¸­æ³¨é‡Šå¯ä»¥çœç•¥ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">GnuPG éœ€è¦æ„å»ºç”¨æˆ·æ ‡è¯†ä»¥è¾¨è®¤æ‚¨çš„å¯†é’¥ã€‚</span><br><span class="line"></span><br><span class="line">çœŸå®å§“åï¼š zebedy</span><br><span class="line">ç”µå­é‚®ä»¶åœ°å€ï¼š zebedy@example.com</span><br><span class="line">æ³¨é‡Šï¼š</span><br><span class="line">æ‚¨é€‰å®šäº†æ­¤ç”¨æˆ·æ ‡è¯†ï¼š</span><br><span class="line">    â€œzebedy &lt;zebedy@example.com&gt;â€</span><br><span class="line"></span><br><span class="line">æ›´æ”¹å§“åï¼ˆNï¼‰ã€æ³¨é‡Šï¼ˆCï¼‰ã€ç”µå­é‚®ä»¶åœ°å€ï¼ˆEï¼‰æˆ–ç¡®å®šï¼ˆOï¼‰/é€€å‡ºï¼ˆQï¼‰ï¼Ÿ</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå¦‚æœç¡®è®¤ä¸ªäººä¿¡æ¯è¾“å…¥æ²¡é—®é¢˜ï¼Œå°±å¯ä»¥è¾“å…¥å­—æ¯ <code>O</code> å›è½¦ç¡®è®¤ã€‚</p>
<p>ç¡®å®šä¹‹åæ ¹æ®æç¤ºè®¾ç½®ä¸»å¯†é’¥çš„å¯†ç ã€‚ç¡®å®šå¯†ç åã€‚ç»è¿‡çŸ­æš‚çš„æ—¶é—´å°±å¯ä»¥ç”Ÿæˆä¸€ä¸ªå¯†é’¥äº†ã€‚</p>
<p>è¿™ä¸ªå¯†ç ä¸€å®šè¦å¦¥å–„ä¿ç®¡ï¼Œä¼šç»å¸¸éœ€è¦ä½¿ç”¨ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">æˆ‘ä»¬éœ€è¦ç”Ÿæˆå¤§é‡çš„éšæœºå­—èŠ‚ã€‚åœ¨è´¨æ•°ç”ŸæˆæœŸé—´åšäº›å…¶ä»–æ“ä½œï¼ˆæ•²æ‰“é”®ç›˜</span><br><span class="line">ã€ç§»åŠ¨é¼ æ ‡ã€è¯»å†™ç¡¬ç›˜ä¹‹ç±»çš„ï¼‰å°†ä¼šæ˜¯ä¸€ä¸ªä¸é”™çš„ä¸»æ„ï¼›è¿™ä¼šè®©éšæœºæ•°</span><br><span class="line">å‘ç”Ÿå™¨æœ‰æ›´å¥½çš„æœºä¼šè·å¾—è¶³å¤Ÿçš„ç†µã€‚</span><br><span class="line">æˆ‘ä»¬éœ€è¦ç”Ÿæˆå¤§é‡çš„éšæœºå­—èŠ‚ã€‚åœ¨è´¨æ•°ç”ŸæˆæœŸé—´åšäº›å…¶ä»–æ“ä½œï¼ˆæ•²æ‰“é”®ç›˜</span><br><span class="line">ã€ç§»åŠ¨é¼ æ ‡ã€è¯»å†™ç¡¬ç›˜ä¹‹ç±»çš„ï¼‰å°†ä¼šæ˜¯ä¸€ä¸ªä¸é”™çš„ä¸»æ„ï¼›è¿™ä¼šè®©éšæœºæ•°</span><br><span class="line">å‘ç”Ÿå™¨æœ‰æ›´å¥½çš„æœºä¼šè·å¾—è¶³å¤Ÿçš„ç†µã€‚</span><br><span class="line">gpg: åŠé”€è¯ä¹¦å·²è¢«å­˜å‚¨ä¸ºâ€˜/Users/zebedy/.gnupg/openpgp-revocs.d/A31F6E522B93990CA1A1C548D188A1DD832AB894.revâ€™</span><br><span class="line">å…¬é’¥å’Œç§é’¥å·²ç»ç”Ÿæˆå¹¶è¢«ç­¾åã€‚</span><br><span class="line"></span><br><span class="line">pub   ed25519 2024-03-24 [SC]</span><br><span class="line">      A31F6E522B93990CA1A1C548D188A1DD832AB894</span><br><span class="line">uid                      zebedy &lt;zebedy@example.com&gt;</span><br><span class="line">sub   cv25519 2024-03-24 [E]</span><br></pre></td></tr></table></figure>

<p>åˆ°è¿™é‡Œï¼Œä¸»å¯†é’¥å°±ç”Ÿæˆç»“æŸäº†ã€‚</p>
<h2 id="ç”Ÿæˆå­å¯†é’¥"><a href="#ç”Ÿæˆå­å¯†é’¥" class="headerlink" title="ç”Ÿæˆå­å¯†é’¥"></a>ç”Ÿæˆå­å¯†é’¥</h2><h3 id="æ›¿æ¢é»˜è®¤-pinentry"><a href="#æ›¿æ¢é»˜è®¤-pinentry" class="headerlink" title="æ›¿æ¢é»˜è®¤ pinentry"></a>æ›¿æ¢é»˜è®¤ <code>pinentry</code></h3><p>åœ¨ç”Ÿæˆå­å¯†é’¥ä¹‹å‰ï¼Œé¦–å…ˆéœ€è¦åšä¸€ä¸ªäº‹æƒ…ï¼šæ›¿æ¢é»˜è®¤çš„ <code>pinentry</code></p>
<p><code>pinentry</code> æ˜¯ç”¨æ¥åˆç”¨ä¹äº¤äº’è¾“å…¥å¯†ç çš„ï¼Œå› ä¸ºé»˜è®¤çš„ <code>pinentry</code> ä¾èµ– <code>GPG_TTY</code> æ‰€ä»¥å¯ä»¥å†ç»ˆç«¯ä¸­å®ç°è¾“å…¥å¯†ç ã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬åœ¨å…¶ä»–çš„åœ°æ–¹ï¼Œæ¯”å¦‚ VSCode æˆ–è€… JB å…¨å®¶æ¡¶çš„æ—¶å€™ï¼Œå°±ä¼šå‡ºç°å› ä¸ºæ— æ³•è¾“å…¥å¯†ç å¯¼è‡´å¤±è´¥ã€‚</p>
<p>æ‰€ä»¥æˆ‘ä»¬éœ€è¦å®‰è£…ç¬¬ä¸‰æ–¹çš„ <code>pinentry-mac</code>ï¼Œå¹¶æ›¿æ¢é»˜è®¤ <code>pinentry</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">brew install pinentry-mac</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;pinentry-program <span class="subst">$(which pinentry-mac)</span>&quot;</span> &gt;&gt; ~/.gnupg/gpg-agent.conf</span><br></pre></td></tr></table></figure>

<p>ç„¶åé‡å¯ <code>gpg-agent</code> å³å¯</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">echo</span> RELOADAGENT | gpg-connect-agent</span><br></pre></td></tr></table></figure>

<h3 id="åˆ›å»ºç”¨äº-SSH-é‰´æƒçš„å­å¯†é’¥"><a href="#åˆ›å»ºç”¨äº-SSH-é‰´æƒçš„å­å¯†é’¥" class="headerlink" title="åˆ›å»ºç”¨äº SSH é‰´æƒçš„å­å¯†é’¥"></a>åˆ›å»ºç”¨äº SSH é‰´æƒçš„å­å¯†é’¥</h3><h4 id="åˆ›å»ºå­å¯†é’¥"><a href="#åˆ›å»ºå­å¯†é’¥" class="headerlink" title="åˆ›å»ºå­å¯†é’¥"></a>åˆ›å»ºå­å¯†é’¥</h4><p>é¦–å…ˆæˆ‘ä»¬æŸ¥çœ‹ä¸€ä¸‹ä¸»å¯†é’¥çš„ç›¸å…³ä¿¡æ¯</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gpg --list-keys --keyid-format=long</span><br><span class="line">gpg: æ­£åœ¨æ£€æŸ¥ä¿¡ä»»åº¦æ•°æ®åº“</span><br><span class="line">gpg: marginals needed: 3  completes needed: 1  trust model: pgp</span><br><span class="line">gpg: æ·±åº¦ï¼š0  æœ‰æ•ˆæ€§ï¼š  4  å·²ç­¾åï¼š  0  ä¿¡ä»»åº¦ï¼š0-ï¼Œ0qï¼Œ0nï¼Œ0mï¼Œ0fï¼Œ4u</span><br><span class="line">[keyboxd]</span><br><span class="line">---------</span><br><span class="line">pub   ed25519/D188A1DD832AB894 2024-03-24 [SC]</span><br><span class="line">      A31F6E522B93990CA1A1C548D188A1DD832AB894</span><br><span class="line">uid                   [ ç»å¯¹ ] zebedy &lt;zebedy@example.com&gt;</span><br><span class="line">sub   cv25519/2978529F4782B600 2024-03-24 [E]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>ç¬¬ä¸€è¡Œ å¼€å¤´çš„ <code>pub</code> è¡¨ç¤ºè¿™ä¸ªæ˜¯å…¬é’¥, <code>ed25519</code> æ˜¯ä¸Šé¢åˆ›å»ºå¯†é’¥æ—¶é€‰æ‹©çš„æ¤­åœ†æ›²çº¿æ–¹æ³•, åé¢çš„ <code>D188A1DD832AB894</code> æ˜¯å…¬é’¥çš„ 16 ä½çŸ­æ‘˜è¦, <code>2024-03-24</code> æ˜¯ç”Ÿæˆæ—¶é—´, <code>[SC]</code> ä¸­ <code>S:signing</code> è¡¨ç¤ºå¯ä»¥ç”¨äºç­¾å <code>C:certification</code> è¡¨ç¤ºå¯ä»¥ç”¨äºè®¤è¯ã€‚</li>
<li>ç¬¬äºŒè¡Œ <code>A31F6E522B93990CA1A1C548D188A1DD832AB894</code> æ˜¯å¯†é’¥çš„ 40 ä½é•¿æ‘˜è¦ã€‚å…¶ä¸­ä¸Šé¢çš„çŸ­æ‘˜è¦å°±æ˜¯é•¿æ‘˜è¦çš„å 16 ä½ã€‚</li>
<li>ç¬¬ä¸‰è¡Œ <code>uid</code> æ˜¯ç”¨æˆ·ä¿¡æ¯ï¼Œ<code>[ ç»å¯¹ ]</code> è¡¨ç¤ºè¯¥å¯†é’¥çš„ä¿¡ä»»ç­‰çº§æ˜¯æœ€é«˜çº§åˆ«: ç»å¯¹ä¿¡ä»»ã€‚åé¢åˆ†åˆ«æ˜¯è¾“å…¥çš„åå­—ï¼Œæ³¨é‡Šå’Œç”µå­é‚®ä»¶</li>
<li>ç¬¬å››è¡Œ <code>sub</code> è¡¨ç¤ºè¿™ä¸ªæ˜¯å­å…¬é’¥ï¼Œæ˜¯åˆ›å»ºä¸»å¯†é’¥çš„æ—¶å€™è‡ªåŠ¨ç”Ÿæˆçš„ä¸€ä¸ªå­å¯†é’¥ï¼Œæœ€åçš„<code>[E]</code> ä¸­ <code>E:encryption</code> è¡¨ç¤ºå¯ç”¨äºåŠ å¯†</li>
</ul>
<p>å½“ç„¶æˆ‘ä»¬ä¹Ÿå¯ä»¥é€šè¿‡ <code>--list-secret-keys</code> æŸ¥çœ‹ç§é’¥</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gpg --list-secret-keys --keyid-format=long</span><br><span class="line">[keyboxd]</span><br><span class="line">---------</span><br><span class="line">[keyboxd]</span><br><span class="line">---------</span><br><span class="line">sec   ed25519/D188A1DD832AB894 2024-03-24 [SC]</span><br><span class="line">      A31F6E522B93990CA1A1C548D188A1DD832AB894</span><br><span class="line">uid                   [ ç»å¯¹ ] zebedy &lt;zebedy@example.com&gt;</span><br><span class="line">ssb   cv25519/2978529F4782B600 2024-03-24 [E]</span><br></pre></td></tr></table></figure>

<p>å†…å®¹å’Œä¸Šé¢åªæœ‰å‰é¢çš„ <code>pub</code> -&gt; <code>sec</code>(è¡¨ç¤ºç§é’¥)ï¼Œ<code>sub</code> -&gt; <code>ssb</code>(è¡¨ç¤ºå­ç§é’¥) ä¸ä¸€æ ·ï¼Œå…¶ä»–çš„å†…å®¹éƒ½ä¸€æ ·ã€‚</p>
<p>é€šè¿‡ä¸Šé¢çŸ¥é“ä¸»å¯†é’¥çš„æ‘˜è¦æ˜¯ <code>D188A1DD832AB894</code> (è¿™é‡Œç”¨é•¿çŸ­æ‘˜è¦éƒ½å¯ä»¥ã€‚ä½†æ˜¯ä¸ºäº†æ–¹ä¾¿ï¼Œåé¢å°±éƒ½ç”¨çŸ­æ‘˜è¦ã€‚ä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ <code>uid</code> ä¸­çš„å§“å)</p>
<p>æ¥ä¸‹æ¥å°±éœ€è¦ç”¨è¿™ä¸ªä¸»å¯†é’¥ç”Ÿæˆä¸€ä¸ªå­å¯†é’¥ã€‚å› ä¸ºéœ€è¦ç”¨åˆ°é«˜çº§è‡ªå®šä¹‰ï¼Œæ‰€ä»¥éœ€è¦åŠ ä¸Š <code>--expert</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gpg --expert --edit-key D188A1DD832AB894 <span class="comment"># æˆ–è€…æ˜¯ gpg --expert --edit-key zebedy</span></span><br><span class="line">gpg (GnuPG) 2.4.5; Copyright (C) 2024 g10 Code GmbH</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line">ç§é’¥å¯ç”¨ã€‚</span><br><span class="line"></span><br><span class="line">sec  ed25519/D188A1DD832AB894</span><br><span class="line">     åˆ›å»ºäºï¼š2024-03-24  æœ‰æ•ˆè‡³ï¼šæ°¸ä¸       å¯ç”¨äºï¼šSC</span><br><span class="line">     ä¿¡ä»»åº¦ï¼šç»å¯¹        æœ‰æ•ˆæ€§ï¼šç»å¯¹</span><br><span class="line">ssb  cv25519/2978529F4782B600</span><br><span class="line">     åˆ›å»ºäºï¼š2024-03-24  æœ‰æ•ˆè‡³ï¼šæ°¸ä¸       å¯ç”¨äºï¼šE</span><br><span class="line">[ ç»å¯¹ ] (1). zebedy &lt;zebedy@example.com&gt;</span><br><span class="line"></span><br><span class="line">gpg&gt;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°è¿™é‡Œ <code>shell</code> å˜æˆäº† <code>gpg&gt;</code> è¡¨ç¤ºè¿›å…¥äº†ä¸ <code>GPG</code> çš„äº¤äº’</p>
<p>è¾“å…¥ <code>addkey</code> æ·»åŠ ä¸€ä¸ªæ–°çš„å­å¯†é’¥</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gpg&gt; addkey</span><br><span class="line">è¯·é€‰æ‹©æ‚¨è¦ä½¿ç”¨çš„å¯†é’¥ç±»å‹ï¼š</span><br><span class="line">   (3) DSAï¼ˆä»…ç”¨äºç­¾åï¼‰</span><br><span class="line">   (4) RSAï¼ˆä»…ç”¨äºç­¾åï¼‰</span><br><span class="line">   (5) ElGamalï¼ˆä»…ç”¨äºåŠ å¯†ï¼‰</span><br><span class="line">   (6) RSAï¼ˆä»…ç”¨äºåŠ å¯†ï¼‰</span><br><span class="line">   (7) DSAï¼ˆè‡ªå®šä¹‰ç”¨é€”ï¼‰</span><br><span class="line">   (8) RSAï¼ˆè‡ªå®šä¹‰ç”¨é€”ï¼‰</span><br><span class="line">  (10) ECCï¼ˆä»…ç”¨äºç­¾åï¼‰</span><br><span class="line">  (11) ECCï¼ˆè‡ªå®šä¹‰ç”¨é€”ï¼‰</span><br><span class="line">  (12) ECCï¼ˆä»…ç”¨äºåŠ å¯†ï¼‰</span><br><span class="line">  (13) ç°æœ‰å¯†é’¥</span><br><span class="line"> ï¼ˆ14ï¼‰å¡ä¸­ç°æœ‰å¯†é’¥</span><br><span class="line">æ‚¨çš„é€‰æ‹©æ˜¯ï¼Ÿ 8</span><br></pre></td></tr></table></figure>

<p>è¾“å…¥ <code>8</code> å›è½¦ç¡®è®¤ï¼Œä½¿ç”¨ <code>RSAï¼ˆè‡ªå®šä¹‰ç”¨é€”ï¼‰</code> é€‰é¡¹æ‰‹åŠ¨é…ç½®è¿™ä¸ªå¯†é’¥ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">RSA å¯†é’¥çš„å¯å®ç°çš„åŠŸèƒ½ï¼š ç­¾åï¼ˆSignï¼‰ åŠ å¯†ï¼ˆEncryptï¼‰ èº«ä»½éªŒè¯ï¼ˆAuthenticateï¼‰</span><br><span class="line">ç›®å‰å¯ç”¨çš„åŠŸèƒ½ï¼š ç­¾åï¼ˆSignï¼‰ åŠ å¯†ï¼ˆEncryptï¼‰</span><br><span class="line"></span><br><span class="line">   (S) ç­¾ååŠŸèƒ½å¼€å…³</span><br><span class="line">   (E) åŠ å¯†åŠŸèƒ½å¼€å…³</span><br><span class="line">   (A) èº«ä»½éªŒè¯åŠŸèƒ½å¼€å…³</span><br><span class="line">   (Q) å·²å®Œæˆ</span><br><span class="line"></span><br><span class="line">æ‚¨çš„é€‰æ‹©æ˜¯ï¼Ÿ S</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå¯ä»¥çœ‹åˆ°è¿™ä¸ªå­å¯†é’¥ç›®å‰å¯ç”¨çš„åŠŸèƒ½æœ‰ <code>ç­¾åï¼ˆSignï¼‰</code> å’Œ <code>åŠ å¯†ï¼ˆEncryptï¼‰</code></p>
<p>ä½†æ˜¯ <code>SSH</code> é‰´æƒä¸éœ€è¦è¿™ä¸¤ä¸ªåŠŸèƒ½ï¼Œæ‰€ä»¥æˆ‘ä»¬å…ˆè¦å–æ¶ˆè¿™ä¸¤ä¸ªåŠŸèƒ½ã€‚</p>
<p>è¾“å…¥ <code>S</code> å›è½¦åå–æ¶ˆ <code>ç­¾åï¼ˆSignï¼‰</code> çš„åŠŸèƒ½</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">RSA å¯†é’¥çš„å¯å®ç°çš„åŠŸèƒ½ï¼š ç­¾åï¼ˆSignï¼‰ åŠ å¯†ï¼ˆEncryptï¼‰ èº«ä»½éªŒè¯ï¼ˆAuthenticateï¼‰</span><br><span class="line">ç›®å‰å¯ç”¨çš„åŠŸèƒ½ï¼š åŠ å¯†ï¼ˆEncryptï¼‰</span><br><span class="line"></span><br><span class="line">   (S) ç­¾ååŠŸèƒ½å¼€å…³</span><br><span class="line">   (E) åŠ å¯†åŠŸèƒ½å¼€å…³</span><br><span class="line">   (A) èº«ä»½éªŒè¯åŠŸèƒ½å¼€å…³</span><br><span class="line">   (Q) å·²å®Œæˆ</span><br><span class="line"></span><br><span class="line">æ‚¨çš„é€‰æ‹©æ˜¯ï¼Ÿ E</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨å­å¯†é’¥ç›®å‰å¯ç”¨çš„åŠŸèƒ½å°±åªæœ‰ <code>åŠ å¯†ï¼ˆEncryptï¼‰</code> äº†ï¼Œå†æ¬¡è¾“å…¥ <code>E</code> å›è½¦ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">RSA å¯†é’¥çš„å¯å®ç°çš„åŠŸèƒ½ï¼š ç­¾åï¼ˆSignï¼‰ åŠ å¯†ï¼ˆEncryptï¼‰ èº«ä»½éªŒè¯ï¼ˆAuthenticateï¼‰</span><br><span class="line">ç›®å‰å¯ç”¨çš„åŠŸèƒ½ï¼š</span><br><span class="line"></span><br><span class="line">   (S) ç­¾ååŠŸèƒ½å¼€å…³</span><br><span class="line">   (E) åŠ å¯†åŠŸèƒ½å¼€å…³</span><br><span class="line">   (A) èº«ä»½éªŒè¯åŠŸèƒ½å¼€å…³</span><br><span class="line">   (Q) å·²å®Œæˆ</span><br><span class="line"></span><br><span class="line">æ‚¨çš„é€‰æ‹©æ˜¯ï¼Ÿ A</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨å·²å¯ç”¨åŠŸèƒ½å°±æ²¡æœ‰äº†ä»»ä½•å†…å®¹ï¼Œè¾“å…¥ <code>A</code> å›è½¦åå¼€å¯ <code>SSH</code> é‰´æƒéœ€è¦çš„åŠŸèƒ½ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">RSA å¯†é’¥çš„å¯å®ç°çš„åŠŸèƒ½ï¼š ç­¾åï¼ˆSignï¼‰ åŠ å¯†ï¼ˆEncryptï¼‰ èº«ä»½éªŒè¯ï¼ˆAuthenticateï¼‰</span><br><span class="line">ç›®å‰å¯ç”¨çš„åŠŸèƒ½ï¼š èº«ä»½éªŒè¯ï¼ˆAuthenticateï¼‰</span><br><span class="line"></span><br><span class="line">   (S) ç­¾ååŠŸèƒ½å¼€å…³</span><br><span class="line">   (E) åŠ å¯†åŠŸèƒ½å¼€å…³</span><br><span class="line">   (A) èº«ä»½éªŒè¯åŠŸèƒ½å¼€å…³</span><br><span class="line">   (Q) å·²å®Œæˆ</span><br><span class="line"></span><br><span class="line">æ‚¨çš„é€‰æ‹©æ˜¯ï¼Ÿ Q</span><br></pre></td></tr></table></figure>

<p>ç„¶åè¾“å…¥ <code>Q</code> ç»“æŸè‡ªå®šä¹‰åŠŸèƒ½ï¼Œè¿›å…¥ <code>RSA</code> å¯†é’¥é€‰é¡¹ã€‚</p>
<p>å› ä¸ºæ·»åŠ å­å¯†é’¥çš„æ—¶å€™é€‰æ‹©çš„æ˜¯ <code>RSA</code> å¯†é’¥ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦æŒ‡å®šå¯†é’¥é•¿åº¦ã€‚é•¿åº¦è¶Šé•¿ï¼Œå®‰å…¨æ€§è¶Šé«˜ã€‚æˆ‘è¿™é‡Œå°±é€‰æ‹© <code>4096</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">RSA å¯†é’¥çš„é•¿åº¦åº”åœ¨ 1024 ä½ä¸ 4096 ä½ä¹‹é—´ã€‚</span><br><span class="line">æ‚¨æƒ³è¦ä½¿ç”¨çš„å¯†é’¥é•¿åº¦ï¼Ÿ(3072) 4096</span><br></pre></td></tr></table></figure>

<p>ç„¶åè®¾ç½®å­å¯†é’¥çš„æœ‰æ•ˆæœŸã€‚å› ä¸ºä¹Ÿæ˜¯ä¸ªäººé•¿æœŸä½¿ç”¨ï¼Œæ‰€ä»¥é€‰æ‹© <code>0 å¯†é’¥æ°¸ä¸è¿‡æœŸ</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">è¯·è®¾å®šè¿™ä¸ªå¯†é’¥çš„æœ‰æ•ˆæœŸé™ã€‚</span><br><span class="line">         0 = å¯†é’¥æ°¸ä¸è¿‡æœŸ</span><br><span class="line">      &lt;n&gt;  = å¯†é’¥åœ¨ n å¤©åè¿‡æœŸ</span><br><span class="line">      &lt;n&gt;w = å¯†é’¥åœ¨ n å‘¨åè¿‡æœŸ</span><br><span class="line">      &lt;n&gt;m = å¯†é’¥åœ¨ n æœˆåè¿‡æœŸ</span><br><span class="line">      &lt;n&gt;y = å¯†é’¥åœ¨ n å¹´åè¿‡æœŸ</span><br><span class="line">å¯†é’¥çš„æœ‰æ•ˆæœŸé™æ˜¯ï¼Ÿ(0) 0</span><br></pre></td></tr></table></figure>

<p>ç„¶åç»è¿‡ä¸¤æ¬¡è¾“å…¥ <code>y</code> çš„ç¡®è®¤åï¼Œä¼šæç¤ºè¾“å…¥ä¸»å¯†é’¥çš„å¯†ç ã€‚å› ä¸ºåˆ›å»ºå­å¯†é’¥éœ€è¦ç”¨åˆ°ä¸»å¯†é’¥çš„ç§é’¥ï¼Œæ‰€ä»¥éœ€è¦ç”¨åˆ°ä¸»å¯†é’¥çš„å¯†ç ã€‚</p>
<p>è¾“å…¥å®Œæ­£ç¡®å¯†ç åï¼Œç»è¿‡çŸ­æš‚æ—¶é—´å°±ç”Ÿæˆäº†ä¸€ä¸ª <code>RSA</code> å¯†é’¥ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">æˆ‘ä»¬éœ€è¦ç”Ÿæˆå¤§é‡çš„éšæœºå­—èŠ‚ã€‚åœ¨è´¨æ•°ç”ŸæˆæœŸé—´åšäº›å…¶ä»–æ“ä½œï¼ˆæ•²æ‰“é”®ç›˜</span><br><span class="line">ã€ç§»åŠ¨é¼ æ ‡ã€è¯»å†™ç¡¬ç›˜ä¹‹ç±»çš„ï¼‰å°†ä¼šæ˜¯ä¸€ä¸ªä¸é”™çš„ä¸»æ„ï¼›è¿™ä¼šè®©éšæœºæ•°</span><br><span class="line">å‘ç”Ÿå™¨æœ‰æ›´å¥½çš„æœºä¼šè·å¾—è¶³å¤Ÿçš„ç†µã€‚</span><br><span class="line"></span><br><span class="line">sec  ed25519/D188A1DD832AB894</span><br><span class="line">     åˆ›å»ºäºï¼š2024-03-24  æœ‰æ•ˆè‡³ï¼šæ°¸ä¸       å¯ç”¨äºï¼šSC</span><br><span class="line">     ä¿¡ä»»åº¦ï¼šç»å¯¹        æœ‰æ•ˆæ€§ï¼šç»å¯¹</span><br><span class="line">ssb  cv25519/2978529F4782B600</span><br><span class="line">     åˆ›å»ºäºï¼š2024-03-24  æœ‰æ•ˆè‡³ï¼šæ°¸ä¸       å¯ç”¨äºï¼šE</span><br><span class="line">ssb  rsa4096/EFA3B0684ECE9D91</span><br><span class="line">     åˆ›å»ºäºï¼š2024-03-24  æœ‰æ•ˆè‡³ï¼šæ°¸ä¸       å¯ç”¨äºï¼šAR</span><br><span class="line">[ ç»å¯¹ ] (1). zebedy &lt;zebedy@example.com&gt;</span><br><span class="line"></span><br><span class="line">gpg&gt;</span><br></pre></td></tr></table></figure>

<p>å’Œä¸Šé¢ç›¸æ¯”å¯ä»¥çœ‹åˆ°å·²ç»å¤šäº†ä¸€ä¸ªæ‘˜è¦ä¸º <code>EFA3B0684ECE9D91</code> çš„å­å¯†é’¥ã€‚</p>
<p>è¿˜æœ‰æœ€åä¸€æ­¥ï¼Œè¾“å…¥ <code>save</code> å›è½¦ä¿å­˜å°±é€€å‡º <code>GPG</code> çš„äº¤äº’ <code>shell</code> äº†ã€‚</p>
<p>è‡³æ­¤ï¼Œå­å¯†é’¥åˆ›å»ºå®Œæˆã€‚</p>
<p>å›åˆ°æŸ¥çœ‹å¯†é’¥ä¿¡æ¯é‚£é‡Œã€‚æˆ‘ä»¬å†é€šè¿‡ <code>--list-keys</code> æŸ¥çœ‹å½“å‰å¯†é’¥ä¿¡æ¯å°±å¯ä»¥çœ‹åˆ°è¿™ä¸ªå­å¯†é’¥äº†ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gpg --list-keys --keyid-format=long</span><br><span class="line">[keyboxd]</span><br><span class="line">---------</span><br><span class="line">pub   ed25519/D188A1DD832AB894 2024-03-24 [SC]</span><br><span class="line">      A31F6E522B93990CA1A1C548D188A1DD832AB894</span><br><span class="line">uid                   [ ç»å¯¹ ] zebedy &lt;zebedy@example.com&gt;</span><br><span class="line">sub   cv25519/2978529F4782B600 2024-03-24 [E]</span><br><span class="line">sub   rsa4096/EFA3B0684ECE9D91 2024-03-24 [AR]</span><br></pre></td></tr></table></figure>

<p>ç›¸æ¯”ä¸Šé¢å¯ä»¥çœ‹åˆ°åˆ°äº†ä¸€ä¸ª <code>EFA3B0684ECE9D91</code> çš„å­å¯†é’¥</p>
<h4 id="é…ç½®-SSH"><a href="#é…ç½®-SSH" class="headerlink" title="é…ç½® SSH"></a>é…ç½® SSH</h4><h5 id="å¯ç”¨-GPG-Agent-çš„-SSH-æ”¯æŒ"><a href="#å¯ç”¨-GPG-Agent-çš„-SSH-æ”¯æŒ" class="headerlink" title="å¯ç”¨ GPG Agent çš„ SSH æ”¯æŒ"></a>å¯ç”¨ GPG Agent çš„ SSH æ”¯æŒ</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">vim ~/.gnupg/gpg-agent.conf <span class="comment"># æ–‡ä»¶å¯èƒ½ä¸å­˜åœ¨ï¼Œå¦‚ä¸å­˜åœ¨åˆ™åˆ›å»º</span></span><br></pre></td></tr></table></figure>

<p>åœ¨æ–‡ä»¶ä¸­å•ç‹¬ä¸€è¡Œæ·»åŠ  <code>enable-ssh-support</code></p>
<h5 id="è®¾ç½®-GPG-Agent-æ›¿ä»£-SSH-Agent"><a href="#è®¾ç½®-GPG-Agent-æ›¿ä»£-SSH-Agent" class="headerlink" title="è®¾ç½® GPG Agent æ›¿ä»£ SSH Agent"></a>è®¾ç½® GPG Agent æ›¿ä»£ SSH Agent</h5><p>ä¿®æ”¹å¯¹åº” shell çš„é…ç½®æ–‡ä»¶ (æˆ‘ä½¿ç”¨çš„æ˜¯ <code>zsh</code>ï¼Œè‡ªå·±æ ¹æ®ä½¿ç”¨çš„ <code>shell</code> è°ƒæ•´)</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">vim ~/.zshrc</span><br></pre></td></tr></table></figure>

<p>æ·»åŠ ä»¥ä¸‹å†…å®¹åˆ°åˆé€‚çš„åœ°æ–¹</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">export</span> GPG_TTY=$(<span class="built_in">tty</span>)</span><br><span class="line"><span class="built_in">export</span> SSH_AUTH_SOCK=$(gpgconf --list-dirs agent-ssh-socket)</span><br><span class="line">gpgconf --launch gpg-agent</span><br></pre></td></tr></table></figure>

<h5 id="æ·»åŠ å­å¯†é’¥-keygrip"><a href="#æ·»åŠ å­å¯†é’¥-keygrip" class="headerlink" title="æ·»åŠ å­å¯†é’¥ keygrip"></a>æ·»åŠ å­å¯†é’¥ keygrip</h5><p>é¦–å…ˆé€šè¿‡ <code>--with-keygrip</code> è·å–å­å¯†é’¥çš„ <code>keygrip</code></p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gpg --list-keys --with-keygrip --keyid-format=long</span><br><span class="line">[keyboxd]</span><br><span class="line">---------</span><br><span class="line">pub   ed25519/D188A1DD832AB894 2024-03-24 [SC]</span><br><span class="line">      A31F6E522B93990CA1A1C548D188A1DD832AB894</span><br><span class="line">      Keygrip = F95E3D5B168563C4F65853E8C0396815CE819A21</span><br><span class="line">uid                   [ ç»å¯¹ ] zebedy &lt;zebedy@example.com&gt;</span><br><span class="line">sub   cv25519/2978529F4782B600 2024-03-24 [E]</span><br><span class="line">      Keygrip = C5F82430DCB7B754782189638CBC8778D3E84AB8</span><br><span class="line">sub   rsa4096/EFA3B0684ECE9D91 2024-03-24 [AR]</span><br><span class="line">      Keygrip = 9C0935998C1D9F9BDE3030BB1C1A10A4454E56F8</span><br></pre></td></tr></table></figure>

<p>æ‰¾åˆ°ä¸Šä¸€æ­¥åˆ›å»ºçš„å­å¯†é’¥ <code>EFA3B0684ECE9D91</code> ä»–çš„ <code>Keygrip = 9C0935998C1D9F9BDE3030BB1C1A10A4454E56F8</code></p>
<p>ç¼–è¾‘ <code>~/.gnupg/sshcontrol</code> æ–‡ä»¶</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">vim ~/.gnupg/sshcontrol</span><br></pre></td></tr></table></figure>

<p>å°†è¿™ä¸ª <code>9C0935998C1D9F9BDE3030BB1C1A10A4454E56F8</code> æ·»åŠ åˆ°å•ç‹¬ä¸€è¡Œï¼Œä¿å­˜ã€‚</p>
<p>ç„¶åé‡å¯ç»ˆç«¯</p>
<p>æ£€æŸ¥ <code>SSH Key</code> æ˜¯å¦å­˜åœ¨</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">ssh-add -l</span><br><span class="line">4096 SHA256:GvaU9MfvKVMa9FVM+KN28z+MDCML6429dWeILycSPPw (none) (RSA)</span><br></pre></td></tr></table></figure>

<p>çœ‹åˆ°ç±»ä¼¼å†…å®¹å°±è¡¨ç¤ºæ·»åŠ æˆåŠŸ</p>
<h5 id="å¯¼å‡º-SSH-å…¬é’¥"><a href="#å¯¼å‡º-SSH-å…¬é’¥" class="headerlink" title="å¯¼å‡º SSH å…¬é’¥"></a>å¯¼å‡º SSH å…¬é’¥</h5><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gpg --export-ssh-key EFA3B0684ECE9D91 <span class="comment"># æˆ–è€…æ˜¯ gpg --export-ssh-key zebedy</span></span><br><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQC6guDA+iEFZe2op48auILxCkN6IRWJstpp1X/iNtohEcUpBxJ3g0qMKiMQnFHOTsL0PCci2Ifmg740DE5RWC+QPhAiJCl/VT6nUK4wT+wx+0CoseQEg9RLWnq6+WYXi2GLEKZLIdxvpcrsm6IaEIUk8Z8CMbuJocFrOeAGsV9F9QsRIFyqGNw8v6/+rBDDZdfGbKrp54heNM61YtvVDtSSCgMq0iFW8mlxR1F3egaiffJid/LWWlDht15ndB8C+5ZIpK/Tbr6bHy9VWnbXOmxP4MBL4SyTUkEgvAqMEG5PWiS6PsfUbkvWTNRx6TG5RsZ7Xu0AVcB6//ZEHkjZeIeW9glMf7tC3H8bhpadDcDusPCeJv04TuAkFjYZVUSCnvR1qVUxe6VR9rhE6tBi86YGngvIRcWHjVe7o1CiQLSFAp9T5vD1HjRo8Q6pnKP4sq66jXH61MrhLMhLQt3RVryWe2AlPYtcYPlWRrl4uj3o8TKNQDhBFO7tMssHo474eC50epzpdOoC4etzHcIIVmMKSnvSl1Z46LUgkmcgL4Wj0NTqBWx58KFKjpYAT5dcZisvUsGM6pbFgFJRLRUcjibiR3vm3H34p08vaLYW5ldOJKwTf59rGiRI/ileY+1xpBsbc48PBAyX13433Lgw9TnRvjd+Ovkma7PU/QoJPKm+Sw== openpgp:0x4ECE9D91</span><br></pre></td></tr></table></figure>

<p>ç„¶åå°±å¯ä»¥æŠŠè¿™ä¸ªå®ƒæ·»åŠ åˆ°ä»»ä½•éœ€è¦ä½¿ç”¨ <code>SSH</code> çš„åœ°æ–¹ï¼Œæ¯”å¦‚ <code>GitHub</code> æˆ–è€…è‡ªå·±æœåŠ¡å™¨ä¸Šçš„ <code>~/.ssh/authorized_keys</code> ä¸­ã€‚</p>
<p>è‡³æ­¤ï¼Œé€šè¿‡ GPG ç”Ÿæˆ SSH ä¸“ç”¨å¯†é’¥çš„è¿‡ç¨‹å°±ç»“æŸäº†ã€‚</p>
<h3 id="åˆ›å»ºç”¨äº-ä»£ç ç­¾å-çš„å­å¯†é’¥"><a href="#åˆ›å»ºç”¨äº-ä»£ç ç­¾å-çš„å­å¯†é’¥" class="headerlink" title="åˆ›å»ºç”¨äº ä»£ç ç­¾å çš„å­å¯†é’¥"></a>åˆ›å»ºç”¨äº ä»£ç ç­¾å çš„å­å¯†é’¥</h3><h4 id="æ£€æŸ¥å¯†é’¥é‚®ç®±"><a href="#æ£€æŸ¥å¯†é’¥é‚®ç®±" class="headerlink" title="æ£€æŸ¥å¯†é’¥é‚®ç®±"></a>æ£€æŸ¥å¯†é’¥é‚®ç®±</h4><blockquote>
<p>å¤‡æ³¨: å¦‚æœåœ¨<a href="#%E5%88%9D%E6%AC%A1%E4%BD%BF%E7%94%A8">åˆæ¬¡ä½¿ç”¨</a>çš„æ—¶å€™è¾“å…¥çš„é‚®ç®±ä¸æ˜¯ <code>GitHub</code> æˆ–è€… <code>GitLab</code> çš„é‚®ç®±ã€‚</p>
</blockquote>
<p>é‚£ä¹ˆéœ€è¦åœ¨ç¼–è¾‘å¯†é’¥ <code>gpg --expert --edit-key D188A1DD832AB894</code> çš„äº¤äº’ä¸­é€šè¿‡ <code>adduid</code> ç»™ä¸»å¯†é’¥æ·»åŠ å¯¹åº”çš„é‚®ç®±ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gpg --edit-key D188A1DD832AB894 <span class="comment"># ç¼–è¾‘ä¸»å¯†é’¥</span></span><br><span class="line">gpg (GnuPG) 2.4.5; Copyright (C) 2024 g10 Code GmbH</span><br><span class="line">This is free software: you are free to change and redistribute it.</span><br><span class="line">There is NO WARRANTY, to the extent permitted by law.</span><br><span class="line"></span><br><span class="line">ç§é’¥å¯ç”¨ã€‚</span><br><span class="line"></span><br><span class="line">sec  ed25519/D188A1DD832AB894</span><br><span class="line">     åˆ›å»ºäºï¼š2024-03-24  æœ‰æ•ˆè‡³ï¼šæ°¸ä¸       å¯ç”¨äºï¼šSC</span><br><span class="line">     ä¿¡ä»»åº¦ï¼šç»å¯¹        æœ‰æ•ˆæ€§ï¼šç»å¯¹</span><br><span class="line">ssb  cv25519/2978529F4782B600</span><br><span class="line">     åˆ›å»ºäºï¼š2024-03-24  æœ‰æ•ˆè‡³ï¼šæ°¸ä¸       å¯ç”¨äºï¼šE</span><br><span class="line">ssb  rsa4096/EFA3B0684ECE9D91</span><br><span class="line">     åˆ›å»ºäºï¼š2024-03-24  æœ‰æ•ˆè‡³ï¼šæ°¸ä¸       å¯ç”¨äºï¼šAR</span><br><span class="line">[ ç»å¯¹ ] (1). zebedy &lt;zebedy@example.com&gt;</span><br><span class="line"></span><br><span class="line">gpg&gt; adduid</span><br><span class="line">çœŸå®å§“åï¼š github name <span class="comment"># GitHub/GitLab ç”¨æˆ·åï¼ˆä¹Ÿå¯ä»¥ä¸å’Œç”¨æˆ·åä¸€è‡´ï¼‰</span></span><br><span class="line">ç”µå­é‚®ä»¶åœ°å€ï¼š github@gmail.com <span class="comment"># GitHub/GitLab é‚®ç®±ï¼ˆå¿…é¡»ä¸€è‡´ï¼‰</span></span><br><span class="line">æ³¨é‡Šï¼š github <span class="comment"># å¯é€‰</span></span><br><span class="line">æ‚¨é€‰å®šäº†æ­¤ç”¨æˆ·æ ‡è¯†ï¼š</span><br><span class="line">    â€œgithub name (github) &lt;github@gmail.com&gt;â€</span><br><span class="line"></span><br><span class="line">æ›´æ”¹å§“åï¼ˆNï¼‰ã€æ³¨é‡Šï¼ˆCï¼‰ã€ç”µå­é‚®ä»¶åœ°å€ï¼ˆEï¼‰æˆ–ç¡®å®šï¼ˆOï¼‰/é€€å‡ºï¼ˆQï¼‰ï¼Ÿ O</span><br><span class="line"></span><br><span class="line">sec  ed25519/D188A1DD832AB894</span><br><span class="line">     åˆ›å»ºäºï¼š2024-03-24  æœ‰æ•ˆè‡³ï¼šæ°¸ä¸       å¯ç”¨äºï¼šSC</span><br><span class="line">     ä¿¡ä»»åº¦ï¼šç»å¯¹        æœ‰æ•ˆæ€§ï¼šç»å¯¹</span><br><span class="line">ssb  cv25519/2978529F4782B600</span><br><span class="line">     åˆ›å»ºäºï¼š2024-03-24  æœ‰æ•ˆè‡³ï¼šæ°¸ä¸       å¯ç”¨äºï¼šE</span><br><span class="line">ssb  rsa4096/EFA3B0684ECE9D91</span><br><span class="line">     åˆ›å»ºäºï¼š2024-03-24  æœ‰æ•ˆè‡³ï¼šæ°¸ä¸       å¯ç”¨äºï¼šAR</span><br><span class="line">[ ç»å¯¹ ] (1)  zebedy &lt;zebedy@example.com&gt;</span><br><span class="line">[ æœªçŸ¥ ] (2). github name (github) &lt;github@gmail.com&gt;</span><br><span class="line"></span><br><span class="line">gpg&gt; save <span class="comment"># save ä¿å­˜é€€å‡º</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åæŸ¥çœ‹å¯†é’¥ä¿¡æ¯å°±å¯ä»¥çœ‹åˆ°å·²ç»åŒ…å«æ–°çš„ <code>uid</code> äº†ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gpg --list-keys --keyid-format=long</span><br><span class="line">[keyboxd]</span><br><span class="line">---------</span><br><span class="line">pub   ed25519/D188A1DD832AB894 2024-03-24 [SC]</span><br><span class="line">      A31F6E522B93990CA1A1C548D188A1DD832AB894</span><br><span class="line">uid                   [ ç»å¯¹ ] github name (github) &lt;github@gmail.com&gt;</span><br><span class="line">uid                   [ ç»å¯¹ ] zebedy &lt;zebedy@example.com&gt;</span><br><span class="line">sub   cv25519/2978529F4782B600 2024-03-24 [E]</span><br><span class="line">sub   rsa4096/EFA3B0684ECE9D91 2024-03-24 [AR]</span><br></pre></td></tr></table></figure>

<h4 id="ç”Ÿæˆå­å¯†é’¥-1"><a href="#ç”Ÿæˆå­å¯†é’¥-1" class="headerlink" title="ç”Ÿæˆå­å¯†é’¥"></a>ç”Ÿæˆå­å¯†é’¥</h4><p>å’Œä¸Šé¢ç”Ÿæˆ<a href="#%E5%88%9B%E5%BB%BA%E7%94%A8%E4%BA%8E-SSH-%E9%89%B4%E6%9D%83%E7%9A%84%E5%AD%90%E5%AF%86%E9%92%A5">åˆ›å»ºç”¨äº SSH é‰´æƒçš„å­å¯†é’¥</a>å­å¯†é’¥çš„è¿‡ç¨‹ç±»ä¼¼ï¼Œä½†æ˜¯è¿™é‡Œæˆ‘ä»¬ä¸éœ€è¦è‡ªå®šä¹‰å¯†é’¥åŠŸèƒ½ã€‚æ‰€ä»¥ä¸å¿…ä½¿ç”¨ <code>--expert</code> å‚æ•°</p>
<p>è¿™é‡Œå¯†é’¥ç±»å‹å¯ä»¥é€‰æ‹© <code>ECC</code> ä¹Ÿå¯ä»¥é€‰æ‹© <code>RSA</code>ï¼Œä½†æ˜¯æ³¨æ„ï¼Œä¸ç®¡æ˜¯ <code>ECC</code> è¿˜æ˜¯ <code>RSA</code>ï¼Œéƒ½éœ€è¦é€‰æ‹©åŒ…å« <code>ä»…ç”¨äºç­¾å</code> çš„é€‰é¡¹ã€‚</p>
<p>è¿™é‡Œæˆ‘å°±ç”¨ <code>ECC</code> ä¸¾ä¾‹ï¼Œå…·ä½“è¿‡ç¨‹å°±ä¸å†èµ˜è¿°ï¼Œå’Œä¸Šé¢<a href="#%E5%88%9B%E5%BB%BA%E5%AD%90%E5%AF%86%E9%92%A5">åˆ›å»ºå­å¯†é’¥</a>çš„è¿‡ç¨‹åŸºæœ¬ä¸€è‡´ï¼Œåªæ˜¯æ²¡æœ‰äº†è‡ªå®šä¹‰å¯†é’¥åŠŸèƒ½ï¼Œè¿‡ç¨‹æ›´ç®€å•äº†ã€‚</p>
<p>åˆ›å»ºå®ŒæˆååŒæ ·è®°å¾—ä½¿ç”¨ <code>save</code> ä¿å­˜åè‡ªåŠ¨é€€å‡º <code>GPG</code> çš„äº¤äº’ç¯å¢ƒï¼Œç„¶åæŸ¥è¯¢ä¸€ä¸‹å½“å‰çš„å¯†é’¥ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gpg --list-keys --keyid-format=long</span><br><span class="line">[keyboxd]</span><br><span class="line">---------</span><br><span class="line">pub   ed25519/D188A1DD832AB894 2024-03-24 [SC]</span><br><span class="line">      A31F6E522B93990CA1A1C548D188A1DD832AB894</span><br><span class="line">uid                   [ ç»å¯¹ ] github name (github) &lt;github@gmail.com&gt;</span><br><span class="line">uid                   [ ç»å¯¹ ] zebedy &lt;zebedy@example.com&gt;</span><br><span class="line">sub   cv25519/2978529F4782B600 2024-03-24 [E]</span><br><span class="line">sub   rsa4096/EFA3B0684ECE9D91 2024-03-24 [AR]</span><br><span class="line">sub   ed25519/0623CAE2AAFF25C2 2024-03-24 [S]</span><br></pre></td></tr></table></figure>

<p>å°±çœ‹åˆ°äº†æ–°åˆ›å»ºçš„å¯†é’¥ <code>0623CAE2AAFF25C2</code> ç”¨é€”åªæœ‰ <code>[S]</code>ï¼Œåªç”¨äºç­¾åã€‚</p>
<h4 id="æŸ¥è¯¢å­å¯†é’¥å…¬é’¥"><a href="#æŸ¥è¯¢å­å¯†é’¥å…¬é’¥" class="headerlink" title="æŸ¥è¯¢å­å¯†é’¥å…¬é’¥"></a>æŸ¥è¯¢å­å¯†é’¥å…¬é’¥</h4><p>é€šè¿‡ <code>--export</code> æŸ¥è¯¢å­å¯†é’¥å…¬é’¥ï¼Œä½†æ˜¯é»˜è®¤æ˜¯äºŒè¿›åˆ¶çš„æ ¼å¼ï¼Œæ‰€ä»¥è¿˜éœ€è¦ <code>--armor</code> æ˜¾ç¤ºä¸ºæ–‡æœ¬æ ¼å¼æ‰èƒ½ä½¿ç”¨ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gpg --armor --<span class="built_in">export</span> 0623CAE2AAFF25C2! <span class="comment"># æ³¨æ„è¿™é‡Œåœ¨å¯†é’¥æ‘˜è¦æœ«å°¾æœ‰ä¸€ä¸ªè‹±æ–‡çš„æ„Ÿå¹å·!</span></span><br><span class="line">-----BEGIN PGP PUBLIC KEY BLOCK-----</span><br><span class="line"></span><br><span class="line">mDMEZf+fkxYJKwYBBAHaRw8BAQdA8JIOJ9bqkGIH/b2Q5B8iLeYC7KhGy8I5AesQ</span><br><span class="line">Vgt2eju0J2dpdGh1YiBuYW1lIChnaXRodWIpIDxnaXRodWJAZ21haWwuY29tPoiT</span><br><span class="line">BBMWCgA7FiEEox9uUiuTmQyhocVI0Yih3YMquJQFAmX/pYwCGwMFCwkIBwICIgIG</span><br><span class="line">FQoJCAsCBBYCAwECHgcCF4AACgkQ0Yih3YMquJSl/wEAqpJRTjfRuUiCrYuIPech</span><br><span class="line">ffae/iYtz4St5xtgsgfVRi8BAPcAU9+HLFHZCK80vpiEVlp1jhCIUihetVuxzTJ6</span><br><span class="line">6x8AtBt6ZWJlZHkgPHplYmVkeUBleGFtcGxlLmNvbT6IkwQTFgoAOxYhBKMfblIr</span><br><span class="line">k5kMoaHFSNGIod2DKriUBQJl/5+TAhsDBQsJCAcCAiICBhUKCQgLAgQWAgMBAh4H</span><br><span class="line">AheAAAoJENGIod2DKriUPxgA/1g/tpw/gRrf6zwCVPQfuG5pgV25nqJlHNLqKv2c</span><br><span class="line">k8+FAP4ri6zN9Ay5QQX1lEU3xQROGq53irN/ZPBI6d0EP9q5B7gzBGX/pv8WCSsG</span><br><span class="line">AQQB2kcPAQEHQIrZWY1psJL/ELYuNi5lXSSUeWLw8wjHA+YvDiLxUyiXiO8EGBYK</span><br><span class="line">ACAWIQSjH25SK5OZDKGhxUjRiKHdgyq4lAUCZf+m/wIbAgCBCRDRiKHdgyq4lHYg</span><br><span class="line">BBkWCgAdFiEEhVrKN2SCNk5enPJMBiPK4qr/JcIFAmX/pv8ACgkQBiPK4qr/JcKo</span><br><span class="line">qAD9HGRow6SUGM7ySZXLxPa/AWa2iHnmbru3z7HheRSZ4q8A/jiCY75rPpsOjT6k</span><br><span class="line">rRejWTCDEJFL5SLdnWSsFwzbTQUE5FUA/j/CphTxuujBMdu/52EHwYg5Bo2+eeLp</span><br><span class="line">AFNyPSyt71g0AQDNhS5X8GQ1GSBZ5CvBRZ/fRd0vShn3kikkTt51UP9OBA==</span><br><span class="line">=qGsF</span><br><span class="line">-----END PGP PUBLIC KEY BLOCK-----</span><br></pre></td></tr></table></figure>

<p>ä¸ºä»€ä¹ˆè¦åœ¨æ‘˜è¦æœ«å°¾æ·»åŠ ä¸€ä¸ª <code>!</code> å·å‘¢ï¼Ÿ</p>
<p>å› ä¸ºå¦‚æœæ²¡æœ‰è¿™ä¸ªæ„Ÿå¹å·åˆ™ä¼šå¯¼å‡ºè¿™ä¸ªå­å¯†é’¥æ‰€å±çš„ä¸»å¯†é’¥ä¸‹çš„æ‰€æœ‰å…¬é’¥ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">gpg --armor --<span class="built_in">export</span> 0623CAE2AAFF25C2 <span class="comment"># è¿™é‡Œæ²¡æœ‰æ„Ÿå¹å·ï¼Œå‘ç°å†…å®¹ç›¸æ¯”ä¸Šé¢é•¿äº†å¾ˆå¤š</span></span><br><span class="line">-----BEGIN PGP PUBLIC KEY BLOCK-----</span><br><span class="line"></span><br><span class="line">mDMEZf+fkxYJKwYBBAHaRw8BAQdA8JIOJ9bqkGIH/b2Q5B8iLeYC7KhGy8I5AesQ</span><br><span class="line">Vgt2eju0J2dpdGh1YiBuYW1lIChnaXRodWIpIDxnaXRodWJAZ21haWwuY29tPoiT</span><br><span class="line">BBMWCgA7FiEEox9uUiuTmQyhocVI0Yih3YMquJQFAmX/pYwCGwMFCwkIBwICIgIG</span><br><span class="line">FQoJCAsCBBYCAwECHgcCF4AACgkQ0Yih3YMquJSl/wEAqpJRTjfRuUiCrYuIPech</span><br><span class="line">ffae/iYtz4St5xtgsgfVRi8BAPcAU9+HLFHZCK80vpiEVlp1jhCIUihetVuxzTJ6</span><br><span class="line">6x8AtBt6ZWJlZHkgPHplYmVkeUBleGFtcGxlLmNvbT6IkwQTFgoAOxYhBKMfblIr</span><br><span class="line">k5kMoaHFSNGIod2DKriUBQJl/5+TAhsDBQsJCAcCAiICBhUKCQgLAgQWAgMBAh4H</span><br><span class="line">AheAAAoJENGIod2DKriUPxgA/1g/tpw/gRrf6zwCVPQfuG5pgV25nqJlHNLqKv2c</span><br><span class="line">k8+FAP4ri6zN9Ay5QQX1lEU3xQROGq53irN/ZPBI6d0EP9q5B7g4BGX/n5MSCisG</span><br><span class="line">AQQBl1UBBQEBB0DLVTiDrM7loVyWzEQPpHDjsjtUz6tKLINI+I4Sr1pfWQMBCAeI</span><br><span class="line">eAQYFgoAIBYhBKMfblIrk5kMoaHFSNGIod2DKriUBQJl/5+TAhsMAAoJENGIod2D</span><br><span class="line">KriUPiYA/j2FEaBqUYpR497NgPggF0WNe55OJGF38ER3WqFOTcxzAP9vPRsBp+Jx</span><br><span class="line">s4MHTfnU+v7XZNNASWeomn8/+9+241kWDrkCDQRl/6GfARAAuoLgwPohBWXtqKeP</span><br><span class="line">GriC8QpDeiEVibLaadV/4jbaIRHFKQcSd4NKjCojEJxRzk7C9DwnItiH5oO+NAxO</span><br><span class="line">UVgvkD4QIiQpf1U+p1CuME/sMftAqLHkBIPUS1p6uvlmF4thixCmSyHcb6XK7Jui</span><br><span class="line">GhCFJPGfAjG7iaHBazngBrFfRfULESBcqhjcPL+v/qwQw2XXxmyq6eeIXjTOtWLb</span><br><span class="line">1Q7UkgoDKtIhVvJpcUdRd3oGon3yYnfy1lpQ4bdeZ3QfAvuWSKSv026+mx8vVVp2</span><br><span class="line">1zpsT+DAS+Esk1JBILwKjBBuT1okuj7H1G5L1kzUcekxuUbGe17tAFXAev/2RB5I</span><br><span class="line">2XiHlvYJTH+7Qtx/G4aWnQ3A7rDwnib9OE7gJBY2GVVEgp70dalVMXulUfa4ROrQ</span><br><span class="line">YvOmBp4LyEXFh41Xu6NQokC0hQKfU+bw9R40aPEOqZyj+LKuuo1x+tTK4SzIS0Ld</span><br><span class="line">0Va8lntgJT2LXGD5Vka5eLo96PEyjUA4QRTu7TLLB6OO+HgudHqc6XTqAuHrcx3C</span><br><span class="line">CFZjCkp70pdWeOi1IJJnIC+Fo9DU6gVsefChSo6WAE+XXGYrL1LBjOqWxYBSUS0V</span><br><span class="line">HI4m4kd75tx9+KdPL2i2FuZXTiSsE3+faxokSP4pXmPtcaQbG3OPDwQMl9d+N9y4</span><br><span class="line">MPU50b43fjr5Jmuz1P0KCTypvksAEQEAAYhvBBgWCgAhFiEEox9uUiuTmQyhocVI</span><br><span class="line">0Yih3YMquJQFAmX/oZ8DGyAEAACPZwD9GPj32r7XUNSffp2lPSNhV8eAMVxzdkov</span><br><span class="line">lYEWNJuCTZ0A/3gCT77sacaH3jDmoeT8yhFxA4YR8CcVteiXt3/RVCAAuDMEZf+m</span><br><span class="line">/xYJKwYBBAHaRw8BAQdAitlZjWmwkv8Qti42LmVdJJR5YvDzCMcD5i8OIvFTKJeI</span><br><span class="line">7wQYFgoAIBYhBKMfblIrk5kMoaHFSNGIod2DKriUBQJl/6b/AhsCAIEJENGIod2D</span><br><span class="line">KriUdiAEGRYKAB0WIQSFWso3ZII2Tl6c8kwGI8riqv8lwgUCZf+m/wAKCRAGI8ri</span><br><span class="line">qv8lwqioAP0cZGjDpJQYzvJJlcvE9r8BZraIeeZuu7fPseF5FJnirwD+OIJjvms+</span><br><span class="line">mw6NPqStF6NZMIMQkUvlIt2dZKwXDNtNBQTkVQD+P8KmFPG66MEx27/nYQfBiDkG</span><br><span class="line">jb554ukAU3I9LK3vWDQBAM2FLlfwZDUZIFnkK8FFn99F3S9KGfeSKSRO3nVQ/04E</span><br><span class="line">=7KWW</span><br><span class="line">-----END PGP PUBLIC KEY BLOCK-----</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºæˆ‘ä»¬åªéœ€è¦è¿™ä¸ªå­å¯†é’¥ï¼Œæ‰€ä»¥ä½¿ç”¨ <code>!</code> åªåŒ…å«è¯¥å­å¯†é’¥çš„å…¬é’¥å°±è¡Œã€‚</p>
<p>ç„¶åå°†è¯¥å…¬é’¥æ·»åŠ åˆ° <code>GitHub</code> æˆ–è€… <code>GitLab</code> ä¸­å³å¯ã€‚</p>
<h4 id="é…ç½®-Git"><a href="#é…ç½®-Git" class="headerlink" title="é…ç½® Git"></a>é…ç½® Git</h4><p>ç»™ Git å…¨å±€é…ç½®ç­¾å Key</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git config --global user.signingkey 0623CAE2AAFF25C2!</span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸éœ€è¦è‡ªåŠ¨ä½¿ç”¨ GPG ç­¾åä»£ç ï¼Œå¯ä»¥æ¯æ¬¡åœ¨ <code>commit</code> çš„æ—¶å€™ä½¿ç”¨ <code>-S</code> å‚æ•°ï¼ˆå¤§å†™ Sï¼‰è¿›è¡Œç­¾å</p>
<p>å¦‚æœæƒ³æäº¤çš„æ—¶å€™è‡ªåŠ¨ç­¾åï¼Œå¯ä»¥è¿›è¡Œé…ç½®ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git config --global commit.gpgsign <span class="literal">true</span></span><br></pre></td></tr></table></figure>

<p>ç„¶åå†æ¬¡æäº¤ä»£ç åå°±å¯ä»¥æŸ¥çœ‹ç­¾åä¿¡æ¯äº†ã€‚</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">git <span class="built_in">log</span> --show-signature</span><br></pre></td></tr></table></figure>

<p>åŒæ—¶ <code>push</code> åˆ° <code>GitHub</code> ä¸Šåä¹Ÿå¯ä»¥çœ‹åˆ°æäº¤æœ‰ä¸€ä¸ª <code>verified</code> çš„æ ‡è®°ã€‚</p>
<p>è‡³æ­¤ï¼Œåˆ›å»ºç”¨äºä»£ç ç­¾åçš„å­å¯†é’¥ç»“æŸã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>åŒ—äº¬è”é€šå¼‚åœ°å®½å¸¦åŠç†æŒ‡å—</title>
    <url>/post/de583f28.html</url>
    <content><![CDATA[<p>ä¼—æ‰€å‘¨çŸ¥ï¼ŒåŒ—äº¬è”é€šçš„å®½å¸¦æ˜¯çœŸçš„è´µã€‚ä¹‹å‰è”ç³»äº†è”é€šçš„å®½å¸¦ä¸“å‘˜ï¼Œå’¨è¯¢äº†ä¸€ä¸‹èåˆå¥—é¤ã€‚</p>
<ul>
<li>1000 Mbps ä¸‰å¹´åˆçº¦ 149 å…ƒ&#x2F;æœˆï¼ˆè¿™ä¸ªè¿˜æ˜¯æœ‰ä¼˜æƒ çš„ä»·æ ¼ï¼‰æå‰è§£çº¦è¿çº¦é‡‘ &#x3D; æœªå±¥çº¦æœˆæ•° âœ–ï¸ 30 å…ƒ</li>
<li>500 Mbps æ— åˆçº¦ 166 å…ƒ&#x2F;æœˆ</li>
</ul>
<p>å› ä¸ºæˆ‘å®¶æ‰€æœ‰çš„æ‰‹æœºå·éƒ½æ˜¯è”é€šçš„ï¼Œå¥—é¤ä¹Ÿéƒ½å¾ˆå¤Ÿç”¨ï¼Œæ‰€ä»¥èåˆå¥—çš„æ‰‹æœºå·å¥—é¤æ²¡å•¥ç”¨ã€‚äº†è§£åˆ°å¼‚åœ°å®½å¸¦ä»·æ ¼å¾ˆç¾ä¸½åå°±æƒ³ç€åŠä¸€ä¸ªã€‚</p>
<span id="more"></span>

<p>åŒ—äº¬åœ°åŒºçš„å¼‚åœ°å®½å¸¦åˆ†ä¸¤ç§</p>
<ul>
<li>300 Mbps 60 å…ƒ&#x2F;æœˆ</li>
<li>500 Mbps 80 å…ƒ&#x2F;æœˆ</li>
</ul>
<img data-src="https://images.zabrian.com/8ec6254c-3291-42f6-69b0-2c8d53f22901/origin" title="å¼‚åœ°å®½å¸¦å¥—é¤" style="zoom:62%;" />

<h1 id="åŠå¡"><a href="#åŠå¡" class="headerlink" title="åŠå¡"></a>åŠå¡</h1><p>æ—¢ç„¶æ˜¯å¼‚åœ°å®½å¸¦ï¼Œé¦–å…ˆæ˜¯éœ€è¦ä¸€ä¸ªå¼‚åœ°æ‰‹æœºå¡ã€‚åœ¨æŸå®æ‰¾äº†ä¸€ä¸ªåŠå¡ï¼Œé€‰äº†ä¸€ä¸ª 19 å—é’±çš„å¥—é¤ï¼Œåæ­£å°±æ˜¯èƒ½åŠå¤šä¾¿å®œå°±å¤šä¾¿å®œã€‚19 å·®ä¸å¤šå°±æ˜¯èƒ½åœ¨å¼€å¡çš„æœ€ä¾¿å®œäº†ã€‚å¼‚åœ°é€‰çš„å¤©æ´¥ï¼Œä¸»è¦å°±æ˜¯ç¦»åŒ—äº¬è¿‘ï¼Œæ–¹ä¾¿ã€‚</p>
<p>ç„¶åè®°å¾—è¯¢é—®ä¸€ä¸‹å¡æ˜¯ä¸æ˜¯èƒ½æ­£å¸¸æ”¹å¥—é¤åŠå®½å¸¦å•¥çš„ï¼Œåˆ«åŠç‰©è”ç½‘å¡å°±è¡Œï¼Œè¦åŠçš„ä¸€å®šæ˜¯æ­£å¸¸çš„æ‰‹æœºå¡ã€‚ç„¶åé…é€åœ°å€å†™ä¸€ä¸ªå¤©æ´¥çš„åœ°å€ï¼Œåƒä¸‡ä¸èƒ½å†™å¼‚åœ°ï¼Œå› ä¸ºå¤©æ´¥è”é€šä¸èƒ½å¼‚åœ°é…é€ã€‚å¿…é¡»è¦å¤©æ´¥æœ¬åœ°çš„åœ°å€ã€‚ä¸ºäº†æ–¹ä¾¿ï¼Œæˆ‘å°±ç›´æ¥å†™åˆ°äº†å¤©æ´¥ç«™ã€‚</p>
<p>ç„¶åå°±æ˜¯æäº¤èº«ä»½è¯å•¥çš„å®¡æ ¸ï¼Œå½“å¤©å®¡æ ¸é€šè¿‡ä¸‹åˆæ˜¾ç¤ºå°±åˆ†é…äº†å°å“¥ä¸Šé—¨é€å¡ã€‚ç„¶åå°±æ˜¯æ‰“ç”µè¯ç»™å°å“¥æ”¹ä¸€ä¸‹æ—¶é—´ã€‚æ¯•ç«Ÿå½“å¤©ä¸‹åˆå·²ç» 3 ç‚¹äº†ï¼Œè¿˜åœ¨ä¸Šç­å’‹ï¼Œå¯èƒ½åˆ°å¤©æ´¥å–å¡ã€‚</p>
<p>ç„¶åæˆ‘å°±çº¦åˆ°äº†å‘¨å…­ä¸‹åˆ 3 ç‚¹äº†ã€‚ç„¶åå°±æ˜¯ä¹°äº†å‘¨å…­ 14:09 ~ 14:42 ä»åŒ—äº¬åˆ°å¤©æ´¥çš„å»ç¨‹ï¼Œ15:22 ~ 15:52 ä»å¤©æ´¥åˆ°åŒ—äº¬å—çš„è¿”ç¨‹ã€‚ä¸€å…±èŠ±äº† 100 è¿‡ç‚¹ã€‚</p>
<p>å½“å¤©ä¸Šè½¦ä¹‹åç»™å°å“¥æ‰“äº†ä¸ªç”µè¯ï¼Œè¯´äº†ä¸‹æ˜¯ä¸“ç¨‹æ¥åŠå¡çš„ï¼Œè¿”ç¨‹æ—¶é—´æ¯”è¾ƒç´§ï¼Œå¸Œæœ›èƒ½å°½å¿«åˆ°ã€‚å°å“¥è¡¨ç¤ºæ²¡é—®é¢˜ã€‚ç„¶åæˆ‘å¿«åˆ°ç«™çš„æ—¶å€™å°å“¥æ¥ç”µè¯äº†è¯´ä»–å·²ç»åˆ°äº†ï¼ˆd&#x3D;(Â´â–½ ï½€)&#x3D;bï¼‰</p>
<p>ç„¶åå°±å’Œå°å“¥åœ¨è½¦ç«™é‡Œé¢ç¢°ä¸Šé¢äº†ã€‚æ‹ç…§åŠå¡ä¸€æ°”å‘µæˆï¼Œå…¨ç¨‹èŠ±äº†ä¸åˆ° 5 åˆ†é’Ÿã€‚äº¤äº† 500 å—é’±è¯è´¹ç»“æŸã€‚ç„¶åè¿”ç¨‹å›å®¶ã€‚</p>
<h1 id="æ”¹å¥—é¤"><a href="#æ”¹å¥—é¤" class="headerlink" title="æ”¹å¥—é¤"></a>æ”¹å¥—é¤</h1><p>å¼€å¡çš„æ—¶å€™é€‰çš„æ˜¯ 19 å—é’±çš„å¥—é¤ï¼Œç¬¬äºŒå¤©ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æ”¹åˆ° 8 å…ƒä¿å·å¥—é¤ã€‚æ‰€ä»¥ä¸Šé¢åŠå¡çš„æ—¶å€™éœ€è¦ç¡®è®¤å¡ç‰‡å¥—é¤èƒ½å¦ä¿®æ”¹ï¼ˆæœ‰çš„æœ‰åˆçº¦ï¼Œä¸èƒ½ä¿®æ”¹æˆ–è€…å¾—è¿‡å‡ ä¸ªæœˆæ‰èƒ½ä¿®æ”¹ï¼‰å¯ä»¥ç›´æ¥æ‰“ç”µè¯ç»™è”é€šï¼Œè½¬åˆ°äººå·¥æ”¹ã€‚ä½†æ˜¯æˆ‘å«Œæ‰“ç”µè¯éº»çƒ¦ï¼Œä¸‹è½½äº†è”é€š appï¼Œç”¨æ–°åŠçš„æ‰‹æœºå¡ç™»å½•ï¼Œå³ä¸Šè§’åœ¨çº¿å®¢æœä¿®æ”¹å¥—é¤åˆ° 8 å…ƒä¿å·å¥—é¤å°±è¡Œã€‚å®¢æœä¼šå‘Šè¯‰ä½ ä¼šæœ‰ä¸“å±ç»ç† 48h å†…è”ç³»ï¼Œä½†æ˜¯æˆ‘çš„å½“å¤©ä¸‹åˆå°±æ¥ç”µè”ç³»äº†ï¼Œç¡®è®¤ä¿®æ”¹åæ¬¡æœˆå°±ç”Ÿæ•ˆäº†ã€‚</p>
<img data-src="https://images.zabrian.com/83d18cc4-1a34-43d3-043c-b63386745e01/origin" title="è”ç³»å®¢æœä¿®æ”¹å¥—é¤" style="zoom:62%;" />

<h1 id="åŠå®½å¸¦"><a href="#åŠå®½å¸¦" class="headerlink" title="åŠå®½å¸¦"></a>åŠå®½å¸¦</h1><p>è¿™é‡ŒåŠå®½å¸¦ä¸€å®šè¦ä»è”é€š app ä¸ŠåŠç†ï¼Œå»è¥ä¸šå…æ˜¯åŠä¸äº†è¿™ä¸ªä»·æ ¼çš„å¼‚åœ°å®½å¸¦ã€‚</p>
<p>app é‡Œé¢çš„ä½ç½®åœ¨è¿™é‡Œ</p>
<img data-src="https://images.zabrian.com/8d192054-73d8-4156-87f5-c8f5eed0fd01/origin" title="å¼‚åœ°åŒäº«ä¸“åŒº" style="zoom:62%;" />

<p>ç„¶åé€‰æ‹©å…¨å›½ä¸€å®¶äº²å¼‚åœ°å®½å¸¦</p>
<img data-src="https://images.zabrian.com/32f222f5-5e1f-4b39-5329-848898dd2f01/origin" title="å…¨å›½ä¸€å®¶äº²å¼‚åœ°å®½å¸¦" style="zoom:62%;" />

<p>ç„¶åè¿›å»ä¹‹åé€‰æ‹©å®½å¸¦åŠç†çš„åŸå¸‚ï¼Œæˆ‘è¿™é‡Œå°±æ˜¯åŒ—äº¬ï¼Œç„¶åå°±ä¼šæœ‰èƒ½åŠç†çš„ç±»å‹ï¼ŒåŒ…æ‹¬ 300 Mbps å’Œ 500 Mbps é€‰å¥½ä¹‹åå¡«å†™ä¸‹é¢çš„å…·ä½“çš„å†…å®¹ï¼Œæäº¤é¢„çº¦å³å¯ã€‚</p>
<p>ç„¶åè¿‡äº†å‡ ä¸ªå°æ—¶å°±æœ‰è”é€šçš„ç”µè¯äº†ï¼Œç¡®å®šåŠç†çš„å®½å¸¦åï¼Œè¡¨ç¤ºåŒ—äº¬æœ‰ä¸€ä¸ª 300 å—é’±çš„å®‰è£…è´¹ã€‚æ¬¡æœˆä»è¯è´¹é‡Œé¢æ‰£é™¤ã€‚ç¡®å®šæ— è¯¯åå®¢æœç»™æˆ‘å‘äº†ä¸€ä¸ªçŸ­ä¿¡ï¼Œé‡Œé¢æœ‰ä¸ªé“¾æ¥ã€‚éœ€è¦ä¸Šä¼ èº«ä»½è¯æ­£åé¢å’Œæ‹æ‘„ä¸€å¼ å…å† è‡ªæ‹ç…§ã€‚ç„¶åå°±ç­‰ç€åˆ†é…å°å“¥å§ã€‚</p>
<h1 id="ä¸Šé—¨å®‰è£…"><a href="#ä¸Šé—¨å®‰è£…" class="headerlink" title="ä¸Šé—¨å®‰è£…"></a>ä¸Šé—¨å®‰è£…</h1><p>åˆ°äº†é¢„çº¦çš„é‚£å¤©ï¼Œå°å“¥ä¸Šé—¨ã€‚ç¡®è®¤äº†ä¿¡æ¯ä¹‹åå°±å¼€å§‹è£…å…‰çŒ«å•¥çš„ã€‚åœ¨è¿™ä¸ªé€”ä¸­ï¼Œå› ä¸ºç°åœ¨åŒ—äº¬å¤©æ°”å·²ç»å¾ˆçƒ­äº†ï¼Œå°å“¥åˆæ˜¯ä¸­åˆä¸Šé—¨çš„ã€‚é€’ä¸Šç“¶æ°´ï¼Œæ‹¿ä¸ªæ¿å‡³åä¼šå„¿ã€‚è¦æ˜¯æŠ½çƒŸå¯ä»¥å†é€’ä¸ªçƒŸå•¥çš„ã€‚ä¹‹åå°±å¼€å§‹è¡¨è¾¾è‡ªå·±æƒ³è¦å…¬ç½‘ IP çš„è¯‰æ±‚ï¼ˆæ¯•ç«Ÿæ±‚äººåŠäº‹å„¿ï¼Œæ‰€ä»¥å‰é¢å°±å®¢æ°”ç‚¹ï¼‰å°å“¥é—®äº†ä¸ªåŸå› ï¼Œæˆ‘è¯´å®¶é‡Œæœ‰ç›‘æ§éœ€è¦ã€‚ç„¶åå°å“¥è¿˜æ‹äº†ä¸ªç›‘æ§çš„ç…§ç‰‡ï¼Œå¹¶ä¸”è¿˜è¯´ï¼šâ€œç°åœ¨å…¬ç½‘ IP ä¸å¥½æ‹¿ï¼Œéœ€è¦æœ‰æ˜ç¡®çš„éœ€æ±‚æ‰èƒ½ç”³è¯·ï¼Œä½ è¿™ä¸ªè¦ç”¨ç›‘æ§ã€‚ä½†å…¶å®ç°åœ¨ç›‘æ§è¿™ä¸ªç†ç”±ä¸æ€ä¹ˆèƒ½è¿‡äº†ã€‚ä½ è¦æ˜¯æœ‰æ˜ç¡®è¯‰æ±‚å¯ä»¥ç»™ä½ ç”³è¯·ã€‚â€ï¼ˆåæ­£å°±æ˜¯ä¸€è¾¹è¡¨è¾¾ä¸å¥½æï¼Œä½†æ˜¯ä¸€è¾¹è¿˜éƒ½ç»™ç”³è¯·äº†ï¼‰ç„¶åå°±é¡ºä¾¿è¿æ¡¥æ¥ä¸€èµ·ç»™åŠäº†ï¼Œé¡ºä¾¿åŠ äº†ä¸€ä¸‹å°å“¥ç§äººçš„å¾®ä¿¡ï¼ˆè™½ç„¶ç°åœ¨ä¸€èˆ¬éƒ½æ˜¯è¦åŠ ä¼å¾®ï¼Œä½†æ˜¯å°å“¥è¿˜æ˜¯ç»™äº†ä»–ç§äººçš„å¾®ä¿¡ï¼‰æœ€åè£…å¥½åä»–é‚£èµ°äº†ä¸ªæµ‹é€Ÿï¼Œå®‰è£… 500 M å®é™…æµ‹é€Ÿèƒ½åˆ° 650ã€‚è¿˜ä¸é”™ã€‚æœ€åè®°äº†ä¸€ä¸‹å®½å¸¦çš„å¯†ç ï¼Œæå®šã€‚ä»ä¸Šé—¨åˆ°æœ€åå°å“¥èµ°ä¸€å…±èŠ±äº†ä¸åˆ° 10 minï¼Œå¤–åŠ ä¸€ç“¶æ°´çš„é’±ã€‚</p>
<h1 id="åŠç†ä¸Šè¡Œæé€Ÿ"><a href="#åŠç†ä¸Šè¡Œæé€Ÿ" class="headerlink" title="åŠç†ä¸Šè¡Œæé€Ÿ"></a>åŠç†ä¸Šè¡Œæé€Ÿ</h1><p>500 Mbps çš„å®½å¸¦ä¸‹è¡Œå¯¹åº”ä¸Šè¡Œæ‰ç»™ 30 Mbps æ˜¯çœŸçš„æ‹‰è·¨ï¼Œä½†æ˜¯å¯ä»¥åŠç†åŠ é€ŸåŒ…: <span class="exturl" data-url="aHR0cHM6Ly93b2t1YW4uMTE0bWVuaHUuY29tLw==">æ²ƒå®½<i class="fa fa-external-link-alt"></i></span></p>
<p>ç”¨åŠç†å®½å¸¦çš„å¼‚åœ°æ‰‹æœºå·ç™»å½•</p>
<img data-src="https://images.zabrian.com/29685c89-0b86-439b-be44-1ea181ba1601/origin" title="æ²ƒå®½ç™»é™†ç•Œé¢" style="zoom:39%;" />

<p>ç„¶ååœ¨å·¦ä¾§ã€æˆ‘çš„å®½å¸¦ã€‘ä¸­æ·»åŠ å½“å‰å®½å¸¦</p>
<img data-src="https://images.zabrian.com/214b8dce-750d-4fea-cb68-b81701392d01/origin" title="æ²ƒå®½æ·»åŠ å®½å¸¦" style="zoom:40%;" />

<p>æ·»åŠ æˆåŠŸåå†å·¦ä¾§ ã€æˆ‘è¦è´­ä¹°ã€‘ä¸­åº”è¯¥å¯ä»¥çœ‹åˆ°ä¸€ä¸ªã€å®½å¸¦ä¸Šè¡Œæé€ŸåŒ… 100 Mã€‘è¿™é‡Œä¸€æ¬¡æœ€å¤šå¯ä»¥è´­ä¹° 6 ä¸ªï¼ˆè¿ç»­åŠå¹´ï¼Œåˆ°æœŸåå¯ä»¥ç»§ç»­è´­ä¹°ï¼‰</p>
<img data-src="https://images.zabrian.com/13a412ea-2b2b-4be8-4013-821b35e6d201/origin" title="è´­ä¹°ä¸Šè¡Œæé€ŸåŒ…" style="zoom:40%;" />

<p>è´­ä¹°æˆåŠŸåï¼Œåœ¨å·¦ä¾§ã€é¦–é¡µã€‘ç‚¹å‡»ã€ç‚¹æˆ‘æé€Ÿã€‘å°±å¯ä»¥äº†ï¼Œæ— éœ€é‡å¯å…‰çŒ«å³å¯äº«å— 100 Mbps çš„ä¸Šè¡Œé€Ÿç‡äº†ã€‚</p>
<img data-src="https://images.zabrian.com/1b239e28-26bc-43cd-e168-d7970cc88701/origin" title="ä¸Šè¡Œæé€Ÿ" style="zoom:39%;" />

<h1 id="ç»“æŸ"><a href="#ç»“æŸ" class="headerlink" title="ç»“æŸ"></a>ç»“æŸ</h1><p>æœ€åç®—ä¸€ä¸‹æˆæœ¬</p>
<ul>
<li>ä¸€æ¬¡æ€§æˆæœ¬ï¼šæ¥å› 100 å…ƒè·¯è´¹ + è£…æœºè´¹ 300 å…ƒï¼ˆå”¯ä¸€çš„å‘ç‚¹ï¼‰ &#x3D; 400 å…ƒ</li>
<li>å‘¨æœŸæ€§æˆæœ¬ï¼šæ¯æœˆå¼‚åœ°å·ç å¥—é¤ 8 å…ƒ + å®½å¸¦è´¹ç”¨ 80 å…ƒ + ä¸Šè¡ŒåŠ é€ŸåŒ… 30 å…ƒ &#x3D; 118 å…ƒ</li>
</ul>
<p>æ€»ä½“è¿˜æ˜¯æ¯” 500 Mbps çš„èåˆå¥—ä¾¿å®œå¾ˆå¤šçš„ã€‚</p>
<p>æœ€åé™„ä¸Š speedtest å’Œ ustc çš„æµ‹é€Ÿç»“æœå§</p>
<img data-src="https://images.zabrian.com/ac825486-02e6-43f8-1e06-419808a0da01/origin" title="SpeedTest æµ‹é€Ÿ" style="zoom:100%;" />

<img data-src="https://images.zabrian.com/8cb09a0c-3136-4487-8e35-a242c3ecf601/origin" title="USTC æµ‹é€Ÿ" style="zoom:85%;" />
]]></content>
  </entry>
  <entry>
    <title>æŠŠ DNS æœåŠ¡å˜ä¸ºä¸€ä¸ªèŠå¤©å®¤</title>
    <url>/post/de80eb41.html</url>
    <content><![CDATA[<p>åœ¨ <span class="exturl" data-url="aHR0cHM6Ly93d3cucnVhbnlpZmVuZy5jb20vYmxvZy8yMDI1LzEwL3dlZWtseS1pc3N1ZS0zNjkuaHRtbA==">é˜®ä¸€å³°å‘¨åˆŠ 369 æœŸ<i class="fa fa-external-link-alt"></i></span> ä¸­è¿™æ ·ä¸€ç¯‡æ–‡ç«  <span class="exturl" data-url="aHR0cHM6Ly9yYW1zYXlsZXVuZy5naXRodWIuaW8vemgvcG9zdC8yMDI1LyVFNSU4NSVCMyVFNCVCQSU4RSVFNyVBMCVCNCVFOCVBNyVBMyVFNSU4QSVBMCVFNiU4QiVCRiVFNSVBNCVBNyVFOCU4OCVBQSVFNyVBOSVCQSVFOSVBMyU5RSVFNiU5QyVCQSVFNyVCRCU5MSVFNyVCQiU5QyVFOSU5OSU5MCVFNSU4OCVCNiVFNyU5QSU4NCVFNCVCOCU4MCVFNCVCQiVCNiVFNSVCMCU4RiVFNCVCQSU4Qi8=">ç ´è§£åŠ æ‹¿å¤§èˆªç©ºçš„é£æœºä¸Šç½‘<i class="fa fa-external-link-alt"></i></span> å½“æ—¶çœ‹äº†ä¹‹åè§‰å¾—å¾ˆæœ‰æ„æ€ï¼Œä½†æ²¡æœ‰é¢å¤–ä½œä»€ä¹ˆæ€è€ƒã€‚è¿‡äº†ä¸¤å‘¨çš„æŸä¸€å¤©æ—©ä¸Šåœ¨ä¸Šç­è·¯ä¸Šçªç„¶æƒ³åˆ°äº†è¿™ä¸ªæ–‡ç« ï¼Œå› ä¸ºæ˜¯ä¸Šç­è·¯ä¸Šæœ‰ç‚¹æ— èŠï¼Œæ‰€ä»¥å°±æ€è€ƒäº†ä¸€ä¸‹è¿™ä¸ªé—®é¢˜ï¼šå¦‚æœåœ¨æŸä¸€ç½‘ç»œä¸­ï¼Œåªæœ‰ DNS åè®®çš„è¯·æ±‚èƒ½æˆåŠŸï¼Œé‚£ä¹ˆåœ¨è¿™ä¸ªç½‘ç»œä¸­çš„äººä»¬èƒ½å¦è‡ªç”±å½¼æ­¤é€šä¿¡ï¼Ÿ</p>
<span id="more"></span>

<p>å…ˆè¯´ç»“è®ºï¼Œè‚¯å®šæ˜¯å¯ä»¥çš„ï¼Œåªéœ€è¦å•å»ºä¸€ä¸ªç‰¹æ®Šçš„ DNS æœåŠ¡å™¨å°±å¯ä»¥äº†ã€‚</p>
<div class="note success"><p>æ ¸å¿ƒæ€æƒ³ï¼šæŠŠæ–‡æœ¬æ¶ˆæ¯ä¼ªè£…æˆ DNS æŸ¥è¯¢ï¼Œæ”¾åˆ° QNAME ä¸­å‘ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨æ”¶åˆ°ç‰¹æ®Šçš„ DNS æŸ¥è¯¢ï¼Œå°†ç»“æœæŒ‰ç…§ TXT æŸ¥è¯¢æ ¼å¼è¿”å›å†…å®¹ã€‚</p>
</div>

<p>ä¸Šè¡Œæ•°æ®åŒ… (æ¶ˆæ¯)</p>
<figure class="highlight gherkin"><table><tr><td class="code"><pre><span class="line"><span class="variable">&lt;group&gt;</span>.<span class="variable">&lt;sid&gt;</span>.u.<span class="variable">&lt;seq&gt;</span>.<span class="variable">&lt;nonce&gt;</span>.<span class="variable">&lt;payload1&gt;</span>.<span class="variable">&lt;payload2&gt;</span>....[.<span class="variable">&lt;TLD&gt;</span>].</span><br><span class="line">^------^-----^-^-----^-------^--------------------------^------^</span><br><span class="line">    |<span class="string">     </span>|<span class="string">   </span>|<span class="string">   </span>|<span class="string">      </span>|<span class="string">                </span>|<span class="string">                </span>|<span class="string">   </span></span><br><span class="line"><span class="string">    </span>|<span class="string">     </span>|<span class="string">   </span>|<span class="string">   </span>|<span class="string">      </span>|<span class="string">                </span>|<span class="string">                </span>|</span><br><span class="line">    |<span class="string">     </span>|<span class="string">   </span>|<span class="string">   </span>|<span class="string">      </span>|<span class="string">                </span>|<span class="string">                â””â”€â”€ å¯é€‰åŸŸ (æƒå¨æ¨¡å¼)</span></span><br><span class="line"><span class="string">    </span>|<span class="string">     </span>|<span class="string">   </span>|<span class="string">   </span>|<span class="string">      </span>|<span class="string">                </span>|</span><br><span class="line">    |<span class="string">     </span>|<span class="string">   </span>|<span class="string">   </span>|<span class="string">      </span>|<span class="string">                â””â”€â”€ å¯†æ–‡åˆ†ç‰‡(Base64ï¼Œâ‰¤30/æ®µ)    </span></span><br><span class="line"><span class="string">    </span>|<span class="string">     </span>|<span class="string">   </span>|<span class="string">   </span>|<span class="string">      </span>|</span><br><span class="line">    |<span class="string">     </span>|<span class="string">   </span>|<span class="string">   </span>|<span class="string">      â””â”€â”€ éšæœºæ•° (Base32)</span></span><br><span class="line"><span class="string">    </span>|<span class="string">     </span>|<span class="string">   </span>|<span class="string">   </span>|</span><br><span class="line">    |<span class="string">     </span>|<span class="string">   </span>|<span class="string">   â””â”€â”€ åˆ†ç‰‡å· (ä»0é€’å¢)</span></span><br><span class="line"><span class="string">    </span>|<span class="string">     </span>|<span class="string">   </span>|<span class="string"> </span></span><br><span class="line"><span class="string">    </span>|<span class="string">     </span>|<span class="string">   â””â”€â”€ æ•°æ®åŒ…ç±»å‹ (u = æ¶ˆæ¯)</span></span><br><span class="line"><span class="string">    </span>|<span class="string">     </span>|</span><br><span class="line">    |<span class="string">     â””â”€â”€ ä¼šè¯ ID (Base32)</span></span><br><span class="line"><span class="string">    </span>|</span><br><span class="line">    â””â”€â”€ ç»„ ID (Base32)</span><br></pre></td></tr></table></figure>

<p>ä¸Šè¡Œæ•°æ®åŒ… (è½®è¯¢)</p>
<figure class="highlight gherkin"><table><tr><td class="code"><pre><span class="line"><span class="variable">&lt;group&gt;</span>.<span class="variable">&lt;sid&gt;</span>.p.0.<span class="variable">&lt;nonce&gt;</span>[.<span class="variable">&lt;TLD&gt;</span>].</span><br><span class="line">^------^-----^-^-^--------^------^</span><br><span class="line">   |<span class="string">      </span>|<span class="string">   </span>|<span class="string"> </span>|<span class="string">    </span>|<span class="string">       </span>|</span><br><span class="line">   |<span class="string">      </span>|<span class="string">   </span>|<span class="string"> </span>|<span class="string">    </span>|<span class="string">       â””â”€â”€ å¯é€‰åŸŸ (æƒå¨æ¨¡å¼)</span></span><br><span class="line"><span class="string">   </span>|<span class="string">      </span>|<span class="string">   </span>|<span class="string"> </span>|<span class="string">    </span>|</span><br><span class="line">   |<span class="string">      </span>|<span class="string">   </span>|<span class="string"> </span>|<span class="string">    â””â”€â”€ éšæœºæ•° (Base32)</span></span><br><span class="line"><span class="string">   </span>|<span class="string">      </span>|<span class="string">   </span>|<span class="string"> </span>|</span><br><span class="line">   |<span class="string">      </span>|<span class="string">   </span>|<span class="string"> â””â”€â”€ å›ºå®š 0 (ç®€å•è½®è¯¢)</span></span><br><span class="line"><span class="string">   </span>|<span class="string">      </span>|<span class="string">   </span>|</span><br><span class="line">   |<span class="string">      </span>|<span class="string">   â””â”€â”€ æ•°æ®åŒ…ç±»å‹ (p = è½®è¯¢)</span></span><br><span class="line"><span class="string">   </span>|<span class="string">      </span>|</span><br><span class="line">   |<span class="string">      â””â”€â”€ ä¼šè¯ ID (Base32)</span></span><br><span class="line"><span class="string">   </span>|</span><br><span class="line">   â””â”€â”€ ç»„ ID (Base32)</span><br></pre></td></tr></table></figure>

<p>æœåŠ¡ç«¯å†³ç­–</p>
<figure class="highlight elm"><table><tr><td class="code"><pre><span class="line">æœåŠ¡ç«¯æ”¶åˆ°<span class="type">DNS</span>æŸ¥è¯¢</span><br><span class="line">    â”‚</span><br><span class="line">    â”œâ”€ æŸ¥è¯¢ç±»å‹<span class="type">TXT</span>? â”€â”€å¦â”€â”€&gt; <span class="type">TXT</span> <span class="string">&quot;ok&quot;</span></span><br><span class="line">    â”‚             â”‚</span><br><span class="line">    â”‚             |æ˜¯</span><br><span class="line">    â”‚             â”‚</span><br><span class="line">    â”œâ”€ åŸŸåæ ¼å¼æ­£ç¡®? â”€â”€å¦â”€â”€&gt; <span class="type">TXT</span> <span class="string">&quot;ok&quot;</span></span><br><span class="line">    â”‚             â”‚</span><br><span class="line">    â”‚             |æ˜¯</span><br><span class="line">    â”‚             â”‚</span><br><span class="line">    â”œâ”€ è§£æåŸŸåæ ‡ç­¾</span><br><span class="line">    â”‚   â”œâ”€ æå–: group, sid, <span class="keyword">type</span>, seq, nonce, payload</span><br><span class="line">    â”‚   â”‚</span><br><span class="line">    â”‚   â””â”€ <span class="type">Base32</span>è§£ç æˆåŠŸ? â”€â”€å¦â”€â”€&gt; <span class="type">TXT</span> <span class="string">&quot;ok&quot;</span></span><br><span class="line">    â”‚                    â”‚</span><br><span class="line">    â”‚                    |æ˜¯</span><br><span class="line">    â”‚                    â”‚</span><br><span class="line">    â”œâ”€ æ›´æ–°ä¼šè¯(touch)</span><br><span class="line">    â”‚   â””â”€ è®°å½•: sid, group, æœ€åæ´»è·ƒæ—¶é—´</span><br><span class="line">    â”‚</span><br><span class="line">    â”œâ”€ åˆ¤æ–­ç±»å‹ (<span class="keyword">type</span>)</span><br><span class="line">    â”‚   â”‚</span><br><span class="line">    â”‚   â”œâ”€ <span class="keyword">type</span> = &quot;u&quot; (æ¶ˆæ¯è¯·æ±‚)</span><br><span class="line">    â”‚   â”‚   â”‚</span><br><span class="line">    â”‚   â”‚   â”œâ”€ è§£å¯†payload</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚</span><br><span class="line">    â”‚   â”‚   â”‚   â”œâ”€ æˆåŠŸ? â”€â”€å¦â”€â”€&gt; <span class="type">TXT</span> <span class="string">&quot;bad&quot;</span></span><br><span class="line">    â”‚   â”‚   â”‚   â”‚      â”‚</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚      |æ˜¯</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚      â”‚</span><br><span class="line">    â”‚   â”‚   â”‚   â”œâ”€ å¹¿æ’­åˆ°åŒç»„å…¶ä»–ä¼šè¯</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚    â””â”€ æ”¾å…¥å„ä¼šè¯çš„ä¸‹è¡Œé˜Ÿåˆ—</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚</span><br><span class="line">    â”‚   â”‚   â”‚   â””â”€ æ„é€ <span class="type">ACK</span>å“åº”</span><br><span class="line">    â”‚   â”‚   â”‚       â”œâ”€ æ˜æ–‡: <span class="string">&quot;ok&quot;</span> + <span class="number">4</span> å­—èŠ‚åºåˆ—å·</span><br><span class="line">    â”‚   â”‚   â”‚       â”œâ”€ åŠ å¯†: <span class="type">AES</span>-<span class="type">GCM</span></span><br><span class="line">    â”‚   â”‚   â”‚       â””â”€ è¿”å›: <span class="type">TXT</span> <span class="string">&quot;&lt;encrypted_ack&gt;&quot;</span></span><br><span class="line">    â”‚   â”‚   â”‚</span><br><span class="line">    â”‚   â”‚   â””â”€â”€&gt; [ä¸Šè¡Œç¡®è®¤åŒ…]</span><br><span class="line">    â”‚   â”‚</span><br><span class="line">    â”‚   â”œâ”€ <span class="keyword">type</span> = &quot;p&quot; (è½®è¯¢è¯·æ±‚)</span><br><span class="line">    â”‚   â”‚   â”‚</span><br><span class="line">    â”‚   â”‚   â”œâ”€ è·å–ä¼šè¯(sid)</span><br><span class="line">    â”‚   â”‚   â”‚</span><br><span class="line">    â”‚   â”‚   â”œâ”€ æ£€æŸ¥ä¸‹è¡Œé˜Ÿåˆ—</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚</span><br><span class="line">    â”‚   â”‚   â”‚   â”œâ”€ é˜Ÿåˆ—éç©º?</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚   â”‚</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚   â”œâ”€ æ˜¯: å–å‡ºç¬¬ä¸€æ¡æ¶ˆæ¯</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€ åŠ å¯†æ¶ˆæ¯</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€ <span class="type">Base64URL</span> ç¼–ç </span><br><span class="line">    â”‚   â”‚   â”‚   â”‚   â”‚   â”œâ”€ æŒ‰ maxLength åˆ†ç‰‡</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚   â”‚   â””â”€ è¿”å›: <span class="type">TXT</span> <span class="string">&quot;&lt;ç‰‡æ®µ1&gt;&quot;</span> <span class="string">&quot;&lt;ç‰‡æ®µ2&gt;&quot;</span> ...</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚   â”‚       â””â”€â”€&gt; [ä¸‹è¡Œæ¶ˆæ¯åŒ…]</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚   â”‚</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚   â””â”€ å¦: è¿”å›ç©ºå†…å®¹</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚       â”œâ”€ åŠ å¯†ç©ºå­—èŠ‚æ•°ç»„</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚       â””â”€ è¿”å›: <span class="type">TXT</span> <span class="string">&quot;&lt;encrypted_empty&gt;&quot;</span></span><br><span class="line">    â”‚   â”‚   â”‚   â”‚           â””â”€â”€&gt; [ç©ºå“åº”åŒ…]</span><br><span class="line">    â”‚   â”‚   â”‚   â”‚</span><br><span class="line">    â”‚   â”‚   â”‚   â””â”€ åŠ å¯†å¤±è´¥? â”€â”€&gt; <span class="type">TXT</span> <span class="string">&quot;bad&quot;</span></span><br><span class="line">    â”‚   â”‚   â”‚</span><br><span class="line">    â”‚   â”‚   â””â”€â”€&gt; æ ¹æ®é˜Ÿåˆ—çŠ¶æ€è¿”å›</span><br><span class="line">    â”‚   â”‚</span><br><span class="line">    â”‚   â””â”€ <span class="keyword">type</span> = å…¶ä»–</span><br><span class="line">    â”‚       â””â”€â”€&gt; <span class="type">TXT</span> <span class="string">&quot;noop&quot;</span></span><br><span class="line">    â”‚</span><br><span class="line">    â””â”€ å‘é€<span class="type">DNS</span>å“åº”</span><br></pre></td></tr></table></figure>

<p>æœ€åå°±æ˜¯å®ç°</p>
<figure class="link-card">
  <a class="link-card__wrap" target="_blank" rel="noopener noreferrer" href="https://github.com/bob-zebedy/dnsay">
    <div class="link-card__content">
      <div class="link-card__title">bob-zebedy/dnsay - GitHub</div>
      <div class="link-card__meta">
        <svg class="link-card__link-icon" viewBox="0 0 24 24" width="12" height="12">
          <path fill="currentColor" d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"></path>
        </svg>
        <span class="link-card__domain">github.com</span>
      </div>
    </div>
  </a>
</figure>
]]></content>
  </entry>
  <entry>
    <title>æ­å»ºå®¶åº­ç§äºº GitLab æœåŠ¡å™¨</title>
    <url>/post/8d4f8799.html</url>
    <content><![CDATA[<p>å¤§æ¦‚ä»Šå¹´ï¼ˆ2022ï¼‰ä¸€æœˆä¸­æ—¬çš„æ—¶å€™å…¥æ‰‹äº†ä¸€ä¸ª <span class="exturl" data-url="aHR0cHM6Ly9yODZzLm5ldC8=">R86S<i class="fa fa-external-link-alt"></i></span> çš„å°ä¸»æœºã€‚å› ä¸ºé”™è¿‡äº†ä¼—ç­¹çš„è½¦ï¼Œæ‰€ä»¥æ˜¯ç›´æ¥ä¸‹çš„å•ã€‚æœ€åå…¥æ‰‹äº† 16G çš„é»‘è‰²åƒå…†ç‰ˆæœ¬ã€‚ä¸ä¸Šä¸‡å…†ä¸€ä¸ªåŸå› æ˜¯å®¶é‡Œæ²¡æœ‰è¿™ä¸ªéœ€æ±‚ï¼Œè¿˜æœ‰ä¸€ä¸ªå°±æ˜¯ä¸‡å…†ç‰ˆçš„æ²¡æœ‰ NVME ç¡¬ç›˜ä½ï¼Œè¿™ä¸€ç‚¹å¯¹æˆ‘è¿˜æ˜¯åˆšéœ€ã€‚</p>
<span id="more"></span>

<p>æœ€åç”¨äº†å·®ä¸å¤šä¸€å‘¨çš„æ—¶é—´ï¼Œç»ˆäºåœ¨å¹´å‰ï¼Œè¿™ä¸ªå¿ƒå¿ƒå¿µçš„å°ä¸»æœºåˆ°æ‰‹äº†ã€‚<br>æœ‰å…³è¿™ä¸ªå°ä¸»æœºæˆ‘å°±ä¸å¤šåšä»‹ç»äº†ï¼Œä»Šå¤©ä¸»è¦æ˜¯ä»‹ç»ä¸€ä¸‹æˆ‘æ€ä¹ˆç”¨å®ƒåœ¨æˆ‘çš„å®¶åº­ç¯å¢ƒæ­å»ºä¸€ä¸ªç§äººçš„ GitLabã€‚è¿™ç¯‡æ–‡ç« ä»æˆ‘ä¸ºä»€ä¹ˆè¦æ­å»ºå®¶åº­ç§äºº GitLab ä»¥åŠå¦‚ä½•æ­å»ºã€‚éƒ½ä¼šéƒ½åšä¸€ä¸ªæ¯”è¾ƒè¯¦ç»†çš„ä»‹ç»ã€‚</p>
<h1 id="åˆè¡·"><a href="#åˆè¡·" class="headerlink" title="åˆè¡·"></a>åˆè¡·</h1><p>å®¶é‡Œæ˜¯æœ‰ä¸€ä¸ª J4125 çš„è½¯è·¯ç”±ï¼Œå»å¹´å¾ˆæ—©å°±ä¹°äº†ã€‚ä¸€ç›´åœ¨æˆ‘å®¶ä½œä¸ºä¸»è·¯ç”±è´Ÿè´£æ‹¨å·å’Œç§‘å­¦ä¸Šç½‘çš„åŠŸèƒ½ï¼Œç”¨çš„ OpenWrt ä¹Ÿæ˜¯æˆ‘è‡ªå·±é…ç½®å’Œ GitHub Action ç¼–è¯‘çš„ï¼Œä¹Ÿæ»¡è¶³äº†æˆ‘å®¶çš„åŸºæœ¬éœ€æ±‚ã€‚è€Œä¸”ä¹Ÿå› ä¸ºæ˜¯ç‰©ç†æœºç›´è£…ï¼Œå†åŠ ä¸Šå®³æ€• J4125 ç©èµ·æ¥æ€•æ€§èƒ½ä¸å¤Ÿï¼Œå†å½±å“äº†æ­£å¸¸çš„ç½‘ç»œã€‚æ‰€ä»¥ä¹Ÿå°±ä¸æƒ³å†æŠ˜è…¾ä»–äº†ï¼Œå°±è®©ä»–å®‰å®‰å¿ƒå¿ƒåšæˆ‘å®¶çš„è·¯ç”±å™¨å°±å¥½äº†ã€‚</p>
<p>ä½†ä¸æ­¤åŒæ—¶å‘¢ï¼Œä½œä¸ºä¸€ä¸ªçˆ±æŠ˜è…¾çš„ç¨‹åºå‘˜ï¼Œèº«è¾¹çš„å¾ˆå¤šä¸ç®¡æ˜¯ç¡¬ä»¶è¿˜æ˜¯è½¯ä»¶çš„å°ç©æ„å„¿éƒ½æ˜¯æœ‰ç‰¹åˆ«çš„éœ€æ±‚çš„ã€‚</p>
<p>å°±æ¯”å¦‚å»å¹´ï¼ˆ2021ï¼‰å¹´ä¹°çš„ä¸€ä¸ª <span class="exturl" data-url="aHR0cHM6Ly9kcm9wLmNvbS9idXkvc3RhY2stb3ZlcmZsb3ctdGhlLWtleS1tYWNyb3BhZA==">STACK OVERFLOW THE KEY MACROPAD<i class="fa fa-external-link-alt"></i></span> é”®ç›˜ï¼Œé…ä¸Šä»æ·˜å®ä¹°çš„é”®å¸½ï¼Œå› ä¸ºä½¿ç”¨ QMK çš„é”®ç›˜æ–¹æ¡ˆï¼Œæ‰€ä»¥å¯ä»¥å®šåˆ¶å›ºä»¶ã€‚ç°åœ¨å·²ç»æˆä¸ºäº†æˆ‘çš„ä¸“ç”¨å¯†ç è¾“å…¥å™¨ã€‚ä½†æ˜¯é—®é¢˜æ¥äº†ï¼Œå› ä¸ºæˆ‘ç°åœ¨è¿˜å°è¯•çœ‹ä»–è¿˜æœ‰æ²¡åˆ«çš„å¥½ç©çš„ä¸œè¥¿ï¼Œæ‰€ä»¥æˆ‘éœ€è¦å¯¹è¿™ä¸ªé”®ç›˜å›ºä»¶çš„ä»£ç ä¸æ–­è¿›è¡Œä¿®æ”¹ã€ç¼–è¯‘ã€åˆ·å…¥ï¼Œç„¶åå†å°è¯•ä¿®æ”¹ã€ç¼–è¯‘ã€åˆ·å…¥ã€‚è¿™æ ·çš„æ“ä½œé‡å¤èµ·æ¥ä¼šè®©äººå¾ˆç¹çï¼Œä½†æ˜¯å› ä¸ºå›ºä»¶ä¸­å­˜åœ¨ä¸€äº›æ•æ„Ÿä»£ç ï¼ˆæ¯”å¦‚æˆ‘çš„å„ç§å¯†ç ï¼‰æ‰€ä»¥ä¸æ–¹ä¾¿æ‰˜ç®¡åˆ° GitHubã€‚æ‰€ä»¥ä¹‹å‰æˆ‘å°±åœ¨æƒ³è¦æ˜¯èƒ½æœ‰ä¸€ä¸ªç§äººçš„ Git å¤šå¥½ã€‚é™¤äº†ä»£ç çš„æ‰˜ç®¡ï¼Œå¦‚æœè¿˜å¯ä»¥åŠ å…¥ CI&#x2F;CD è¿™ç§æŒç»­é›†æˆçš„èƒ½åŠ›ï¼Œå°±å¯ä»¥è§£æ”¾å¾ˆå¤šæ— è°“çš„é‡å¤çš„åŠ³åŠ¨ã€‚è€Œèƒ½åŒæ—¶æ»¡è¶³è¿™ä¸ªéœ€æ±‚çš„è®©æˆ‘æƒ³åˆ°çš„ç¬¬ä¸€ä¸ªè§£å†³æ–¹æ¡ˆå°±æ˜¯ GitLab äº†ã€‚</p>
<p>é™¤äº†ä¸Šé¢è¯´çš„é‚£ä¸ªé”®ç›˜å›ºä»¶ï¼Œè¿˜æœ‰æ¯”å¦‚è¯´æˆ‘çš„ Rimeï¼ˆé¼ é¡»ç®¡ï¼‰çš„é…ç½®æ–‡ä»¶ï¼Œå› ä¸ºè¯åº“ä¸­æœ‰å¾ˆå¤šçš„è‡ªå®šä¹‰è¯ï¼Œä»¥åŠè¿˜æœ‰äººåé€šè®¯åœ°å€ä¹‹ç±»çš„æ•æ„Ÿè¯ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯ä¸æ–¹ä¾¿æŠŠè¿™ä¸ªé…ç½®ç›´æ¥æ‰˜ç®¡åœ¨ GitHub ä¸Šçš„ã€‚</p>
<p>è¿˜æœ‰ç°åœ¨çœ‹åˆ°çš„è¿™ä¸ªåšå®¢ï¼Œç”¨ Hexo ç”Ÿæˆçš„ GitHub Pages é™æ€é¡µé¢ï¼Œåšå®¢æœ¬èº«çš„ä»£ç æˆ‘ä¸æƒ³æ”¾åˆ° GitHub ä¸Šï¼Œæ‰€ä»¥è¿™æ—¶å€™çš„æˆ‘ä¹Ÿéœ€è¦ä¸€ä¸ªç§äººçš„ GitLabã€‚é™¤äº†èƒ½å®ç°ä»£ç çš„æ‰˜ç®¡ï¼Œè¿˜èƒ½é¡ºä¾¿åˆ©ç”¨ GitLab CI å®ç°ä¸€é”®å‘å¸ƒï¼Œæ¯æ¬¡åªè¦æäº¤äº†ä»£ç ï¼Œç¨ç­‰ç‰‡åˆ» GitHub Pages å°±è‡ªåŠ¨éƒ¨ç½²å¥½äº†ã€‚</p>
<h1 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h1><p>ä¸Šé¢è¯´äº†é‚£ä¹ˆå¤šã€‚ç°åœ¨æœ‰äº† R86S è¿™æ ·ä¸€ä¸ªæ€§èƒ½è·Ÿå¾—ä¸Šçš„å°ä¸»æœºï¼Œåœ¨ä¸œè¥¿åˆ°è´§çš„ç¬¬äºŒå¤©ï¼Œå°±å¼€å§‹äº†ä»–çš„æŠ˜è…¾ä¹‹è·¯ã€‚</p>
<h2 id="å®‰è£…ç¡¬ä»¶"><a href="#å®‰è£…ç¡¬ä»¶" class="headerlink" title="å®‰è£…ç¡¬ä»¶"></a>å®‰è£…ç¡¬ä»¶</h2><p>å› ä¸ºè¿™ä¸ª R86S åªå¸¦äº†ä¸€ä¸ªç”µæºï¼Œå†…ç½®çš„ä¸€ä¸ª EMMC å®¹é‡åªæœ‰ 128G ä¸”æ€§èƒ½å ªå¿§ã€‚æ‰€ä»¥ç¬¬ä¸€æ­¥æ˜¯å®‰è£…ä¸€ä¸ªè‡ªå·±çš„ NVME å›ºæ€ã€‚è®°å¾—ä¹‹å‰æœ‰ä¸€å—ä¹°å¤šäº†çš„åƒç°ä¸‰æ˜Ÿ 980 Pro 500Gï¼Œéƒ½æ²¡æœ‰å¼€å°ã€‚ä¹‹å‰è¿˜å·®ç‚¹ç»™æŒ‚åˆ°æµ·é²œå¸‚åœºå‡ºæ‰ï¼Œç°åœ¨ç»ˆäºæ´¾ä¸Šç”¨åœºäº†ã€‚<br>å®‰è£…å¥½ç¡¬ç›˜ç„¶åæ‰¾ä¸€ä¸ªç½‘çº¿ï¼Œè¿æ¥å¥½è·¯ç”±å™¨çš„ LAN å£å’Œ R86S çš„éšä¾¿ä¸€ä¸ªç½‘å£ã€‚è¿æ¥å¥½é”®ç›˜é¼ æ ‡ï¼Œå°±å¯ä»¥æ’ä¸Šç”µæºè‡ªåŠ¨ä¸Šç”µå¼€æœºäº†ã€‚</p>
<h2 id="å®‰è£…ç³»ç»Ÿ"><a href="#å®‰è£…ç³»ç»Ÿ" class="headerlink" title="å®‰è£…ç³»ç»Ÿ"></a>å®‰è£…ç³»ç»Ÿ</h2><p>æ—¢ç„¶æ˜¯æ˜¯è¦åšå°å‹æœåŠ¡å™¨ï¼Œå“ªæœ‰ç”¨æ¡Œé¢æ“ä½œç³»ç»Ÿçš„ã€‚æ‰€ä»¥è¿™é‡Œå°±é€‰æ‹©äº† <span class="exturl" data-url="aHR0cHM6Ly91YnVudHUuY29tL2Rvd25sb2FkL3NlcnZlcg==">Ubuntu Server 20.04.3 LTS<i class="fa fa-external-link-alt"></i></span>ã€‚ä¸‹è½½å®Œé•œåƒåï¼Œå†™å…¥åˆ° U ç›˜ã€‚ç„¶åå°±å¯ä»¥é€šè¿‡ U ç›˜ å¯åŠ¨å°±å¯ä»¥è¿›å®‰è£…ç¯èŠ‚äº†ã€‚<br>å®‰è£…ç³»ç»Ÿæœ‰å‡ ä¸ªç‚¹éœ€è¦æ³¨æ„ä¸€ä¸‹</p>
<ol>
<li><p>åˆ†é… IP åœ°å€çš„æ–¹å¼</p>
<p>åœ¨è¿›è¡Œç½‘ç»œé…ç½®çš„æ—¶å€™ï¼Œæ—¢å¯ä»¥é€šè¿‡ DHCP åŠ¨æ€åˆ†é… IPï¼Œä¹Ÿå¯ä»¥æ‰‹åŠ¨æŒ‡å®šã€‚å¦‚æœæ˜¯ DHCP åˆ†é…ï¼Œåˆ™åç»­éœ€è¦åˆ°è·¯ç”±å™¨ä¸­ç»‘å®šä¸€ä¸‹ Mac åœ°å€å’Œ IPï¼Œæ¯•ç«Ÿæˆ‘ä»¬åœ¨å†…ç½‘è®¿é—®ä¹Ÿæ˜¯éœ€è¦æœ‰ä¸€ä¸ªå†…ç½‘çš„å›ºå®š IPã€‚é€šè¿‡æ‰‹åŠ¨æŒ‡å®š IP åœ°å€ï¼Œè¦æ³¨æ„ä¸è¦å’Œç°æœ‰åˆ†é…çš„çš„åœ°å€å†²çªã€‚æ‰‹åŠ¨æŒ‡å®š IP å°±ä¸éœ€è¦åç»­åˆ°è·¯ç”±å™¨ç»‘å®š Mac åœ°å€å’Œ IP äº†ã€‚</p>
</li>
<li><p>é€‰æ‹©å®‰è£…ç¡¬ç›˜</p>
<p>å› ä¸ºä¸»æ¿ä¸Šå¸¦ä¸€ä¸ª EMMCï¼Œæ‰€ä»¥åœ¨é€‰æ‹©ç¡¬ç›˜çš„æ—¶å€™è®°å¾—é€‰è‡ªå·±å®‰è£…çš„ NVME SSD ä¸Šï¼Œè€Œä¸”è°ƒæ•´æ ¹ç›®å½•å¤§å°è°ƒæ•´ä¸ºå‰©ä½™ SSD æ‰€ç”±ç©ºé—´ã€‚å¦åˆ™æ ¹ç›®å½•é»˜è®¤åªåˆ’åˆ†äº† 100Gï¼Œåé¢è¿›å…¥ç³»ç»Ÿåè¿˜éœ€è¦æ‰‹åŠ¨æ‰©å®¹ã€‚</p>
</li>
<li><p>å®‰è£…åä¿®æ”¹ç½‘ç»œé…ç½®</p>
<p>å®‰è£…å®Œç³»ç»Ÿåé‡æ–°å¯åŠ¨æœ‰å¯èƒ½ä¼šå‡ºç°æ—¥å¿— <code>A start job is running for wait for network to be configured.</code> å¯¼è‡´éœ€è¦å¾ˆé•¿æ—¶é—´æ‰èƒ½è¿›å…¥ç³»ç»Ÿã€‚è¿™æ—¶å€™éœ€è¦ç­‰è¿›åˆ°ç³»ç»Ÿåä¿®æ”¹ç½‘ç»œé…ç½®æ–‡ä»¶</p>
<p><code>/etc/netplan/00-installer-config.yaml</code>ï¼ˆæ–‡ä»¶å <code>00-installer-config.yaml</code> ä¸å›ºå®šï¼Œä½†æ˜¯æ–‡ä»¶åç±»ä¼¼çš„ä¸€ä¸ª <code>yaml</code> æ–‡ä»¶)</p>
<p>åœ¨æ¯ä¸€ä¸ªè®¾å¤‡ä¸‹é¢æ·»åŠ  <code>optional: true</code></p>
<p>æœ€åçš„é…ç½®åº”è¯¥ç±»ä¼¼</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">network:</span></span><br><span class="line">  <span class="attr">ethernets:</span></span><br><span class="line">    <span class="attr">enp1s0:</span></span><br><span class="line">      <span class="attr">dhcp4:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">optional:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">enp2s0:</span></span><br><span class="line">      <span class="attr">dhcp4:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">optional:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">enp3s0:</span></span><br><span class="line">      <span class="attr">dhcp4:</span> <span class="literal">true</span></span><br><span class="line">      <span class="attr">optional:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">version:</span> <span class="number">2</span></span><br></pre></td></tr></table></figure>

<p>ç„¶ååº”ç”¨æ›´æ”¹</p>
<figure class="highlight coq"><table><tr><td class="code"><pre><span class="line">netplan <span class="built_in">apply</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="åˆ›å»º-GitLab-å¤‡ä»½ä½ç½®"><a href="#åˆ›å»º-GitLab-å¤‡ä»½ä½ç½®" class="headerlink" title="åˆ›å»º GitLab å¤‡ä»½ä½ç½®"></a>åˆ›å»º GitLab å¤‡ä»½ä½ç½®</h2><p>ä¸Šé¢è¯´åˆ°äº†ï¼Œè¿™ä¸ª R86S è‡ªå¸¦ä¸€ä¸ª 128G çš„ EMMC å­˜å‚¨ï¼Œè™½ç„¶æ€§èƒ½æ¯”è¾ƒå·®ï¼Œä½†æ˜¯ä¸œè¥¿ä¸èƒ½æµªè´¹äº†ã€‚æ‰€ä»¥è¿™é‡Œæˆ‘æ‹¿æ¥ä½œä¸ºä¸€ä¸ªç‹¬ç«‹çš„ GitLab æ•°æ®å¤‡ä»½å­˜å‚¨ï¼Œå³ä½¿æ˜¯ä¸»ç¡¬ç›˜æŒ‚äº†ï¼Œè¿˜æœ‰ä¸€ä»½ç‹¬ç«‹çš„å¤‡ä»½å­˜åœ¨ï¼Œè€Œä¸”çŸ­æ—¶é—´å†… 128G è¿˜æ˜¯å¤Ÿç”¨çš„ã€‚</p>
<h3 id="åˆ›å»ºæ–°çš„ç¡¬ç›˜åˆ†åŒº"><a href="#åˆ›å»ºæ–°çš„ç¡¬ç›˜åˆ†åŒº" class="headerlink" title="åˆ›å»ºæ–°çš„ç¡¬ç›˜åˆ†åŒº"></a>åˆ›å»ºæ–°çš„ç¡¬ç›˜åˆ†åŒº</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> cfdisk /dev/mmcblk0        <span class="comment"># mmcblk0 æ˜¯ EMMC è®¾å¤‡</span></span><br><span class="line"><span class="built_in">sudo</span> mkfs.ext4 /dev/mmcblk0     <span class="comment"># æ ¼å¼åŒ–ä¸º ext4</span></span><br></pre></td></tr></table></figure>

<h3 id="æŒ‚è½½åˆ°-mmc"><a href="#æŒ‚è½½åˆ°-mmc" class="headerlink" title="æŒ‚è½½åˆ° &#x2F;mmc"></a>æŒ‚è½½åˆ° &#x2F;mmc</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> vim /etc/fstab</span><br><span class="line"><span class="comment"># æ·»åŠ ä¸€è¡Œ</span></span><br><span class="line">/dev/mmcblk0 /mmc ext4 defaults 0 0</span><br></pre></td></tr></table></figure>

<h2 id="å®‰è£…-GitLab"><a href="#å®‰è£…-GitLab" class="headerlink" title="å®‰è£… GitLab"></a>å®‰è£… GitLab</h2><h3 id="å®‰è£…ä¾èµ–"><a href="#å®‰è£…ä¾èµ–" class="headerlink" title="å®‰è£…ä¾èµ–"></a>å®‰è£…ä¾èµ–</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install -y curl openssh-server ca-certificates tzdata perl</span><br></pre></td></tr></table></figure>

<h3 id="æ·»åŠ -GitLab-æº"><a href="#æ·»åŠ -GitLab-æº" class="headerlink" title="æ·»åŠ  GitLab æº"></a>æ·»åŠ  GitLab æº</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">curl -sS https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.deb.sh | <span class="built_in">sudo</span> bash</span><br></pre></td></tr></table></figure>

<h3 id="å®‰è£…-GitLab-1"><a href="#å®‰è£…-GitLab-1" class="headerlink" title="å®‰è£… GitLab"></a>å®‰è£… GitLab</h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> apt install gitlab-ce</span><br></pre></td></tr></table></figure>

<h3 id="è·å–-root-ç”¨æˆ·å¯†ç "><a href="#è·å–-root-ç”¨æˆ·å¯†ç " class="headerlink" title="è·å– root ç”¨æˆ·å¯†ç "></a>è·å– root ç”¨æˆ·å¯†ç </h3><figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/gitlab/initial_root_password</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼Œè¿™ä¸ªæ–‡ä»¶åé¢ä¼šè¢«è‡ªåŠ¨åˆ é™¤ã€‚å› æ­¤è¯·åŠæ—¶ä¿ç®¡å¥½è¯¥å¯†ç æˆ–è€…åŠæ—¶è¿›è¡Œä¿®æ”¹ã€‚</strong></p>
<h3 id="é…ç½®-GitLab"><a href="#é…ç½®-GitLab" class="headerlink" title="é…ç½® GitLab"></a>é…ç½® GitLab</h3><p>å¦‚æœä¸Šé¢å‡ æ­¥éƒ½æ¯”è¾ƒé¡ºåˆ©ï¼Œä¸å‡ºæ„å¤–ï¼Œç°åœ¨åº”è¯¥å·²ç»åœ¨è¿™ä¸ªç³»ç»Ÿä¸­å®‰è£…å¥½äº† GitLabã€‚æ¥ä¸‹æ¥å…ˆè¿›è¡Œä¸€äº›ç®€è¦åœ°é…ç½®ã€‚</p>
<p>GitLab çš„é…ç½®æ–‡ä»¶æ˜¯ <code>/etc/gitlab/gitlab.rb</code></p>
<p>æˆ‘å®¶ OpenWrt ä¸»è·¯ç”±åœ¨ DHCP ä¸­è®¾ç½®çš„ <code>æœ¬åœ°æœåŠ¡å™¨</code> å’Œ <code>æœ¬åœ°åŸŸå</code> åˆ†åˆ«ä¸º <code>/home/</code> å’Œ <code>home</code>ï¼ŒåŒæ—¶æˆ‘ä¹Ÿå¸Œæœ›èƒ½é€šè¿‡åŸŸåè®¿é—®è¿™ä¸ª GitLab æœåŠ¡å™¨ã€‚æ‰€ä»¥æˆ‘è¿˜æ·»åŠ äº†ä¸€æ¡ <code>è‡ªå®šä¹‰æŒŸæŒåŸŸå</code>ï¼Œå…¶ä¸­åŸŸåä¸º <code>git</code>ï¼ŒIP åœ°å€ä¸º R86S åˆ†é…çš„å›ºå®š IPï¼ˆæ¯”å¦‚æˆ‘å®¶çš„æ˜¯ <code>192.168.50.50</code>ï¼‰ã€‚è¿™æ ·æˆ‘å°±å¯ä»¥é€šè¿‡åŸŸå <code>http://git.home</code> æ¥è®¿é—®è¿™ä¸ª GitLab æœåŠ¡å™¨äº†ã€‚</p>
<p>æ ¹æ®ä»¥ä¸Šå‰æï¼Œè¿™é‡Œéœ€è¦ä¿®æ”¹çš„å‡ ä¸ªåœ°æ–¹</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">external_url</span> <span class="string">&#x27;http://git.home&#x27;</span></span><br><span class="line"><span class="string">gitlab_rails[&#x27;gitlab_ssh_host&#x27;]</span> <span class="string">=</span> <span class="string">&#x27;git.home&#x27;</span></span><br><span class="line"><span class="string">gitlab_rails[&#x27;time_zone&#x27;]</span> <span class="string">=</span> <span class="string">&#x27;Asia/Shanghai&#x27;</span></span><br><span class="line"><span class="string">gitlab_rails[&#x27;backup_path&#x27;]</span> <span class="string">=</span> <span class="string">&#x27;/mmc&#x27;</span></span><br></pre></td></tr></table></figure>

<p><code>backup_path</code> å³ä¸º <a href="#%E5%88%9B%E5%BB%BA-GitLab-%E5%A4%87%E4%BB%BD%E4%BD%8D%E7%BD%AE">EMMC è®¾å¤‡çš„æŒ‚è½½ç‚¹</a></p>
<p>ä¿®æ”¹å®Œ <code>gitlab.rb</code> åéœ€è¦é‡æ–°é…ç½® GitLab æ‰èƒ½ç”Ÿæ•ˆ</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="built_in">sudo</span> gitlab-ctl reconfigure</span><br></pre></td></tr></table></figure>

<p>ç¨ç­‰ç‰‡åˆ»ï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ <span class="exturl" data-url="aHR0cDovL2dpdC5ob21lLw==">http://git.home<i class="fa fa-external-link-alt"></i></span> å°±å¯ä»¥çœ‹åˆ°æ­å»ºå¥½çš„ GitLab äº†ã€‚</p>
]]></content>
  </entry>
  <entry>
    <title>æ›´æ”¹ macOS å¼ºè°ƒè‰²</title>
    <url>/post/c59c6467.html</url>
    <content><![CDATA[<p>Apple åœ¨ <span class="exturl" data-url="aHR0cHM6Ly93d3cuYXBwbGUuY29tL2ltYWMtMjQ=">iMac 24â€<i class="fa fa-external-link-alt"></i></span> Mac ä¸­é¦–æ¬¡ä½¿ç”¨äº†æ–°çš„å¼ºè°ƒè‰²ï¼Œè¿™äº›å¼ºè°ƒè‰²æ˜¯è¿™äº› Mac ç‹¬æœ‰çš„ã€‚ä½†æ˜¯ç°åœ¨åªè¦æ˜¯ macOS 11.3.1 ä»¥ä¸Šçš„ç³»ç»Ÿï¼Œå³ä½¿ä¸æ˜¯ iMac 24â€ æœºå™¨ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨è¿™äº›ç‰¹æœ‰çš„å¼ºè°ƒè‰²ã€‚</p>
<span id="more"></span>

<p>é¦–å…ˆéœ€è¦å¼€å¯åŸºäºç¡¬ä»¶çš„å¼ºè°ƒè‰² <code>NSColorSimulateHardwareAccent</code> åŠŸèƒ½</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">defaults write -g NSColorSimulateHardwareAccent -bool YES</span><br></pre></td></tr></table></figure>

<p>ç„¶åé€šè¿‡ <code>NSColorSimulatedHardwareEnclosureNumber</code> é€‰æ‹©å…¶ä¸­ä»»æ„ä¸€ç§é¢œè‰²ã€‚å…¶ä¸­å¯é€‰çš„é¢œè‰²é€‰é¡¹ä¸º 3 åˆ° 8 (åŒ…å« 3 å’Œ 8)</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">defaults write -g NSColorSimulatedHardwareEnclosureNumber -int 3</span><br></pre></td></tr></table></figure>

<p>ç„¶åé‡æ–°å¯åŠ¨ç”µè„‘æˆ–è€…é€€å‡ºç™»å½•é‡æ–°ç™»å½•å³å¯ç”Ÿæ•ˆã€‚<br>ç„¶ååœ¨ <strong>ç³»ç»Ÿè®¾ç½®</strong> -&gt; <strong>å¤–è§‚é€‰é¡¹å¡</strong> -&gt; <strong>å¼ºè°ƒè‰²</strong> å’Œ <strong>é«˜äº®æ ‡è®°é¢œè‰²</strong> é€‰é¡¹ä¸­ä¼šå‡ºç°ä¸€ä¸ª <strong>è¿™å° Mac</strong> çš„é¢œè‰²é€‰é¡¹ï¼Œå…¶ä¸­é¢œè‰²å³ä¸ºä¸Šé¢è®¾ç½®çš„é¢œè‰²ã€‚</p>
<p>ä»¥ä¸‹æ˜¯ <code>NSColorSimulatedHardwareEnclosureNumber</code> ä¸åŒå€¼çš„å®é™…æ•ˆæœ</p>
<img data-src="https://images.zabrian.com/c5f66aed-fff8-43e1-940d-8388311a0a01/origin" title="é¢œè‰² 3" style="zoom:57%;" />

<img data-src="https://images.zabrian.com/38169874-ea75-4086-24b1-ccd6416e9701/origin" title="é¢œè‰² 4" style="zoom:57%;" />

<img data-src="https://images.zabrian.com/1683833a-7ee4-416a-5659-2a31fbe46001/origin" title="é¢œè‰² 5" style="zoom:57%;" />

<img data-src="https://images.zabrian.com/fe160cc7-b5cb-435d-374b-6cb2e744d901/origin" title="é¢œè‰² 6" style="zoom:57%;" />

<img data-src="https://images.zabrian.com/5a1dfe77-2619-435a-290f-d058a032b601/origin" title="é¢œè‰² 7" style="zoom:57%;" />

<img data-src="https://images.zabrian.com/6dcb7e11-165d-4547-1bd4-ff7e02a8c001/origin" title="é¢œè‰² 8" style="zoom:57%;" />
]]></content>
  </entry>
  <entry>
    <title>æœ‰ç‚¹æ„æ€çš„ Python ç³»åˆ—ä¸€ æ•°å­¦å‡½æ•°å’Œå¯¼æ•°è®¡ç®—</title>
    <url>/post/e0c91e46.html</url>
    <content><![CDATA[<p>è¯¥ç³»åˆ—æ—¨åœ¨æ”¶é›†æ•´ç†ä¸€äº›å¾ˆæœ‰æ„æ€çš„ Python ä»£ç ï¼Œè¿™äº›ä»£ç æœ‰äº›æ˜¯é€šè¿‡ç®€æ´çš„ä»£ç å®ç°äº†å¾ˆç‰›é€¼çš„åŠŸèƒ½ï¼Œæœ‰äº›åˆ™æ˜¯é€šè¿‡èŠ±é‡Œèƒ¡å“¨çš„æŠ€å·§ä»£ç çœ¼èŠ±ç¼­ä¹±ã€‚</p>
<p>è™½ç„¶å¾ˆå¤šä»£ç å¹¶ä¸é€‚åˆæ—¥å¸¸çš„ä½¿ç”¨ï¼Œä½†æ˜¯ç ”ç©¶ä¸€ä¸‹ç›¸å…³çš„æœºåˆ¶è¿˜æ˜¯å¯¹æå‡èƒ½åŠ›æœ‰å¾ˆå¤§çš„å¸®åŠ©ã€‚</p>
<span id="more"></span>

<p>æœ¬æœŸä½œä¸ºç¬¬ä¸€æœŸï¼Œå…ˆæ¥ä¸ªå¼€èƒƒå°èœ</p>
<p>ä»¥ä¸‹ä»£ç å¾ˆæœ‰æ„æ€ï¼Œå®ƒå®ç°äº†å¸¸è§„æ•°å­¦ä¸Šçš„å‡½æ•°è¡¨ç¤ºã€‚å¹¶ä¸”è¿˜èƒ½è®¡ç®—å½“å‰çš„å‡½æ•°å€¼å’Œè®¡ç®—å¯¹åº”å˜é‡çš„å¯¼æ•°å€¼ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python</span></span><br><span class="line"><span class="comment"># -*- coding: utf-8 -*-</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">product</span>(<span class="params">items</span>):</span><br><span class="line">    res = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> items:</span><br><span class="line">        res = res * i</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Node</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name, value=<span class="number">0</span></span>):</span><br><span class="line">        <span class="variable language_">self</span>.name = name</span><br><span class="line">        <span class="variable language_">self</span>.value = value</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__add__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> wrapper_opt(<span class="string">&quot;add&quot;</span>, <span class="variable language_">self</span>, other)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__mul__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> wrapper_opt(<span class="string">&quot;mul&quot;</span>, <span class="variable language_">self</span>, other)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__truediv__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> wrapper_opt(<span class="string">&quot;div&quot;</span>, <span class="variable language_">self</span>, other)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__pow__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> wrapper_opt(<span class="string">&quot;pow&quot;</span>, <span class="variable language_">self</span>, other)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__sub__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> wrapper_opt(<span class="string">&quot;add&quot;</span>, <span class="variable language_">self</span>, wrapper_opt(<span class="string">&quot;mul&quot;</span>, Constant(-<span class="number">1</span>), other))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__radd__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> wrapper_opt(<span class="string">&quot;add&quot;</span>, <span class="variable language_">self</span>, other, r=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__rmul__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> wrapper_opt(<span class="string">&quot;mul&quot;</span>, <span class="variable language_">self</span>, other, r=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__rtruediv__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> wrapper_opt(<span class="string">&quot;div&quot;</span>, <span class="variable language_">self</span>, other, r=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__eq__</span>(<span class="params">self, other</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.name == other.name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">str</span>(<span class="variable language_">self</span>.name)</span><br><span class="line"></span><br><span class="line">    __repr__ = __str__</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Constant</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, value</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(value, value)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">calculate</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.value</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">derivative</span>(<span class="params">variable</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Variable</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">calculate</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.value</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">derivative</span>(<span class="params">self, variable</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> <span class="keyword">if</span> variable.name == <span class="variable language_">self</span>.name <span class="keyword">else</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Operator</span>(<span class="title class_ inherited__">Node</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, inputs, name</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(name)</span><br><span class="line">        <span class="variable language_">self</span>.inputs = inputs</span><br><span class="line">        <span class="variable language_">self</span>.name = <span class="string">f&quot;Opt <span class="subst">&#123;name&#125;</span> of <span class="subst">&#123;inputs&#125;</span>&quot;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        opt2str = &#123;<span class="string">&quot;Add&quot;</span>: <span class="string">&quot;+&quot;</span>, <span class="string">&quot;Power&quot;</span>: <span class="string">&quot;^&quot;</span>, <span class="string">&quot;Multiply&quot;</span>: <span class="string">&quot;*&quot;</span>, <span class="string">&quot;Divide&quot;</span>: <span class="string">&quot;/&quot;</span>&#125;</span><br><span class="line">        <span class="keyword">return</span> opt2str[<span class="variable language_">self</span>.name.split(<span class="string">&quot; &quot;</span>)[<span class="number">1</span>]].join(<span class="built_in">map</span>(<span class="built_in">str</span>, <span class="variable language_">self</span>.inputs))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Add</span>(<span class="title class_ inherited__">Operator</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, inputs</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(inputs, name=<span class="string">&quot;Add&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">calculate</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(inp.calculate() <span class="keyword">for</span> inp <span class="keyword">in</span> <span class="variable language_">self</span>.inputs)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">derivative</span>(<span class="params">self, variable</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(inp.derivative(variable) <span class="keyword">for</span> inp <span class="keyword">in</span> <span class="variable language_">self</span>.inputs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Multiply</span>(<span class="title class_ inherited__">Operator</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, inputs</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(inputs, name=<span class="string">&quot;Multiply&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">calculate</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> product(inp.calculate() <span class="keyword">for</span> inp <span class="keyword">in</span> <span class="variable language_">self</span>.inputs)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">derivative</span>(<span class="params">self, variable</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span>(</span><br><span class="line">            inp.derivative(variable)</span><br><span class="line">            * product(</span><br><span class="line">                other_inp.calculate()</span><br><span class="line">                <span class="keyword">for</span> other_inp <span class="keyword">in</span> <span class="variable language_">self</span>.inputs</span><br><span class="line">                <span class="keyword">if</span> other_inp != inp</span><br><span class="line">            )</span><br><span class="line">            <span class="keyword">for</span> inp <span class="keyword">in</span> <span class="variable language_">self</span>.inputs</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Divide</span>(<span class="title class_ inherited__">Operator</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, inputs</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(inputs, name=<span class="string">&quot;Divide&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">calculate</span>(<span class="params">self</span>):</span><br><span class="line">        a, b = [inp.calculate() <span class="keyword">for</span> inp <span class="keyword">in</span> <span class="variable language_">self</span>.inputs]</span><br><span class="line">        <span class="keyword">return</span> a / b</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">derivative</span>(<span class="params">self, variable</span>):</span><br><span class="line">        a, b = [inp.calculate() <span class="keyword">for</span> inp <span class="keyword">in</span> <span class="variable language_">self</span>.inputs]</span><br><span class="line">        da, db = [inp.derivative(variable) <span class="keyword">for</span> inp <span class="keyword">in</span> <span class="variable language_">self</span>.inputs]</span><br><span class="line">        <span class="keyword">return</span> (da * b - db * a) / (b ** <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Power</span>(<span class="title class_ inherited__">Operator</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, inputs</span>):</span><br><span class="line">        <span class="built_in">super</span>().__init__(inputs, name=<span class="string">&quot;Power&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">calculate</span>(<span class="params">self</span>):</span><br><span class="line">        _x, n = <span class="variable language_">self</span>.inputs</span><br><span class="line">        n = n.value</span><br><span class="line">        <span class="keyword">return</span> _x.calculate() ** n</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">derivative</span>(<span class="params">self, variable</span>):</span><br><span class="line">        _x, n = <span class="variable language_">self</span>.inputs</span><br><span class="line">        n = n.value</span><br><span class="line">        <span class="keyword">return</span> n * (_x.calculate() ** (n - <span class="number">1</span>)) * _x.derivative(variable)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">wrapper_opt</span>(<span class="params">opt, self, other, r=<span class="literal">False</span></span>):</span><br><span class="line">    opt2class = &#123;<span class="string">&quot;add&quot;</span>: Add, <span class="string">&quot;mul&quot;</span>: Multiply, <span class="string">&quot;pow&quot;</span>: Power, <span class="string">&quot;div&quot;</span>: Divide&#125;</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">isinstance</span>(other, Node):</span><br><span class="line">        other = Constant(other)</span><br><span class="line">    inputs = [other, <span class="variable language_">self</span>] <span class="keyword">if</span> r <span class="keyword">else</span> [<span class="variable language_">self</span>, other]</span><br><span class="line">    node = opt2class[opt](inputs=inputs)</span><br><span class="line">    <span class="keyword">return</span> node</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = Variable(<span class="string">&quot;x&quot;</span>, <span class="number">2</span>)        <span class="comment"># å®šä¹‰å˜é‡ x é»˜è®¤å€¼ 2</span></span><br><span class="line">y = Variable(<span class="string">&quot;y&quot;</span>, <span class="number">3</span>)        <span class="comment"># å®šä¹‰å˜é‡ y é»˜è®¤å€¼ 3</span></span><br><span class="line">f = <span class="number">3</span> * x ** <span class="number">2</span> + <span class="number">4</span> * y - <span class="number">5</span>  <span class="comment"># å®šä¹‰å‡½æ•° f(x)=3xÂ²+4yâˆ’5</span></span><br><span class="line"><span class="built_in">print</span>(f)                    <span class="comment"># 3*x^2+4*y+-1*5</span></span><br><span class="line"><span class="built_in">print</span>(f.calculate())        <span class="comment"># 19    æ ¹æ®é»˜è®¤å€¼ x=2 y=3 è®¡ç®— f(x)</span></span><br><span class="line"><span class="built_in">print</span>(f.derivative(x))      <span class="comment"># 12    æ ¹æ®é»˜è®¤å€¼ x=2 è®¡ç®— f&#x27;(x)=6x</span></span><br><span class="line">x.value = <span class="number">3</span>                 <span class="comment"># x=3</span></span><br><span class="line">y.value = -<span class="number">5</span>                <span class="comment"># y=-5</span></span><br><span class="line"><span class="built_in">print</span>(f.calculate())        <span class="comment"># 2     æ ¹æ®é»˜è®¤å€¼ x=3 y=-5 è®¡ç®— f(x)</span></span><br><span class="line"><span class="built_in">print</span>(f.derivative(y))      <span class="comment"># 4     æ ¹æ®é»˜è®¤å€¼ y=4 è®¡ç®— f å¯¹ y æ±‚å¯¼ = 4</span></span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>æœ‰ç‚¹æ„æ€çš„ Python ç³»åˆ—äºŒ å†…ç½®ç±»å‹å¢åŠ é¢å¤–æ–¹æ³•(äºŒ)</title>
    <url>/post/dd9207d9.html</url>
    <content><![CDATA[<p><a href="/post/5f8a6fc4.html">æœ‰ç‚¹æ„æ€çš„ Python ç³»åˆ—äºŒ å†…ç½®ç±»å‹å¢åŠ é¢å¤–æ–¹æ³•</a> ä¸­ä»‹ç»äº†ä¸€ç§é€šè¿‡ Python ä»£ç å®ç°å¯¹å†…ç½®çš„ç±»å‹å¢åŠ è‡ªå®šä¹‰çš„æ–¹æ³•ã€‚<br>ä»Šå¤©å†ä»‹ç»ä¸€ç§æ–¹æ³•ï¼Œå®ç°æ›´ä¸ºåº•å±‚ã€‚é‚£å°±æ˜¯ç›´æ¥ä¿®æ”¹ <code>cPython</code> çš„æºç ã€‚<br>è¿™é‡Œæ¼”ç¤ºç»™ <code>list</code> å’Œ <code>dict</code> å¢åŠ  <code>deepcopy</code> å’Œ <code>tojson</code> æ–¹æ³•ï¼Œå®ç°å¯¹ <code>list</code> å’Œ <code>dict</code> çš„æ·±æ‹·è´å’ŒæŠŠä¸€ä¸ª <code>list</code> å’Œ <code>dict</code> è½¬æ¢ä¸º <code>json</code> çš„æ–¹æ³•ã€‚<br>ç»™ <code>int</code> å’Œ <code>float</code> å¢åŠ  <code>add</code>, <code>sub</code>, <code>mul</code>, <code>div</code> æ–¹æ³•ï¼Œå®ç°åŠ å‡ä¹˜é™¤ã€‚</p>
<span id="more"></span>

<h2 id="Step-1-ä¸‹è½½ä»£ç "><a href="#Step-1-ä¸‹è½½ä»£ç " class="headerlink" title="Step 1 ä¸‹è½½ä»£ç "></a>Step 1 ä¸‹è½½ä»£ç </h2><p><code>cPython</code> ä»£ç å¯ä»¥åœ¨ GitHub ä¸Šæ‰¾åˆ°: <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3B5dGhvbi9jcHl0aG9u">cPython<i class="fa fa-external-link-alt"></i></span></p>
<h3 id="é…ç½®ç¯å¢ƒ"><a href="#é…ç½®ç¯å¢ƒ" class="headerlink" title="é…ç½®ç¯å¢ƒ"></a>é…ç½®ç¯å¢ƒ</h3><p>æˆ‘ä½¿ç”¨çš„æ˜¯ macOS ç³»ç»Ÿï¼Œæ‰€ä»¥è¿™é‡Œå°±åªä»‹ç» macOS éœ€è¦çš„ç¯å¢ƒ</p>
<ol>
<li>å®‰è£… C ç¼–è¯‘å™¨å’Œå·¥å…·åŒ…<br><code>xcode-select --install</code></li>
<li>å®‰è£…å…¶ä»–å·¥å…·<br><code>brew install openssl@3 xz zlib gdbm sqlite</code></li>
</ol>
<h2 id="Step-2-ä¿®æ”¹ä»£ç "><a href="#Step-2-ä¿®æ”¹ä»£ç " class="headerlink" title="Step 2 ä¿®æ”¹ä»£ç "></a>Step 2 ä¿®æ”¹ä»£ç </h2><p>é¦–å…ˆå°†åˆ†æ”¯åˆ‡æ¢åˆ° 3.12ï¼Œä¸ä½¿ç”¨ <code>main</code> çš„åŸå› æ˜¯ <code>main</code> åˆ†æ”¯éšæ—¶éƒ½åœ¨æ›´æ–°ï¼Œæ‰€ä»¥é€‰æ‹©æ—§ç‰ˆæœ¬çš„åˆ†æ”¯ï¼Œç¡®ä¿ä»£ç çš„ä¸€è‡´æ€§ã€‚<br>ç¡®ä¿ 3.12 åˆ†æ”¯çš„ä»£ç  <code>commit sha</code> ä¸º <code>0181aa2e3efedc6504b27f6fe74f096e5e454286</code></p>
<h3 id="ä¿®æ”¹-list"><a href="#ä¿®æ”¹-list" class="headerlink" title="ä¿®æ”¹ list"></a>ä¿®æ”¹ list</h3><p><code>list</code> çš„å®ç°åœ¨ <code>./Objects/listobject.c</code> ä¸­ã€‚æˆ‘ä»¬çš„ä¿®æ”¹å°±åœ¨è¿™é‡Œã€‚<br>é¦–å…ˆæ‰¾åˆ° <code>static PyMethodDef list_methods[]</code> è¿™é‡ŒåŒ…æ‹¬äº† <code>list</code> ç›¸å…³çš„æ–¹æ³•ã€‚åœ¨è¿™ä¸€è¡Œçš„ä¸Šé¢ï¼Œå¢åŠ ä»¥ä¸‹ä»£ç </p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">static</span> PyObject *</span><br><span class="line"><span class="title function_">list_method_deepcopy</span><span class="params">(PyObject *self, PyObject *args)</span></span><br><span class="line">&#123;</span><br><span class="line">    PyObject *copy_module = PyImport_ImportModule(<span class="string">&quot;copy&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (copy_module == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    PyObject *deepcopy_func = PyObject_GetAttrString(copy_module, <span class="string">&quot;deepcopy&quot;</span>);</span><br><span class="line">    Py_DECREF(copy_module);</span><br><span class="line">    <span class="keyword">if</span> (deepcopy_func == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    PyObject *result = PyObject_CallFunctionObjArgs(deepcopy_func, self, <span class="literal">NULL</span>);</span><br><span class="line"></span><br><span class="line">    Py_DECREF(deepcopy_func);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> PyObject *</span><br><span class="line"><span class="title function_">list_method_tojson</span><span class="params">(PyObject *self, PyObject *args, PyObject *kwargs)</span></span><br><span class="line">&#123;</span><br><span class="line">    PyObject *json_module = <span class="literal">NULL</span>;</span><br><span class="line">    PyObject *dumps_func = <span class="literal">NULL</span>;</span><br><span class="line">    PyObject *result = <span class="literal">NULL</span>;</span><br><span class="line">    PyObject *args_tuple = <span class="literal">NULL</span>;</span><br><span class="line">    PyObject *args_with_self = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    json_module = PyImport_ImportModule(<span class="string">&quot;json&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (json_module == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dumps_func = PyObject_GetAttrString(json_module, <span class="string">&quot;dumps&quot;</span>);</span><br><span class="line">    Py_DECREF(json_module);</span><br><span class="line">    <span class="keyword">if</span> (dumps_func == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    args_tuple = PyTuple_Pack(<span class="number">1</span>, self);</span><br><span class="line">    Py_DECREF(dumps_func);</span><br><span class="line">    <span class="keyword">if</span> (args_tuple == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    args_with_self = PySequence_Concat(args_tuple, args);</span><br><span class="line">    Py_DECREF(args_tuple);</span><br><span class="line">    <span class="keyword">if</span> (args_with_self == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    result = PyObject_Call(dumps_func, args_with_self, kwargs);</span><br><span class="line"></span><br><span class="line">    Py_DECREF(args_with_self);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ <code>list_method_deepcopy</code> å°±æ˜¯ <code>deepcopy</code> çš„å…·ä½“å®ç°ï¼Œ<code>list_method_tojson</code> æ˜¯ <code>tojson</code> çš„å…·ä½“å®ç°ã€‚<br>ç„¶åå°†ä¸Šé¢ä¸¤ä¸ªæ–¹æ³•å¢åŠ åˆ° <code>list_methods</code> ä¸­<br>æ³¨æ„ï¼Œè¦å¢åŠ åˆ°æœ€åä¸€è¡Œ <code>&#123;NULL,              NULL&#125;           /* sentinel */</code> ä¸Šæ–¹</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">&quot;deepcopy&quot;</span>, (PyCFunction)list_method_deepcopy, METH_NOARGS, PyDoc_STR(<span class="string">&quot;Return a deep copy of the list&quot;</span>)&#125;,</span><br><span class="line">&#123;<span class="string">&quot;tojson&quot;</span>, (PyCFunction)list_method_tojson, METH_VARARGS | METH_KEYWORDS, PyDoc_STR(<span class="string">&quot;Convert list to JSON string&quot;</span>)&#125;,</span><br></pre></td></tr></table></figure>

<p>æœ€åå®Œæ•´çš„ <code>list_methods[]</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">static</span> PyMethodDef list_methods[] = &#123;</span><br><span class="line">    &#123;<span class="string">&quot;__getitem__&quot;</span>, (PyCFunction)list_subscript, METH_O|METH_COEXIST,</span><br><span class="line">     PyDoc_STR(<span class="string">&quot;__getitem__($self, index, /)\n--\n\nReturn self[index].&quot;</span>)&#125;,</span><br><span class="line">    LIST___REVERSED___METHODDEF</span><br><span class="line">    LIST___SIZEOF___METHODDEF</span><br><span class="line">    LIST_CLEAR_METHODDEF</span><br><span class="line">    LIST_COPY_METHODDEF</span><br><span class="line">    LIST_APPEND_METHODDEF</span><br><span class="line">    LIST_INSERT_METHODDEF</span><br><span class="line">    LIST_EXTEND_METHODDEF</span><br><span class="line">    LIST_POP_METHODDEF</span><br><span class="line">    LIST_REMOVE_METHODDEF</span><br><span class="line">    LIST_INDEX_METHODDEF</span><br><span class="line">    LIST_COUNT_METHODDEF</span><br><span class="line">    LIST_REVERSE_METHODDEF</span><br><span class="line">    LIST_SORT_METHODDEF</span><br><span class="line">    &#123;<span class="string">&quot;__class_getitem__&quot;</span>, Py_GenericAlias, METH_O|METH_CLASS, PyDoc_STR(<span class="string">&quot;See PEP 585&quot;</span>)&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;deepcopy&quot;</span>, (PyCFunction)list_method_deepcopy, METH_NOARGS, PyDoc_STR(<span class="string">&quot;Return a deep copy of the list&quot;</span>)&#125;,  # ç»™ <span class="built_in">list</span> å¢åŠ  deepcopy æ–¹æ³•ï¼Œè°ƒç”¨ list_method_deepcopy å®ç°</span><br><span class="line">    &#123;<span class="string">&quot;tojson&quot;</span>, (PyCFunction)list_method_tojson, METH_VARARGS | METH_KEYWORDS, PyDoc_STR(<span class="string">&quot;Convert list to JSON string&quot;</span>)&#125;,    # ç»™ <span class="built_in">list</span> å¢åŠ  tojson æ–¹æ³•ï¼Œè°ƒç”¨ list_method_tojson å®ç°</span><br><span class="line">    &#123;<span class="literal">NULL</span>,              <span class="literal">NULL</span>&#125;           <span class="comment">/* sentinel */</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="ä¿®æ”¹-dict"><a href="#ä¿®æ”¹-dict" class="headerlink" title="ä¿®æ”¹ dict"></a>ä¿®æ”¹ dict</h3><p>å’Œä¿®æ”¹ list ç±»ä¼¼ï¼Œdict çš„å®ç°åœ¨ <code>./Objects/dictobject.c</code> ä¸­ã€‚<br>åŒç†è¿˜æ˜¯é¦–å…ˆæ‰¾åˆ° <code>static PyMethodDef mapp_methods[]</code> è¿™é‡ŒåŒ…æ‹¬äº† <code>dict</code> ç›¸å…³çš„æ–¹æ³•ã€‚åœ¨è¿™ä¸€è¡Œçš„ä¸Šé¢ï¼Œå¢åŠ ä»¥ä¸‹ä»£ç ã€‚</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">static</span> PyObject *</span><br><span class="line"><span class="title function_">dict_method_deepcopy</span><span class="params">(PyObject *self, PyObject *args)</span></span><br><span class="line">&#123;</span><br><span class="line">    PyObject *copy_module = PyImport_ImportModule(<span class="string">&quot;copy&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (copy_module == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    PyObject *deepcopy_func = PyObject_GetAttrString(copy_module, <span class="string">&quot;deepcopy&quot;</span>);</span><br><span class="line">    Py_DECREF(copy_module);</span><br><span class="line">    <span class="keyword">if</span> (deepcopy_func == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    PyObject *result = PyObject_CallFunctionObjArgs(deepcopy_func, self, <span class="literal">NULL</span>);</span><br><span class="line">    Py_DECREF(deepcopy_func);</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> PyObject *</span><br><span class="line"><span class="title function_">dict_method_tojson</span><span class="params">(PyObject *self, PyObject *args, PyObject *kwargs)</span></span><br><span class="line">&#123;</span><br><span class="line">    PyObject *json_module = <span class="literal">NULL</span>;</span><br><span class="line">    PyObject *dumps_func = <span class="literal">NULL</span>;</span><br><span class="line">    PyObject *result = <span class="literal">NULL</span>;</span><br><span class="line">    PyObject *args_tuple = <span class="literal">NULL</span>;</span><br><span class="line">    PyObject *args_with_self = <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    json_module = PyImport_ImportModule(<span class="string">&quot;json&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (json_module == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    dumps_func = PyObject_GetAttrString(json_module, <span class="string">&quot;dumps&quot;</span>);</span><br><span class="line">    Py_DECREF(json_module);</span><br><span class="line">    <span class="keyword">if</span> (dumps_func == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    args_tuple = PyTuple_Pack(<span class="number">1</span>, self);</span><br><span class="line">    Py_DECREF(dumps_func);</span><br><span class="line">    <span class="keyword">if</span> (args_tuple == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    args_with_self = PySequence_Concat(args_tuple, args);</span><br><span class="line">    Py_DECREF(args_tuple);</span><br><span class="line">    <span class="keyword">if</span> (args_with_self == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    result = PyObject_Call(dumps_func, args_with_self, kwargs);</span><br><span class="line"></span><br><span class="line">    Py_DECREF(args_with_self);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œçš„ä»£ç é™¤äº†æ–¹æ³•åå­—ï¼Œå®ç°æ–¹æ³•å’Œ <code>list</code> çš„ä¸€è‡´ï¼Œå½“ç„¶ã€‚æœ€åä¹Ÿè¿˜æ˜¯è¦åŠ åˆ° <code>mapp_methods[]</code> ä¸­</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">&quot;deepcopy&quot;</span>, (PyCFunction)dict_method_deepcopy, METH_NOARGS, PyDoc_STR(<span class="string">&quot;Return a deep copy of the dict&quot;</span>)&#125;,</span><br><span class="line">&#123;<span class="string">&quot;tojson&quot;</span>, (PyCFunction)dict_method_tojson, METH_VARARGS | METH_KEYWORDS, PyDoc_STR(<span class="string">&quot;Convert dict to JSON string&quot;</span>)&#125;,</span><br></pre></td></tr></table></figure>

<p>å®Œæ•´çš„ mapp_methods</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">static</span> PyMethodDef mapp_methods[] = &#123;</span><br><span class="line">    DICT___CONTAINS___METHODDEF</span><br><span class="line">    &#123;<span class="string">&quot;__getitem__&quot;</span>, _PyCFunction_CAST(dict_subscript),        METH_O | METH_COEXIST,</span><br><span class="line">     getitem__doc__&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;__sizeof__&quot;</span>,      _PyCFunction_CAST(dict_sizeof),       METH_NOARGS,</span><br><span class="line">     sizeof__doc__&#125;,</span><br><span class="line">    DICT_GET_METHODDEF</span><br><span class="line">    DICT_SETDEFAULT_METHODDEF</span><br><span class="line">    DICT_POP_METHODDEF</span><br><span class="line">    DICT_POPITEM_METHODDEF</span><br><span class="line">    &#123;<span class="string">&quot;keys&quot;</span>,            dictkeys_new,                   METH_NOARGS,</span><br><span class="line">    keys__doc__&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;items&quot;</span>,           dictitems_new,                  METH_NOARGS,</span><br><span class="line">    items__doc__&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;values&quot;</span>,          dictvalues_new,                 METH_NOARGS,</span><br><span class="line">    values__doc__&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;update&quot;</span>,          _PyCFunction_CAST(dict_update), METH_VARARGS | METH_KEYWORDS,</span><br><span class="line">     update__doc__&#125;,</span><br><span class="line">    DICT_FROMKEYS_METHODDEF</span><br><span class="line">    &#123;<span class="string">&quot;clear&quot;</span>,           (PyCFunction)dict_clear,        METH_NOARGS,</span><br><span class="line">     clear__doc__&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;copy&quot;</span>,            (PyCFunction)dict_copy,         METH_NOARGS,</span><br><span class="line">     copy__doc__&#125;,</span><br><span class="line">    DICT___REVERSED___METHODDEF</span><br><span class="line">    &#123;<span class="string">&quot;__class_getitem__&quot;</span>, Py_GenericAlias, METH_O|METH_CLASS, PyDoc_STR(<span class="string">&quot;See PEP 585&quot;</span>)&#125;,</span><br><span class="line">    &#123;<span class="string">&quot;deepcopy&quot;</span>, (PyCFunction)dict_method_deepcopy, METH_NOARGS, PyDoc_STR(<span class="string">&quot;Return a deep copy of the dict&quot;</span>)&#125;,  # ç»™ dict å¢åŠ  deepcopy æ–¹æ³•ï¼Œè°ƒç”¨ dict_method_deepcopy å®ç°</span><br><span class="line">    &#123;<span class="string">&quot;tojson&quot;</span>, (PyCFunction)dict_method_tojson, METH_VARARGS | METH_KEYWORDS, PyDoc_STR(<span class="string">&quot;Convert dict to JSON string&quot;</span>)&#125;,    # ç»™ dict å¢åŠ  tojson æ–¹æ³•ï¼Œè°ƒç”¨ dict_method_tojson å®ç°</span><br><span class="line">    &#123;<span class="literal">NULL</span>,              <span class="literal">NULL</span>&#125;   <span class="comment">/* sentinel */</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="ä¿®æ”¹-float"><a href="#ä¿®æ”¹-float" class="headerlink" title="ä¿®æ”¹ float"></a>ä¿®æ”¹ float</h3><p>float çš„å®ç°åœ¨ <code>./Objects/floatobject.c</code> ä¸­ã€‚ åŒç†æ‰¾åˆ° <code>float_methods[]</code> åœ¨ä¸Šæ–¹å¢åŠ ä»¥ä¸‹æ–¹æ³•</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">static</span> PyObject *</span><br><span class="line"><span class="title function_">float_method_add</span><span class="params">(PyObject *self, PyObject *args)</span></span><br><span class="line">&#123;</span><br><span class="line">    PyObject *other;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!PyArg_ParseTuple(args, <span class="string">&quot;O&quot;</span>, &amp;other))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (PyFloat_Check(other) || PyLong_Check(other)) &#123;</span><br><span class="line">        <span class="keyword">return</span> PyNumber_Add(self, other);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    PyErr_SetString(PyExc_TypeError, <span class="string">&quot;Argument must be of type float or int&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> PyObject *</span><br><span class="line"><span class="title function_">float_method_sub</span><span class="params">(PyObject *self, PyObject *args)</span></span><br><span class="line">&#123;</span><br><span class="line">    PyObject *other;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!PyArg_ParseTuple(args, <span class="string">&quot;O&quot;</span>, &amp;other))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (PyFloat_Check(other) || PyLong_Check(other)) &#123;</span><br><span class="line">        <span class="keyword">return</span> PyNumber_Subtract(self, other);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    PyErr_SetString(PyExc_TypeError, <span class="string">&quot;Argument must be of type float or int&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> PyObject *</span><br><span class="line"><span class="title function_">float_method_mul</span><span class="params">(PyObject *self, PyObject *args)</span></span><br><span class="line">&#123;</span><br><span class="line">    PyObject *other;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!PyArg_ParseTuple(args, <span class="string">&quot;O&quot;</span>, &amp;other))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (PyFloat_Check(other) || PyLong_Check(other)) &#123;</span><br><span class="line">        <span class="keyword">return</span> PyNumber_Multiply(self, other);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    PyErr_SetString(PyExc_TypeError, <span class="string">&quot;Argument must be of type float or int&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> PyObject *</span><br><span class="line"><span class="title function_">float_method_div</span><span class="params">(PyObject *self, PyObject *args)</span></span><br><span class="line">&#123;</span><br><span class="line">    PyObject *other;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!PyArg_ParseTuple(args, <span class="string">&quot;O&quot;</span>, &amp;other))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (PyFloat_Check(other) || PyLong_Check(other)) &#123;</span><br><span class="line">        <span class="keyword">return</span> PyNumber_TrueDivide(self, other);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    PyErr_SetString(PyExc_TypeError, <span class="string">&quot;Argument must be of type float or int&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç±»ä¼¼çš„åœ¨ <code>float_methods[]</code> ä¸­å¢åŠ </p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">&quot;add&quot;</span>, (PyCFunction)float_method_add, METH_VARARGS, PyDoc_STR(<span class="string">&quot;Add float or int objects&quot;</span>)&#125;,</span><br><span class="line">&#123;<span class="string">&quot;sub&quot;</span>, (PyCFunction)float_method_sub, METH_VARARGS, PyDoc_STR(<span class="string">&quot;Subtract float or int objects&quot;</span>)&#125;,</span><br><span class="line">&#123;<span class="string">&quot;mul&quot;</span>, (PyCFunction)float_method_mul, METH_VARARGS, PyDoc_STR(<span class="string">&quot;Multiply float or int objects&quot;</span>)&#125;,</span><br><span class="line">&#123;<span class="string">&quot;div&quot;</span>, (PyCFunction)float_method_div, METH_VARARGS, PyDoc_STR(<span class="string">&quot;Divide float or int objects&quot;</span>)&#125;,</span><br></pre></td></tr></table></figure>

<h3 id="ä¿®æ”¹-int"><a href="#ä¿®æ”¹-int" class="headerlink" title="ä¿®æ”¹ int"></a>ä¿®æ”¹ int</h3><p><code>int</code> çš„å®ç°æ˜¯åœ¨ <code>.Objects/longobject.c</code> ä¸­ã€‚æ‰¾åˆ° <code>long_methods[]</code> åœ¨ä¸Šæ–¹å¢åŠ æ–¹æ³•</p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line"><span class="type">static</span> PyObject *</span><br><span class="line"><span class="title function_">long_method_add</span><span class="params">(PyObject *self, PyObject *args)</span></span><br><span class="line">&#123;</span><br><span class="line">    PyObject *other;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!PyArg_ParseTuple(args, <span class="string">&quot;O&quot;</span>, &amp;other))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (PyLong_Check(other) || PyFloat_Check(other)) &#123;</span><br><span class="line">        <span class="keyword">return</span> PyNumber_Add(self, other);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    PyErr_SetString(PyExc_TypeError, <span class="string">&quot;Argument must be of type int or float&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> PyObject *</span><br><span class="line"><span class="title function_">long_method_sub</span><span class="params">(PyObject *self, PyObject *args)</span></span><br><span class="line">&#123;</span><br><span class="line">    PyObject *other;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!PyArg_ParseTuple(args, <span class="string">&quot;O&quot;</span>, &amp;other))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (PyLong_Check(other) || PyFloat_Check(other)) &#123;</span><br><span class="line">        <span class="keyword">return</span> PyNumber_Subtract(self, other);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    PyErr_SetString(PyExc_TypeError, <span class="string">&quot;Argument must be of type int or float&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> PyObject *</span><br><span class="line"><span class="title function_">long_method_mul</span><span class="params">(PyObject *self, PyObject *args)</span></span><br><span class="line">&#123;</span><br><span class="line">    PyObject *other;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!PyArg_ParseTuple(args, <span class="string">&quot;O&quot;</span>, &amp;other))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (PyLong_Check(other) || PyFloat_Check(other)) &#123;</span><br><span class="line">        <span class="keyword">return</span> PyNumber_Multiply(self, other);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    PyErr_SetString(PyExc_TypeError, <span class="string">&quot;Argument must be of type int or float&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> PyObject *</span><br><span class="line"><span class="title function_">long_method_div</span><span class="params">(PyObject *self, PyObject *args)</span></span><br><span class="line">&#123;</span><br><span class="line">    PyObject *other;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!PyArg_ParseTuple(args, <span class="string">&quot;O&quot;</span>, &amp;other))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (PyLong_Check(other) || PyFloat_Check(other)) &#123;</span><br><span class="line">        <span class="keyword">return</span> PyNumber_TrueDivide(self, other);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    PyErr_SetString(PyExc_TypeError, <span class="string">&quot;Argument must be of type int or float&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„æ–¹æ³•å®ç°å’Œ <code>int</code> ä¸­çš„å®ç°æœ‰ç»†å¾®å·®åˆ«ã€‚æœ€åè¿˜æ˜¯ä¸€æ ·å¢åŠ  <code>long_methods[]</code></p>
<figure class="highlight c"><table><tr><td class="code"><pre><span class="line">&#123;<span class="string">&quot;add&quot;</span>, (PyCFunction)long_method_add, METH_VARARGS, PyDoc_STR(<span class="string">&quot;Add int or float objects&quot;</span>)&#125;,</span><br><span class="line">&#123;<span class="string">&quot;sub&quot;</span>, (PyCFunction)long_method_sub, METH_VARARGS, PyDoc_STR(<span class="string">&quot;Subtract int or float objects&quot;</span>)&#125;,</span><br><span class="line">&#123;<span class="string">&quot;mul&quot;</span>, (PyCFunction)long_method_mul, METH_VARARGS, PyDoc_STR(<span class="string">&quot;Multiply int or float objects&quot;</span>)&#125;,</span><br><span class="line">&#123;<span class="string">&quot;div&quot;</span>, (PyCFunction)long_method_div, METH_VARARGS, PyDoc_STR(<span class="string">&quot;Divide int or float objects&quot;</span>)&#125;,</span><br></pre></td></tr></table></figure>

<h2 id="Step-3-ç¼–è¯‘"><a href="#Step-3-ç¼–è¯‘" class="headerlink" title="Step 3 ç¼–è¯‘"></a>Step 3 ç¼–è¯‘</h2><p>ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ç¼–è¯‘ä»£ç </p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">LDFLAGS=<span class="string">&quot;-L<span class="subst">$(brew --prefix zlib)</span>/lib -L<span class="subst">$(brew --prefix bzip2)</span>/lib -L<span class="subst">$(brew --prefix openssl@3)</span>/lib&quot;</span> \</span><br><span class="line">CPPFLAGS=<span class="string">&quot;-I<span class="subst">$(brew --prefix zlib)</span>/include -I<span class="subst">$(brew --prefix bzip2)</span>/include -I<span class="subst">$(brew --prefix openssl@3)</span>/include&quot;</span> \</span><br><span class="line">./configure --with-openssl=$(brew --prefix openssl@3) &amp;&amp; make -j$(<span class="built_in">nproc</span>) -s</span><br></pre></td></tr></table></figure>

<p>ç¼–è¯‘æˆåŠŸååœ¨ç›®å½•ä¸‹ä¼šæœ‰ä¸€ä¸ª <code>python.exe</code> (ä¸ºä»€ä¹ˆåœ¨ macOS æ˜¯ .exe å¯å‚è€ƒ <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3B5dGhvbi9jcHl0aG9uI2J1aWxkLWluc3RydWN0aW9ucw==">build-instructions<i class="fa fa-external-link-alt"></i></span>)</p>
<h2 id="Step-4-æµ‹è¯•"><a href="#Step-4-æµ‹è¯•" class="headerlink" title="Step 4 æµ‹è¯•"></a>Step 4 æµ‹è¯•</h2><p>æ–°å»ºä¸€ä¸ª .py æ–‡ä»¶</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">origin_dict = &#123;<span class="string">&quot;goods&quot;</span>: [<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;orange&quot;</span>]&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;=&#x27;</span> * <span class="number">50</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;åŸå§‹å­—å…¸: <span class="subst">&#123;origin_dict&#125;</span>&quot;</span>)</span><br><span class="line">copy_dict = origin_dict.copy()  <span class="comment"># è‡ªå¸¦çš„ copy() æµ…æ‹·è´</span></span><br><span class="line">deepcopy_dict = origin_dict.deepcopy()  <span class="comment"># æ·»åŠ çš„ deepcopy() æ·±æ‹·è´</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;=&#x27;</span> * <span class="number">50</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;.copy() å­—å…¸: <span class="subst">&#123;copy_dict&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;.deepcopy() å­—å…¸: <span class="subst">&#123;deepcopy_dict&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;=&#x27;</span> * <span class="number">50</span>)</span><br><span class="line">origin_dict[<span class="string">&quot;goods&quot;</span>].append(<span class="string">&quot;banana&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;åŸå§‹å­—å…¸ä¿®æ”¹: <span class="subst">&#123;origin_dict&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;=&#x27;</span> * <span class="number">50</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;.copy() ç»“æœ: <span class="subst">&#123;copy_dict&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;.deepcopy() ç»“æœ: <span class="subst">&#123;deepcopy_dict&#125;</span>&quot;</span>)</span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;=&#x27;</span> * <span class="number">50</span>)</span><br><span class="line"></span><br><span class="line">int_number = <span class="number">1</span></span><br><span class="line">float_number = <span class="number">2.15</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(int_number.add(<span class="number">2</span>).add(<span class="number">3</span>).div(<span class="number">2</span>).mul(<span class="number">4</span>))   <span class="comment"># (1 + 2 + 3) / 2 * 4</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">&#x27;=&#x27;</span> * <span class="number">50</span>)</span><br><span class="line"><span class="built_in">print</span>(float_number.add(<span class="number">2</span>).add(<span class="number">3</span>).div(<span class="number">3</span>).mul(<span class="number">7</span>)) <span class="comment"># (2.15 + 2 + 3) / 3 * 7</span></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœå¦‚ä¸‹</p>
<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line">==================================================</span><br><span class="line">åŸå§‹å­—å…¸: &#123;<span class="string">&#x27;goods&#x27;</span>: [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>]&#125;</span><br><span class="line">==================================================</span><br><span class="line">.copy() å­—å…¸: &#123;<span class="string">&#x27;goods&#x27;</span>: [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>]&#125;</span><br><span class="line">.deepcopy() å­—å…¸: &#123;<span class="string">&#x27;goods&#x27;</span>: [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>]&#125;</span><br><span class="line">==================================================</span><br><span class="line">åŸå§‹å­—å…¸ä¿®æ”¹: &#123;<span class="string">&#x27;goods&#x27;</span>: [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>]&#125;</span><br><span class="line">==================================================</span><br><span class="line">.copy() ç»“æœ: &#123;<span class="string">&#x27;goods&#x27;</span>: [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>, <span class="string">&#x27;banana&#x27;</span>]&#125;</span><br><span class="line">.deepcopy() ç»“æœ: &#123;<span class="string">&#x27;goods&#x27;</span>: [<span class="string">&#x27;apple&#x27;</span>, <span class="string">&#x27;orange&#x27;</span>]&#125;</span><br><span class="line">==================================================</span><br><span class="line">12.0</span><br><span class="line">==================================================</span><br><span class="line">16.683333333333334</span><br></pre></td></tr></table></figure>

<p>ç”±æ­¤å®Œæˆäº†ä» cPython çš„æ”¹é€ å®ç°äº†ä»¥ä¸Šå‡ ç§æ–¹æ³•ã€‚</p>
<h2 id="è¡¥å……"><a href="#è¡¥å……" class="headerlink" title="è¡¥å……"></a>è¡¥å……</h2><ol>
<li>ç›´æ¥ä¿®æ”¹ cPython çš„æºç å®ç°å¥½å¤„æ˜¯å®ç°äº†åŸç”Ÿå®ç°ã€‚ä½†æ˜¯ç¼ºç‚¹ä¹Ÿå¾ˆæ˜æ˜¾ã€‚å°±æ˜¯è¿™æ ·å†™çš„ä»£ç ï¼Œåªèƒ½è¿è¡Œåœ¨è¿™ä¸ªä¿®æ”¹åçš„ Python ç¯å¢ƒï¼Œå¦åˆ™å°±ä¼šæŠ¥é”™ã€‚<br>ä½†æ˜¯æ¢ä¸ªæ€è·¯æƒ³ï¼Œè¿™æ ·ä¹Ÿä¼šå¸¦æ¥ä¸€ä¸ªå¥½å¤„å°±æ˜¯é—´æ¥çš„ä¿æŠ¤äº†ä»£ç ã€‚è¿™ä¸ªå…·ä½“çš„å†…å®¹åé¢å¯ä»¥åœ¨å±•å¼€èŠèŠã€‚</li>
<li>è¿™é‡Œç¼–è¯‘çš„ Python å…¶å®åªæ˜¯ä¸€ä¸ªè°ƒè¯•ç¯å¢ƒï¼Œå› ä¸ºæ²¡æœ‰å¯ç”¨ PGO æ‰€ä»¥ç¼–è¯‘å¾ˆå¿«ï¼Œä½†æ˜¯ä¸èƒ½ç”¨äºç”Ÿäº§ç¯å¢ƒã€‚<br>å¦‚æœæƒ³æŠŠè¿™ä¸ªç‰ˆæœ¬çš„ Python ç”¨åœ¨ç”Ÿäº§ç¯å¢ƒï¼Œå¯ä»¥åœ¨ <code>./configure</code> çš„æ—¶å€™å¢åŠ  <code>--enable-optimizations</code> å‚æ•°ã€‚å…·ä½“å†…å®¹å¯å‚è€ƒ <span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL3B5dGhvbi9jcHl0aG9uI3Byb2ZpbGUtZ3VpZGVkLW9wdGltaXphdGlvbg==">profile-guided-optimization<i class="fa fa-external-link-alt"></i></span></li>
</ol>
]]></content>
  </entry>
  <entry>
    <title>æœ‰ç‚¹æ„æ€çš„ Python ç³»åˆ—äºŒ å†…ç½®ç±»å‹å¢åŠ é¢å¤–æ–¹æ³•</title>
    <url>/post/5f8a6fc4.html</url>
    <content><![CDATA[<p>æˆ‘ä»¬çŸ¥é“ï¼Œå¦‚æœæƒ³ç»™ä¸€ä¸ªè‡ªå®šä¹‰ç±»å‹å¢åŠ å¯¹åº”çš„æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥ä¿®æ”¹è¿™ä¸ªç±»å°±å¯ä»¥äº†ï¼Œä½†æ˜¯å¦‚æœæˆ‘ä»¬è¿™ä¸ªæ—¶å€™æƒ³ç»™å†…ç½®çš„ç±»å‹å¢åŠ ä¸€äº›è‡ªå®šä¹‰æ–¹æ³•å‘¢ï¼Ÿ</p>
<span id="more"></span>

<p>æ¯”å¦‚å¯¹äºå¯å˜ç±»å‹å¯¹è±¡ï¼Œæˆ‘ä»¬æƒ³å¢åŠ ä¸€ä¸ª <code>deepcopy</code> çš„æ–¹æ³•å®ç°æ·±æ‹·è´ï¼Œç±»ä¼¼<code>dd = &#123;&#39;a&#39;: [1, 2, 3]&#125;.deepcopy()</code> è¾¾åˆ° <code>dd = copy.deepcopy(&#123;&#39;a&#39;: [1, 2, 3]&#125;)</code> çš„æ•ˆæœï¼Œæ˜¾è€Œæ˜“è§çš„æ˜¯ç›´æ¥åœ¨ä¸€ä¸ª dict å¯¹è±¡ä¸Š <code>.deepcopy()</code> æ˜¯æ›´ä¼˜é›…çš„ã€‚ä½†æ˜¯äº‹ä¸æ„¿è¿ï¼Œæˆ‘ä»¬æ²¡æœ‰åŠæ³•é€šè¿‡å¸¸è§„æ‰‹æ®µç»™ dict å¢åŠ  <code>deepcopy()</code> æ–¹æ³•ã€‚</p>
<p>éš¾é“å°±çœŸçš„æ²¡æœ‰åŠæ³•å—ï¼Ÿä¸‹é¢è¿™æ®µä»£ç å¯ä»¥ä¼˜é›…çš„å®ç°ã€‚</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> ctypes</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PyType</span>(ctypes.Structure):</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PyObject</span>(ctypes.Structure):</span><br><span class="line">    Py_ssize_t = (</span><br><span class="line">        ctypes.c_int64 <span class="keyword">if</span> ctypes.sizeof(ctypes.c_void_p) == <span class="number">8</span> <span class="keyword">else</span> ctypes.c_int32</span><br><span class="line">    )</span><br><span class="line">    _fields_ = [</span><br><span class="line">        (<span class="string">&quot;ob_refcnt&quot;</span>, Py_ssize_t),</span><br><span class="line">        (<span class="string">&quot;ob_type&quot;</span>, ctypes.POINTER(PyType)),</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PyTypeObject</span>(<span class="title class_ inherited__">PyObject</span>):</span><br><span class="line">    _fields_ = [</span><br><span class="line">        (<span class="string">&quot;dict&quot;</span>, ctypes.POINTER(PyObject))</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">inject</span>(<span class="params">class_, method, force=<span class="literal">False</span></span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">_</span>(<span class="params">function</span>):</span><br><span class="line">        name_, dict_ = class_.__name__, class_.__dict__</span><br><span class="line">        proxy_dict = PyTypeObject.from_address(<span class="built_in">id</span>(dict_))</span><br><span class="line">        namespace = &#123;&#125;</span><br><span class="line">        ctypes.pythonapi.PyDict_SetItem(</span><br><span class="line">            ctypes.py_object(namespace),</span><br><span class="line">            ctypes.py_object(name_),</span><br><span class="line">            proxy_dict.<span class="built_in">dict</span></span><br><span class="line">        )</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> force <span class="keyword">and</span> namespace.get(name_, &#123;&#125;).get(method, <span class="literal">None</span>):</span><br><span class="line">            <span class="keyword">raise</span> RuntimeError(<span class="string">f&quot;å·²å­˜åœ¨æ–¹æ³• <span class="subst">&#123;class_.__name__&#125;</span>.<span class="subst">&#123;method&#125;</span>()&quot;</span>)</span><br><span class="line">        namespace[name_][method] = function</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> _</span><br></pre></td></tr></table></figure>

<p>è€Œä½¿ç”¨ä½¿ç”¨æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼Œæ¯”å¦‚ä¸Šé¢çš„ç»™ <code>dict</code> æ·»åŠ ä¸€ä¸ª <code>deepcopy()</code> å®ç°å­—å…¸çš„æ·±æ‹·è´</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> copy</span><br><span class="line"></span><br><span class="line"><span class="meta">@inject(<span class="params"><span class="built_in">dict</span>, <span class="string">&#x27;deepcopy&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">deepcopy</span>(<span class="params">d</span>):</span><br><span class="line">    <span class="keyword">return</span> copy.deepcopy(d)</span><br><span class="line"></span><br><span class="line"><span class="comment"># éªŒè¯ä¸€ä¸‹</span></span><br><span class="line">origin_dict = &#123;<span class="string">&quot;goods&quot;</span>: [<span class="string">&quot;apple&quot;</span>, <span class="string">&quot;orange&quot;</span>]&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;åˆå§‹å­—å…¸: <span class="subst">&#123;origin_dict&#125;</span>&quot;</span>) <span class="comment"># &#123;&#x27;goods&#x27;: [&#x27;apple&#x27;, &#x27;orange&#x27;]&#125;</span></span><br><span class="line"></span><br><span class="line">copy_dict = origin_dict.copy() <span class="comment"># è‡ªå¸¦çš„ copy() æµ…æ‹·è´</span></span><br><span class="line">deepcopy_dict = origin_dict.deepcopy() <span class="comment"># æ·»åŠ çš„ deepcopy() æ·±æ‹·è´</span></span><br><span class="line"></span><br><span class="line">origin_dict[<span class="string">&quot;goods&quot;</span>].append(<span class="string">&quot;banana&quot;</span>)</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;åˆå§‹å­—å…¸å˜æ›´: <span class="subst">&#123;origin_dict&#125;</span>&quot;</span>) <span class="comment"># &#123;&#x27;goods&#x27;: [&#x27;apple&#x27;, &#x27;orange&#x27;, &#x27;banana&#x27;]&#125;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;.copy() ç»“æœ: <span class="subst">&#123;copy_dict&#125;</span>&quot;</span>) <span class="comment"># &#123;&#x27;goods&#x27;: [&#x27;apple&#x27;, &#x27;orange&#x27;, &#x27;banana&#x27;]&#125;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="string">f&quot;.deepcopy() ç»“æœ: <span class="subst">&#123;deepcopy_dict&#125;</span>&quot;</span>) <span class="comment"># &#123;&#x27;goods&#x27;: [&#x27;apple&#x27;, &#x27;orange&#x27;]&#125;</span></span><br></pre></td></tr></table></figure>

<p>å†æˆ–è€…ç»™ <code>list</code> æ·»åŠ ä¸€ä¸ª <code>average()</code> æ–¹æ³•è®¡ç®—å¹³å‡æ•°</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@inject(<span class="params"><span class="built_in">list</span>, <span class="string">&#x27;average&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">average</span>(<span class="params">l</span>):</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">sum</span>(l) / <span class="built_in">len</span>(l)</span><br><span class="line"></span><br><span class="line">score = [<span class="number">95.0</span>, <span class="number">89.5</span>, <span class="number">77.0</span>, <span class="number">91.0</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(score.average())  <span class="comment"># 88.125</span></span><br></pre></td></tr></table></figure>

<p>å†æˆ–è€…ç»™å­—ç¬¦ä¸²æ·»åŠ ä¸€ä¸ª <code>json()</code> æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ <code>str.json()</code> å°†è¯¥å­—ç¬¦ä¸²æ ¼å¼åŒ–ä¸º <code>json</code> å¯¹è±¡ï¼ˆå½“ç„¶å‰ææ˜¯è¿™ä¸ªå­—ç¬¦ä¸²æ˜¯å¯ä»¥è¢«ååºåˆ—åŒ–ä¸º <code>json</code> å¯¹è±¡ï¼‰</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> json <span class="keyword">import</span> loads</span><br><span class="line"></span><br><span class="line"><span class="meta">@inject(<span class="params"><span class="built_in">str</span>, <span class="string">&#x27;json&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">json</span>(<span class="params">s</span>):</span><br><span class="line">    <span class="keyword">return</span> loads(s)</span><br><span class="line"></span><br><span class="line">info = <span class="string">&#x27;&#123;&quot;first_name&quot;: &quot;Michael&quot;, &quot;last_name&quot;: &quot;Rodgers&quot;, &quot;department&quot;: &quot;Marketing&quot;&#125;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(info.json()) <span class="comment"># &#123;&#x27;first_name&#x27;: &#x27;Michael&#x27;, &#x27;last_name&#x27;: &#x27;Rodgers&#x27;, &#x27;department&#x27;: &#x27;Marketing&#x27;&#125;</span></span><br></pre></td></tr></table></figure>

<p>åŒæ ·çš„ï¼Œæ¯”å¦‚ç»™ <code>int</code> ç±»å‹æ·»åŠ  <code>add(number)</code> æ–¹æ³•</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@inject(<span class="params"><span class="built_in">int</span>, <span class="string">&#x27;add&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">add</span>(<span class="params">i, number</span>):</span><br><span class="line">    <span class="keyword">return</span> i + number</span><br><span class="line"></span><br><span class="line">munber = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span>(number.add(<span class="number">3</span>)) <span class="comment"># 8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># è¿˜å¯ä»¥è¿›è¡Œé“¾å¼è°ƒç”¨</span></span><br><span class="line"><span class="built_in">print</span>(munber.add(<span class="number">3</span>).add(<span class="number">7</span>).add(-<span class="number">1</span>)) <span class="comment"># 14</span></span><br></pre></td></tr></table></figure>

<p>å½“ç„¶é™¤äº†å†…ç½®ç±»å‹ï¼Œä¹Ÿå¯ä»¥ä¿®è¡¥è‡ªå®šä¹‰ç±»å‹</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Number</span>(<span class="title class_ inherited__">object</span>):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, n</span>):</span><br><span class="line">        <span class="variable language_">self</span>.number = n</span><br><span class="line"></span><br><span class="line"><span class="meta">@inject(<span class="params">Number, <span class="string">&#x27;sub&#x27;</span></span>)</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sub</span>(<span class="params">n, num</span>):</span><br><span class="line">    <span class="keyword">return</span> Number(n.number - num)</span><br><span class="line"></span><br><span class="line">number = Number(<span class="number">10</span>)</span><br><span class="line"><span class="built_in">print</span>(number.sub(<span class="number">3</span>).sub(<span class="number">5</span>).number)  <span class="comment"># 2</span></span><br></pre></td></tr></table></figure>

<!-- more -->
]]></content>
  </entry>
  <entry>
    <title>æµ‹è¯•åŠ å¯†æ–‡ç« </title>
    <url>/post/19c1a188.html</url>
    <content><![CDATA[<div class="encrypted-post-container" 
    data-ciphertext="Y9qxiCB1V8iQPR0RSETXdcOP5Qi4HvzZEwcHXxE2coYI89xQa24Uu8oR+GS35m9QhS/bSfncuwvE0qR8bbVM5+tPlIBDjO4o2uL2ZoG+rZOq+AX71FdXM5SVvoI5ocM9PTdAYb/NXJ0AaMtOLMWIhfYnjuBpBgQnbdFcSJZ0r3mtRNIGSdOHZvHSr5Y7WBJb2oZNR2k="
    data-iv="S9XfquKb25qf3LIK"
    data-auth-tag="C5vb2zGKyoJtdLZllqUb3g=="
    data-abbrlink="19c1a188"
    data-wrapped-keys='[{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;MuZtZ/IFSr+S4DB4tJVeiFQQNVJxBg9b7d6bA1IgzdI=&quot;,&quot;iv&quot;:&quot;RKTxVUlfM4ONnWS/&quot;,&quot;authTag&quot;:&quot;IXTWo8YdF/zg64iltbOl7g==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;iX9Tk7gDt5Ww6dRp/nLTtsXqAgAEEqciuMcGNpbNalk=&quot;,&quot;iv&quot;:&quot;BrRWGt2a4nPViZAr&quot;,&quot;authTag&quot;:&quot;LEoNj/VUqdeYGDkHAX02FA==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;n9Noo01gw6NxYrGCayBchUnHiJ267Hjpcs9pHsMrYe4=&quot;,&quot;iv&quot;:&quot;5ldL0wRRf2fPmtmG&quot;,&quot;authTag&quot;:&quot;yX/NaagCH2yZuVOoW8sqjA==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;LfyyQvsLAmEQ1Ei9IkIYhogsDen3HAMtzmxt/7ehUDI=&quot;,&quot;iv&quot;:&quot;GZR5DNwMlOqCE517&quot;,&quot;authTag&quot;:&quot;9QM6vOdhRn5xvhcB1DBi3Q==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;yekoO/0m/LssF4yeAwt2UziSwm30StV3b44kShInnDc=&quot;,&quot;iv&quot;:&quot;kjK/5C5yS/9wyWIO&quot;,&quot;authTag&quot;:&quot;iJ/SAWABSunCZtNKfocqNQ==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;MM4E3jkFA/61ObW7/f8dnqlgtKjx2R+rJWPMgtZfhJ8=&quot;,&quot;iv&quot;:&quot;PI/dyrVNccEn/c56&quot;,&quot;authTag&quot;:&quot;R5hf0EK/dVGiVcJDIKA4rA==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;z5WTIBUr9rJbrJKsAoghoJqZFJs5nYS+YltWcXvAFa0=&quot;,&quot;iv&quot;:&quot;W5q+rz8MkwJIj4uI&quot;,&quot;authTag&quot;:&quot;8rk1D3vAOOYW9mQu3pthlQ==&quot;},{&quot;type&quot;:&quot;password&quot;,&quot;encryptedCEK&quot;:&quot;sEKNa6peZEU/w/PW75NyuQC2Z7j647Ne3nIIcrBtcgA=&quot;,&quot;iv&quot;:&quot;CnAdf+nh6jpka/Of&quot;,&quot;authTag&quot;:&quot;k8VwkzfG2sZREmjqbtQtpA==&quot;,&quot;salt&quot;:&quot;1be53724816528d8cc0547ca98dfcc2649f00b343011a7d07f4633d72252943b&quot;}]'
    data-prf-salt="1be53724816528d8cc0547ca98dfcc2649f00b343011a7d07f4633d72252943b"
    data-cache="15"
    data-password-hint="å¯†ç  123456">
  <div class="encrypted-post-notice">
    <div class="decrypt-methods"><button class="decrypt-btn" id="fido2-verify-btn"><i class="fa fa-fingerprint"></i> é€šè¡Œå¯†é’¥éªŒè¯</button><div class="password-decrypt-group">
        <button class="decrypt-btn" id="show-password-btn"><i class="fa fa-lock"></i> å¯†ç éªŒè¯</button>
        <div class="password-input-group" id="password-input-group" style="display:none">
          <input type="password" class="password-input" id="password-input" placeholder="è¾“å…¥å¯†ç " />
          <button class="decrypt-btn" id="password-decrypt-btn"><i class="fa fa-key"></i> ç¡®å®š</button>
        </div>
      </div></div>
    <div class="verification-status" id="verification-status"></div>
  </div>
  <div class="decrypted-content" id="decrypted-content" style="display:none"></div>
</div>]]></content>
  </entry>
  <entry>
    <title>è°ƒæ•´ macOS é¡¶éƒ¨èœå•æ å›¾æ ‡é—´è·</title>
    <url>/post/baaa1138.html</url>
    <content><![CDATA[<p>æ— éœ€ä»»ä½•ç¬¬ä¸‰æ–¹è½¯ä»¶ï¼Œé€šè¿‡ macOS å‘½ä»¤è¡Œå°±å¯ä»¥è°ƒæ•´é¡¶éƒ¨èœå•æ å›¾æ ‡é—´è·</p>
<span id="more"></span>

<figure class="highlight sh"><table><tr><td class="code"><pre><span class="line"><span class="comment"># æŸ¥è¯¢å½“å‰é—´è·</span></span><br><span class="line">defaults -currentHost <span class="built_in">read</span> -globalDomain NSStatusItemSpacing</span><br><span class="line"><span class="comment"># æŸ¥è¯¢å½“å‰å†…é—´è·</span></span><br><span class="line">defaults -currentHost <span class="built_in">read</span> -globalDomain NSStatusItemSelectionPadding</span><br><span class="line"><span class="comment"># æŒ‡å®šé—´è·</span></span><br><span class="line">defaults -currentHost write -globalDomain NSStatusItemSpacing -int 10</span><br><span class="line"><span class="comment"># æŒ‡å®šå†…é—´è·</span></span><br><span class="line">defaults -currentHost write -globalDomain NSStatusItemSelectionPadding -int 6</span><br><span class="line"><span class="comment"># æ¢å¤é»˜è®¤é—´è·</span></span><br><span class="line">defaults -currentHost delete -globalDomain NSStatusItemSpacing</span><br><span class="line"><span class="comment"># æ¢å¤é»˜è®¤å†…é—´è·</span></span><br><span class="line">defaults -currentHost delete -globalDomain NSStatusItemSelectionPadding</span><br></pre></td></tr></table></figure>
]]></content>
  </entry>
  <entry>
    <title>éª‘è¡Œå°å‡è„‚è¿›åº¦</title>
    <url>/post/7fa21f11.html</url>
    <content><![CDATA[<div class="encrypted-post-container" 
    data-ciphertext="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"
    data-iv="fTsg8gfAkRClDUAZ"
    data-auth-tag="M/wKV5siQlmt7eXmeE353g=="
    data-abbrlink="7fa21f11"
    data-wrapped-keys='[{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;wLHjBnrhR99IQNH+HZbhPxdjZGcVL97QiJlHQK+ifhw=&quot;,&quot;iv&quot;:&quot;M/ZeTGCgUFhfznum&quot;,&quot;authTag&quot;:&quot;zUaqP550jRXEnk85RpGc+w==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;d2B8KXdRdWFwp2OyMqmWRggsaap/kqT4zv33dW4J5I0=&quot;,&quot;iv&quot;:&quot;6VbvaIiaPH25SoFi&quot;,&quot;authTag&quot;:&quot;jL9fTFjJK3KUJCN3BDc65Q==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;9eQ3PXr0D+RL+19xDEcKyK3q7v5YtkwKoKEC9E3oj1o=&quot;,&quot;iv&quot;:&quot;fy01co9uLSPVVrdm&quot;,&quot;authTag&quot;:&quot;SleHP0Db8X69GdwCZ83qrA==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;VC8rMW00Nrvl2baOxL83sZo/6IQhzN19KZ0K3XzfYJY=&quot;,&quot;iv&quot;:&quot;wMjFbKVlpikzwGZ8&quot;,&quot;authTag&quot;:&quot;kYoyXSqyOjBY0kO8MAO62Q==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;9J3uM/kb+PnJNf/l7dJ5JakKFju4KC0no1KO5h+/BZE=&quot;,&quot;iv&quot;:&quot;87riyTVJJJkP97A2&quot;,&quot;authTag&quot;:&quot;CSfXFftUPWcFCSWie2mn2Q==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;EmQjYrDPFEYsbz9h9ZhGmkTsPT9xyYsda/cUZv9wzEg=&quot;,&quot;iv&quot;:&quot;7eb6XdYh9qXOrF+l&quot;,&quot;authTag&quot;:&quot;1R8IyJWjBieFwiZDbXNtaQ==&quot;},{&quot;type&quot;:&quot;fido2&quot;,&quot;encryptedCEK&quot;:&quot;yGEjIUxpV+KO8g3Wg70dyiFRCHjbXaCLp+WjGCq65d0=&quot;,&quot;iv&quot;:&quot;RESF3SqZVR9CDThK&quot;,&quot;authTag&quot;:&quot;HmAsPHkPZNTs68bwuc5GNg==&quot;}]'
    data-prf-salt="1be53724816528d8cc0547ca98dfcc2649f00b343011a7d07f4633d72252943b"
    data-cache="15"
    data-password-hint="">
  <div class="encrypted-post-notice">
    <div class="decrypt-methods"><button class="decrypt-btn" id="fido2-verify-btn"><i class="fa fa-fingerprint"></i> é€šè¡Œå¯†é’¥éªŒè¯</button></div>
    <div class="verification-status" id="verification-status"></div>
  </div>
  <div class="decrypted-content" id="decrypted-content" style="display:none"></div>
</div>]]></content>
  </entry>
</search>
